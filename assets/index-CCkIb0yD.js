(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();var Mu={exports:{}},mi={};var bm;function u0(){if(bm)return mi;bm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:i,type:l,key:f,ref:c!==void 0?c:null,props:d}}return mi.Fragment=n,mi.jsx=r,mi.jsxs=r,mi}var _m;function c0(){return _m||(_m=1,Mu.exports=u0()),Mu.exports}var v=c0(),Bu={exports:{}},re={};var wm;function d0(){if(wm)return re;wm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function S(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,H={};function G(T,L,X){this.props=T,this.context=L,this.refs=H,this.updater=X||A}G.prototype.isReactComponent={},G.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},G.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function Y(){}Y.prototype=G.prototype;function D(T,L,X){this.props=T,this.context=L,this.refs=H,this.updater=X||A}var K=D.prototype=new Y;K.constructor=D,C(K,G.prototype),K.isPureReactComponent=!0;var le=Array.isArray;function ee(){}var J={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function Ce(T,L,X){var I=X.ref;return{$$typeof:i,type:T,key:L,ref:I!==void 0?I:null,props:X}}function De(T,L){return Ce(T.type,L,T.props)}function Se(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function Ue(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return L[X]})}var Q=/\/+/g;function $(T,L){return typeof T=="object"&&T!==null&&T.key!=null?Ue(""+T.key):L.toString(36)}function ie(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ee,ee):(T.status="pending",T.then(function(L){T.status==="pending"&&(T.status="fulfilled",T.value=L)},function(L){T.status==="pending"&&(T.status="rejected",T.reason=L)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function k(T,L,X,I,oe){var de=typeof T;(de==="undefined"||de==="boolean")&&(T=null);var Ee=!1;if(T===null)Ee=!0;else switch(de){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(T.$$typeof){case i:case n:Ee=!0;break;case b:return Ee=T._init,k(Ee(T._payload),L,X,I,oe)}}if(Ee)return oe=oe(T),Ee=I===""?"."+$(T,0):I,le(oe)?(X="",Ee!=null&&(X=Ee.replace(Q,"$&/")+"/"),k(oe,L,X,"",function(ws){return ws})):oe!=null&&(Se(oe)&&(oe=De(oe,X+(oe.key==null||T&&T.key===oe.key?"":(""+oe.key).replace(Q,"$&/")+"/")+Ee)),L.push(oe)),1;Ee=0;var ct=I===""?".":I+":";if(le(T))for(var Ge=0;Ge<T.length;Ge++)I=T[Ge],de=ct+$(I,Ge),Ee+=k(I,L,X,de,oe);else if(Ge=S(T),typeof Ge=="function")for(T=Ge.call(T),Ge=0;!(I=T.next()).done;)I=I.value,de=ct+$(I,Ge++),Ee+=k(I,L,X,de,oe);else if(de==="object"){if(typeof T.then=="function")return k(ie(T),L,X,I,oe);throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function V(T,L,X){if(T==null)return T;var I=[],oe=0;return k(T,I,"","",function(de){return L.call(X,de,oe++)}),I}function te(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var ye=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},ve={map:V,forEach:function(T,L,X){V(T,function(){L.apply(this,arguments)},X)},count:function(T){var L=0;return V(T,function(){L++}),L},toArray:function(T){return V(T,function(L){return L})||[]},only:function(T){if(!Se(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return re.Activity=_,re.Children=ve,re.Component=G,re.Fragment=r,re.Profiler=c,re.PureComponent=D,re.StrictMode=l,re.Suspense=p,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,re.__COMPILER_RUNTIME={__proto__:null,c:function(T){return J.H.useMemoCache(T)}},re.cache=function(T){return function(){return T.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(T,L,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var I=C({},T.props),oe=T.key;if(L!=null)for(de in L.key!==void 0&&(oe=""+L.key),L)!be.call(L,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&L.ref===void 0||(I[de]=L[de]);var de=arguments.length-2;if(de===1)I.children=X;else if(1<de){for(var Ee=Array(de),ct=0;ct<de;ct++)Ee[ct]=arguments[ct+2];I.children=Ee}return Ce(T.type,oe,I)},re.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:d,_context:T},T},re.createElement=function(T,L,X){var I,oe={},de=null;if(L!=null)for(I in L.key!==void 0&&(de=""+L.key),L)be.call(L,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(oe[I]=L[I]);var Ee=arguments.length-2;if(Ee===1)oe.children=X;else if(1<Ee){for(var ct=Array(Ee),Ge=0;Ge<Ee;Ge++)ct[Ge]=arguments[Ge+2];oe.children=ct}if(T&&T.defaultProps)for(I in Ee=T.defaultProps,Ee)oe[I]===void 0&&(oe[I]=Ee[I]);return Ce(T,de,oe)},re.createRef=function(){return{current:null}},re.forwardRef=function(T){return{$$typeof:m,render:T}},re.isValidElement=Se,re.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:te}},re.memo=function(T,L){return{$$typeof:g,type:T,compare:L===void 0?null:L}},re.startTransition=function(T){var L=J.T,X={};J.T=X;try{var I=T(),oe=J.S;oe!==null&&oe(X,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(ee,ye)}catch(de){ye(de)}finally{L!==null&&X.types!==null&&(L.types=X.types),J.T=L}},re.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},re.use=function(T){return J.H.use(T)},re.useActionState=function(T,L,X){return J.H.useActionState(T,L,X)},re.useCallback=function(T,L){return J.H.useCallback(T,L)},re.useContext=function(T){return J.H.useContext(T)},re.useDebugValue=function(){},re.useDeferredValue=function(T,L){return J.H.useDeferredValue(T,L)},re.useEffect=function(T,L){return J.H.useEffect(T,L)},re.useEffectEvent=function(T){return J.H.useEffectEvent(T)},re.useId=function(){return J.H.useId()},re.useImperativeHandle=function(T,L,X){return J.H.useImperativeHandle(T,L,X)},re.useInsertionEffect=function(T,L){return J.H.useInsertionEffect(T,L)},re.useLayoutEffect=function(T,L){return J.H.useLayoutEffect(T,L)},re.useMemo=function(T,L){return J.H.useMemo(T,L)},re.useOptimistic=function(T,L){return J.H.useOptimistic(T,L)},re.useReducer=function(T,L,X){return J.H.useReducer(T,L,X)},re.useRef=function(T){return J.H.useRef(T)},re.useState=function(T){return J.H.useState(T)},re.useSyncExternalStore=function(T,L,X){return J.H.useSyncExternalStore(T,L,X)},re.useTransition=function(){return J.H.useTransition()},re.version="19.2.4",re}var Sm;function hc(){return Sm||(Sm=1,Bu.exports=d0()),Bu.exports}var z=hc(),qu={exports:{}},pi={},Lu={exports:{}},Hu={};var xm;function f0(){return xm||(xm=1,(function(i){function n(k,V){var te=k.length;k.push(V);e:for(;0<te;){var ye=te-1>>>1,ve=k[ye];if(0<c(ve,V))k[ye]=V,k[te]=ve,te=ye;else break e}}function r(k){return k.length===0?null:k[0]}function l(k){if(k.length===0)return null;var V=k[0],te=k.pop();if(te!==V){k[0]=te;e:for(var ye=0,ve=k.length,T=ve>>>1;ye<T;){var L=2*(ye+1)-1,X=k[L],I=L+1,oe=k[I];if(0>c(X,te))I<ve&&0>c(oe,X)?(k[ye]=oe,k[I]=te,ye=I):(k[ye]=X,k[L]=te,ye=L);else if(I<ve&&0>c(oe,te))k[ye]=oe,k[I]=te,ye=I;else break e}}return V}function c(k,V){var te=k.sortIndex-V.sortIndex;return te!==0?te:k.id-V.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],b=1,_=null,x=3,S=!1,A=!1,C=!1,H=!1,G=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function K(k){for(var V=r(g);V!==null;){if(V.callback===null)l(g);else if(V.startTime<=k)l(g),V.sortIndex=V.expirationTime,n(p,V);else break;V=r(g)}}function le(k){if(C=!1,K(k),!A)if(r(p)!==null)A=!0,ee||(ee=!0,Ue());else{var V=r(g);V!==null&&ie(le,V.startTime-k)}}var ee=!1,J=-1,be=5,Ce=-1;function De(){return H?!0:!(i.unstable_now()-Ce<be)}function Se(){if(H=!1,ee){var k=i.unstable_now();Ce=k;var V=!0;try{e:{A=!1,C&&(C=!1,Y(J),J=-1),S=!0;var te=x;try{t:{for(K(k),_=r(p);_!==null&&!(_.expirationTime>k&&De());){var ye=_.callback;if(typeof ye=="function"){_.callback=null,x=_.priorityLevel;var ve=ye(_.expirationTime<=k);if(k=i.unstable_now(),typeof ve=="function"){_.callback=ve,K(k),V=!0;break t}_===r(p)&&l(p),K(k)}else l(p);_=r(p)}if(_!==null)V=!0;else{var T=r(g);T!==null&&ie(le,T.startTime-k),V=!1}}break e}finally{_=null,x=te,S=!1}V=void 0}}finally{V?Ue():ee=!1}}}var Ue;if(typeof D=="function")Ue=function(){D(Se)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,$=Q.port2;Q.port1.onmessage=Se,Ue=function(){$.postMessage(null)}}else Ue=function(){G(Se,0)};function ie(k,V){J=G(function(){k(i.unstable_now())},V)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(k){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var te=x;x=V;try{return k()}finally{x=te}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(k,V){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var te=x;x=k;try{return V()}finally{x=te}},i.unstable_scheduleCallback=function(k,V,te){var ye=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ye+te:ye):te=ye,k){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=te+ve,k={id:b++,callback:V,priorityLevel:k,startTime:te,expirationTime:ve,sortIndex:-1},te>ye?(k.sortIndex=te,n(g,k),r(p)===null&&k===r(g)&&(C?(Y(J),J=-1):C=!0,ie(le,te-ye))):(k.sortIndex=ve,n(p,k),A||S||(A=!0,ee||(ee=!0,Ue()))),k},i.unstable_shouldYield=De,i.unstable_wrapCallback=function(k){var V=x;return function(){var te=x;x=V;try{return k.apply(this,arguments)}finally{x=te}}}})(Hu)),Hu}var Em;function h0(){return Em||(Em=1,Lu.exports=f0()),Lu.exports}var $u={exports:{}},ut={};var Tm;function m0(){if(Tm)return ut;Tm=1;var i=hc();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,g,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:p,containerInfo:g,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ut.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return d(p,g,null,b)},ut.flushSync=function(p){var g=f.T,b=l.p;try{if(f.T=null,l.p=2,p)return p()}finally{f.T=g,l.p=b,l.d.f()}},ut.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(p,g))},ut.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},ut.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,_=m(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?l.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:S}):b==="script"&&l.d.X(p,{crossOrigin:_,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ut.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);l.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(p)},ut.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,_=m(b,g.crossOrigin);l.d.L(p,b,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ut.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);l.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(p)},ut.requestFormReset=function(p){l.d.r(p)},ut.unstable_batchedUpdates=function(p,g){return p(g)},ut.useFormState=function(p,g,b){return f.H.useFormState(p,g,b)},ut.useFormStatus=function(){return f.H.useHostTransitionStatus()},ut.version="19.2.4",ut}var Am;function p0(){if(Am)return $u.exports;Am=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),$u.exports=m0(),$u.exports}var Om;function g0(){if(Om)return pi;Om=1;var i=h0(),n=hc(),r=p0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return p(o),e;if(u===s)return p(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=u;else{for(var h=!1,y=o.child;y;){if(y===a){h=!0,a=o,s=u;break}if(y===s){h=!0,s=o,a=u;break}y=y.sibling}if(!h){for(y=u.child;y;){if(y===a){h=!0,a=u,s=o;break}if(y===s){h=!0,s=u,a=o;break}y=y.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),D=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Ce=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function Ue(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Symbol.for("react.client.reference");function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case G:return"Profiler";case H:return"StrictMode";case le:return"Suspense";case ee:return"SuspenseList";case Ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case D:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:$(e.type)||"Memo";case be:t=e._payload,e=e._init;try{return $(e(t))}catch{}}return null}var ie=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ye=[],ve=-1;function T(e){return{current:e}}function L(e){0>ve||(e.current=ye[ve],ye[ve]=null,ve--)}function X(e,t){ve++,ye[ve]=e.current,e.current=t}var I=T(null),oe=T(null),de=T(null),Ee=T(null);function ct(e,t){switch(X(de,t),X(oe,e),X(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Gh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Gh(t),e=Vh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(I),X(I,e)}function Ge(){L(I),L(oe),L(de)}function ws(e){e.memoizedState!==null&&X(Ee,e);var t=I.current,a=Vh(t,e.type);t!==a&&(X(oe,e),X(I,a))}function Ni(e){oe.current===e&&(L(I),L(oe)),Ee.current===e&&(L(Ee),ci._currentValue=te)}var yl,yc;function Wa(e){if(yl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);yl=t&&t[1]||"",yc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yl+e+yc}var vl=!1;function bl(e,t){if(!e||vl)return"";vl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(U){var N=U}Reflect.construct(e,[],q)}else{try{q.call()}catch(U){N=U}e.call(q.prototype)}}else{try{throw Error()}catch(U){N=U}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(U){if(U&&N&&typeof U.stack=="string")return[U.stack,N.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),h=u[0],y=u[1];if(h&&y){var w=h.split(`
`),R=y.split(`
`);for(o=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(s===w.length||o===R.length)for(s=w.length-1,o=R.length-1;1<=s&&0<=o&&w[s]!==R[o];)o--;for(;1<=s&&0<=o;s--,o--)if(w[s]!==R[o]){if(s!==1||o!==1)do if(s--,o--,0>o||w[s]!==R[o]){var M=`
`+w[s].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=s&&0<=o);break}}}finally{vl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Wa(a):""}function Hp(e,t){switch(e.tag){case 26:case 27:case 5:return Wa(e.type);case 16:return Wa("Lazy");case 13:return e.child!==t&&t!==null?Wa("Suspense Fallback"):Wa("Suspense");case 19:return Wa("SuspenseList");case 0:case 15:return bl(e.type,!1);case 11:return bl(e.type.render,!1);case 1:return bl(e.type,!0);case 31:return Wa("Activity");default:return""}}function vc(e){try{var t="",a=null;do t+=Hp(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var _l=Object.prototype.hasOwnProperty,wl=i.unstable_scheduleCallback,Sl=i.unstable_cancelCallback,$p=i.unstable_shouldYield,Gp=i.unstable_requestPaint,bt=i.unstable_now,Vp=i.unstable_getCurrentPriorityLevel,bc=i.unstable_ImmediatePriority,_c=i.unstable_UserBlockingPriority,Ci=i.unstable_NormalPriority,Yp=i.unstable_LowPriority,wc=i.unstable_IdlePriority,Kp=i.log,Qp=i.unstable_setDisableYieldValue,Ss=null,_t=null;function wa(e){if(typeof Kp=="function"&&Qp(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Ss,e)}catch{}}var wt=Math.clz32?Math.clz32:Zp,Xp=Math.log,Jp=Math.LN2;function Zp(e){return e>>>=0,e===0?32:31-(Xp(e)/Jp|0)|0}var ki=256,Di=262144,Ui=4194304;function Pa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zi(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~u,s!==0?o=Pa(s):(h&=y,h!==0?o=Pa(h):a||(a=y&~e,a!==0&&(o=Pa(a))))):(y=s&~u,y!==0?o=Pa(y):h!==0?o=Pa(h):a||(a=s&~e,a!==0&&(o=Pa(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function xs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ip(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sc(){var e=Ui;return Ui<<=1,(Ui&62914560)===0&&(Ui=4194304),e}function xl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Es(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wp(e,t,a,s,o,u){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,R=e.hiddenUpdates;for(a=h&~a;0<a;){var M=31-wt(a),q=1<<M;y[M]=0,w[M]=-1;var N=R[M];if(N!==null)for(R[M]=null,M=0;M<N.length;M++){var U=N[M];U!==null&&(U.lane&=-536870913)}a&=~q}s!==0&&xc(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function xc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-wt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Ec(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-wt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Tc(e,t){var a=t&-t;return a=(a&42)!==0?1:El(a),(a&(e.suspendedLanes|t))!==0?0:a}function El(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ac(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:fm(e.type))}function Oc(e,t){var a=V.p;try{return V.p=e,t()}finally{V.p=a}}var Sa=Math.random().toString(36).slice(2),at="__reactFiber$"+Sa,ft="__reactProps$"+Sa,En="__reactContainer$"+Sa,Al="__reactEvents$"+Sa,Pp="__reactListeners$"+Sa,Fp="__reactHandles$"+Sa,jc="__reactResources$"+Sa,Ts="__reactMarker$"+Sa;function Ol(e){delete e[at],delete e[ft],delete e[Al],delete e[Pp],delete e[Fp]}function Tn(e){var t=e[at];if(t)return t;for(var a=e.parentNode;a;){if(t=a[En]||a[at]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ih(e);e!==null;){if(a=e[at])return a;e=Ih(e)}return t}e=a,a=e.parentNode}return null}function An(e){if(e=e[at]||e[En]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function As(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function On(e){var t=e[jc];return t||(t=e[jc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ts]=!0}var Rc=new Set,Nc={};function Fa(e,t){jn(e,t),jn(e+"Capture",t)}function jn(e,t){for(Nc[e]=t,e=0;e<t.length;e++)Rc.add(t[e])}var eg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},kc={};function tg(e){return _l.call(kc,e)?!0:_l.call(Cc,e)?!1:eg.test(e)?kc[e]=!0:(Cc[e]=!0,!1)}function Mi(e,t,a){if(tg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Bi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ft(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ag(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){a=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){if(!e._valueTracker){var t=Dc(e)?"checked":"value";e._valueTracker=ag(e,t,""+e[t])}}function Uc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Dc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function qi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ng=/[\n"\\]/g;function kt(e){return e.replace(ng,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Rl(e,t,a,s,o,u,h,y){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Nl(e,h,Ct(t)):a!=null?Nl(e,h,Ct(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Ct(y):e.removeAttribute("name")}function zc(e,t,a,s,o,u,h,y){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){jl(e);return}a=a!=null?""+Ct(a):"",t=t!=null?""+Ct(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),jl(e)}function Nl(e,t,a){t==="number"&&qi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Rn(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Ct(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Mc(e,t,a){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ct(a):""}function Bc(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(ie(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Ct(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),jl(e)}function Nn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var sg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||sg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Lc(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&qc(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&qc(e,u,t[u])}function Cl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(e){return rg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ea(){}var kl=null;function Dl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cn=null,kn=null;function Hc(e){var t=An(e);if(t&&(e=t.stateNode)){var a=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Rl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[ft]||null;if(!o)throw Error(l(90));Rl(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Uc(s)}break e;case"textarea":Mc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Rn(e,!!a.multiple,t,!1)}}}var Ul=!1;function $c(e,t,a){if(Ul)return e(t,a);Ul=!0;try{var s=e(t);return s}finally{if(Ul=!1,(Cn!==null||kn!==null)&&(Ar(),Cn&&(t=Cn,e=kn,kn=Cn=null,Hc(t),e)))for(t=0;t<e.length;t++)Hc(e[t])}}function Os(e,t){var a=e.stateNode;if(a===null)return null;var s=a[ft]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=!1;if(ta)try{var js={};Object.defineProperty(js,"passive",{get:function(){zl=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{zl=!1}var xa=null,Ml=null,Hi=null;function Gc(){if(Hi)return Hi;var e,t=Ml,a=t.length,s,o="value"in xa?xa.value:xa.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var h=a-e;for(s=1;s<=h&&t[a-s]===o[u-s];s++);return Hi=o.slice(e,1<s?1-s:void 0)}function $i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Vc(){return!1}function ht(e){function t(a,s,o,u,h){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Gi:Vc,this.isPropagationStopped=Vc,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),t}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=ht(en),Rs=_({},en,{view:0,detail:0}),lg=ht(Rs),Bl,ql,Ns,Yi=_({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ns&&(Ns&&e.type==="mousemove"?(Bl=e.screenX-Ns.screenX,ql=e.screenY-Ns.screenY):ql=Bl=0,Ns=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:ql}}),Yc=ht(Yi),og=_({},Yi,{dataTransfer:0}),ug=ht(og),cg=_({},Rs,{relatedTarget:0}),Ll=ht(cg),dg=_({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),fg=ht(dg),hg=_({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mg=ht(hg),pg=_({},en,{data:0}),Kc=ht(pg),gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vg[e])?!!t[e]:!1}function Hl(){return bg}var _g=_({},Rs,{key:function(e){if(e.key){var t=gg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(e){return e.type==="keypress"?$i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wg=ht(_g),Sg=_({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=ht(Sg),xg=_({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),Eg=ht(xg),Tg=_({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ag=ht(Tg),Og=_({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jg=ht(Og),Rg=_({},en,{newState:0,oldState:0}),Ng=ht(Rg),Cg=[9,13,27,32],$l=ta&&"CompositionEvent"in window,Cs=null;ta&&"documentMode"in document&&(Cs=document.documentMode);var kg=ta&&"TextEvent"in window&&!Cs,Xc=ta&&(!$l||Cs&&8<Cs&&11>=Cs),Jc=" ",Zc=!1;function Ic(e,t){switch(e){case"keyup":return Cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function Dg(e,t){switch(e){case"compositionend":return Wc(t);case"keypress":return t.which!==32?null:(Zc=!0,Jc);case"textInput":return e=t.data,e===Jc&&Zc?null:e;default:return null}}function Ug(e,t){if(Dn)return e==="compositionend"||!$l&&Ic(e,t)?(e=Gc(),Hi=Ml=xa=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xc&&t.locale!=="ko"?null:t.data;default:return null}}var zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zg[e.type]:t==="textarea"}function Fc(e,t,a,s){Cn?kn?kn.push(s):kn=[s]:Cn=s,t=Dr(t,"onChange"),0<t.length&&(a=new Vi("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var ks=null,Ds=null;function Mg(e){Mh(e,0)}function Ki(e){var t=As(e);if(Uc(t))return e}function ed(e,t){if(e==="change")return t}var td=!1;if(ta){var Gl;if(ta){var Vl="oninput"in document;if(!Vl){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),Vl=typeof ad.oninput=="function"}Gl=Vl}else Gl=!1;td=Gl&&(!document.documentMode||9<document.documentMode)}function nd(){ks&&(ks.detachEvent("onpropertychange",sd),Ds=ks=null)}function sd(e){if(e.propertyName==="value"&&Ki(Ds)){var t=[];Fc(t,Ds,e,Dl(e)),$c(Mg,t)}}function Bg(e,t,a){e==="focusin"?(nd(),ks=t,Ds=a,ks.attachEvent("onpropertychange",sd)):e==="focusout"&&nd()}function qg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(Ds)}function Lg(e,t){if(e==="click")return Ki(t)}function Hg(e,t){if(e==="input"||e==="change")return Ki(t)}function $g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:$g;function Us(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!_l.call(t,o)||!St(e[o],t[o]))return!1}return!0}function id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var a=id(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=id(a)}}function ld(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ld(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function od(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=qi(e.document)}return t}function Yl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gg=ta&&"documentMode"in document&&11>=document.documentMode,Un=null,Kl=null,zs=null,Ql=!1;function ud(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ql||Un==null||Un!==qi(s)||(s=Un,"selectionStart"in s&&Yl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),zs&&Us(zs,s)||(zs=s,s=Dr(Kl,"onSelect"),0<s.length&&(t=new Vi("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Un)))}function tn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var zn={animationend:tn("Animation","AnimationEnd"),animationiteration:tn("Animation","AnimationIteration"),animationstart:tn("Animation","AnimationStart"),transitionrun:tn("Transition","TransitionRun"),transitionstart:tn("Transition","TransitionStart"),transitioncancel:tn("Transition","TransitionCancel"),transitionend:tn("Transition","TransitionEnd")},Xl={},cd={};ta&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function an(e){if(Xl[e])return Xl[e];if(!zn[e])return e;var t=zn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in cd)return Xl[e]=t[a];return e}var dd=an("animationend"),fd=an("animationiteration"),hd=an("animationstart"),Vg=an("transitionrun"),Yg=an("transitionstart"),Kg=an("transitioncancel"),md=an("transitionend"),pd=new Map,Jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jl.push("scrollEnd");function $t(e,t){pd.set(e,t),Fa(t,[e])}var Qi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],Mn=0,Zl=0;function Xi(){for(var e=Mn,t=Zl=Mn=0;t<e;){var a=Dt[t];Dt[t++]=null;var s=Dt[t];Dt[t++]=null;var o=Dt[t];Dt[t++]=null;var u=Dt[t];if(Dt[t++]=null,s!==null&&o!==null){var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}u!==0&&gd(a,o,u)}}function Ji(e,t,a,s){Dt[Mn++]=e,Dt[Mn++]=t,Dt[Mn++]=a,Dt[Mn++]=s,Zl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Il(e,t,a,s){return Ji(e,t,a,s),Zi(e)}function nn(e,t){return Ji(e,null,null,t),Zi(e)}function gd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-wt(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function Zi(e){if(50<ni)throw ni=0,ru=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Bn={};function Qg(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,a,s){return new Qg(e,t,a,s)}function Wl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aa(e,t){var a=e.alternate;return a===null?(a=xt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function yd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ii(e,t,a,s,o,u){var h=0;if(s=e,typeof e=="function")Wl(e)&&(h=1);else if(typeof e=="string")h=Wy(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ce:return e=xt(31,a,t,o),e.elementType=Ce,e.lanes=u,e;case C:return sn(a.children,o,u,t);case H:h=8,o|=24;break;case G:return e=xt(12,a,t,o|2),e.elementType=G,e.lanes=u,e;case le:return e=xt(13,a,t,o),e.elementType=le,e.lanes=u,e;case ee:return e=xt(19,a,t,o),e.elementType=ee,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:h=10;break e;case Y:h=9;break e;case K:h=11;break e;case J:h=14;break e;case be:h=16,s=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=xt(h,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function sn(e,t,a,s){return e=xt(7,e,s,t),e.lanes=a,e}function Pl(e,t,a){return e=xt(6,e,null,t),e.lanes=a,e}function vd(e){var t=xt(18,null,null,0);return t.stateNode=e,t}function Fl(e,t,a){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bd=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var a=bd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:vc(t)},bd.set(e,t),t)}return{value:e,source:t,stack:vc(t)}}var qn=[],Ln=0,Wi=null,Ms=0,zt=[],Mt=0,Ea=null,Xt=1,Jt="";function na(e,t){qn[Ln++]=Ms,qn[Ln++]=Wi,Wi=e,Ms=t}function _d(e,t,a){zt[Mt++]=Xt,zt[Mt++]=Jt,zt[Mt++]=Ea,Ea=e;var s=Xt;e=Jt;var o=32-wt(s)-1;s&=~(1<<o),a+=1;var u=32-wt(t)+o;if(30<u){var h=o-o%5;u=(s&(1<<h)-1).toString(32),s>>=h,o-=h,Xt=1<<32-wt(t)+o|a<<o|s,Jt=u+e}else Xt=1<<u|a<<o|s,Jt=e}function eo(e){e.return!==null&&(na(e,1),_d(e,1,0))}function to(e){for(;e===Wi;)Wi=qn[--Ln],qn[Ln]=null,Ms=qn[--Ln],qn[Ln]=null;for(;e===Ea;)Ea=zt[--Mt],zt[Mt]=null,Jt=zt[--Mt],zt[Mt]=null,Xt=zt[--Mt],zt[Mt]=null}function wd(e,t){zt[Mt++]=Xt,zt[Mt++]=Jt,zt[Mt++]=Ea,Xt=t.id,Jt=t.overflow,Ea=e}var nt=null,Me=null,ge=!1,Ta=null,Bt=!1,ao=Error(l(519));function Aa(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bs(Ut(t,e)),ao}function Sd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[at]=e,t[ft]=s,a){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(a=0;a<ii.length;a++)he(ii[a],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),zc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),Bc(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Hh(t.textContent,a)?(s.popover!=null&&(he("beforetoggle",t),he("toggle",t)),s.onScroll!=null&&he("scroll",t),s.onScrollEnd!=null&&he("scrollend",t),s.onClick!=null&&(t.onclick=ea),t=!0):t=!1,t||Aa(e,!0)}function xd(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:nt=nt.return}}function Hn(e){if(e!==nt)return!1;if(!ge)return xd(e),ge=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wu(e.type,e.memoizedProps)),a=!a),a&&Me&&Aa(e),xd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Zh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Zh(e)}else t===27?(t=Me,Ha(e.type)?(e=Au,Au=null,Me=e):Me=t):Me=nt?Lt(e.stateNode.nextSibling):null;return!0}function rn(){Me=nt=null,ge=!1}function no(){var e=Ta;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),Ta=null),e}function Bs(e){Ta===null?Ta=[e]:Ta.push(e)}var so=T(null),ln=null,sa=null;function Oa(e,t,a){X(so,t._currentValue),t._currentValue=a}function ia(e){e._currentValue=so.current,L(so)}function io(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function ro(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var y=u;u=o;for(var w=0;w<t.length;w++)if(y.context===t[w]){u.lanes|=a,y=u.alternate,y!==null&&(y.lanes|=a),io(u.return,a,e),s||(h=null);break e}u=y.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(l(341));h.lanes|=a,u=h.alternate,u!==null&&(u.lanes|=a),io(h,a,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function $n(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var y=o.type;St(o.pendingProps.value,h.value)||(e!==null?e.push(y):e=[y])}}else if(o===Ee.current){if(h=o.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ci):e=[ci])}o=o.return}e!==null&&ro(t,e,a,s),t.flags|=262144}function Pi(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function on(e){ln=e,sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return Ed(ln,e)}function Fi(e,t){return ln===null&&on(e),Ed(e,t)}function Ed(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},sa===null){if(e===null)throw Error(l(308));sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sa=sa.next=t;return a}var Xg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Jg=i.unstable_scheduleCallback,Zg=i.unstable_NormalPriority,Qe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lo(){return{controller:new Xg,data:new Map,refCount:0}}function qs(e){e.refCount--,e.refCount===0&&Jg(Zg,function(){e.controller.abort()})}var Ls=null,oo=0,Gn=0,Vn=null;function Ig(e,t){if(Ls===null){var a=Ls=[];oo=0,Gn=fu(),Vn={status:"pending",value:void 0,then:function(s){a.push(s)}}}return oo++,t.then(Td,Td),t}function Td(){if(--oo===0&&Ls!==null){Vn!==null&&(Vn.status="fulfilled");var e=Ls;Ls=null,Gn=0,Vn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wg(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Ad=k.S;k.S=function(e,t){ch=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ig(e,t),Ad!==null&&Ad(e,t)};var un=T(null);function uo(){var e=un.current;return e!==null?e:ke.pooledCache}function er(e,t){t===null?X(un,un.current):X(un,t.pool)}function Od(){var e=uo();return e===null?null:{parent:Qe._currentValue,pool:e}}var Yn=Error(l(460)),co=Error(l(474)),tr=Error(l(542)),ar={then:function(){}};function jd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ea,ea),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e;default:if(typeof t.status=="string")t.then(ea,ea);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e}throw dn=t,Yn}}function cn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(dn=a,Yn):a}}var dn=null;function Nd(){if(dn===null)throw Error(l(459));var e=dn;return dn=null,e}function Cd(e){if(e===Yn||e===tr)throw Error(l(483))}var Kn=null,Hs=0;function nr(e){var t=Hs;return Hs+=1,Kn===null&&(Kn=[]),Rd(Kn,e,t)}function $s(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sr(e,t){throw t.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function kd(e){function t(O,E){if(e){var j=O.deletions;j===null?(O.deletions=[E],O.flags|=16):j.push(E)}}function a(O,E){if(!e)return null;for(;E!==null;)t(O,E),E=E.sibling;return null}function s(O){for(var E=new Map;O!==null;)O.key!==null?E.set(O.key,O):E.set(O.index,O),O=O.sibling;return E}function o(O,E){return O=aa(O,E),O.index=0,O.sibling=null,O}function u(O,E,j){return O.index=j,e?(j=O.alternate,j!==null?(j=j.index,j<E?(O.flags|=67108866,E):j):(O.flags|=67108866,E)):(O.flags|=1048576,E)}function h(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function y(O,E,j,B){return E===null||E.tag!==6?(E=Pl(j,O.mode,B),E.return=O,E):(E=o(E,j),E.return=O,E)}function w(O,E,j,B){var F=j.type;return F===C?M(O,E,j.props.children,B,j.key):E!==null&&(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===be&&cn(F)===E.type)?(E=o(E,j.props),$s(E,j),E.return=O,E):(E=Ii(j.type,j.key,j.props,null,O.mode,B),$s(E,j),E.return=O,E)}function R(O,E,j,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==j.containerInfo||E.stateNode.implementation!==j.implementation?(E=Fl(j,O.mode,B),E.return=O,E):(E=o(E,j.children||[]),E.return=O,E)}function M(O,E,j,B,F){return E===null||E.tag!==7?(E=sn(j,O.mode,B,F),E.return=O,E):(E=o(E,j),E.return=O,E)}function q(O,E,j){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Pl(""+E,O.mode,j),E.return=O,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S:return j=Ii(E.type,E.key,E.props,null,O.mode,j),$s(j,E),j.return=O,j;case A:return E=Fl(E,O.mode,j),E.return=O,E;case be:return E=cn(E),q(O,E,j)}if(ie(E)||Ue(E))return E=sn(E,O.mode,j,null),E.return=O,E;if(typeof E.then=="function")return q(O,nr(E),j);if(E.$$typeof===D)return q(O,Fi(O,E),j);sr(O,E)}return null}function N(O,E,j,B){var F=E!==null?E.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return F!==null?null:y(O,E,""+j,B);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===F?w(O,E,j,B):null;case A:return j.key===F?R(O,E,j,B):null;case be:return j=cn(j),N(O,E,j,B)}if(ie(j)||Ue(j))return F!==null?null:M(O,E,j,B,null);if(typeof j.then=="function")return N(O,E,nr(j),B);if(j.$$typeof===D)return N(O,E,Fi(O,j),B);sr(O,j)}return null}function U(O,E,j,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return O=O.get(j)||null,y(E,O,""+B,F);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return O=O.get(B.key===null?j:B.key)||null,w(E,O,B,F);case A:return O=O.get(B.key===null?j:B.key)||null,R(E,O,B,F);case be:return B=cn(B),U(O,E,j,B,F)}if(ie(B)||Ue(B))return O=O.get(j)||null,M(E,O,B,F,null);if(typeof B.then=="function")return U(O,E,j,nr(B),F);if(B.$$typeof===D)return U(O,E,j,Fi(E,B),F);sr(E,B)}return null}function Z(O,E,j,B){for(var F=null,_e=null,W=E,ce=E=0,pe=null;W!==null&&ce<j.length;ce++){W.index>ce?(pe=W,W=null):pe=W.sibling;var we=N(O,W,j[ce],B);if(we===null){W===null&&(W=pe);break}e&&W&&we.alternate===null&&t(O,W),E=u(we,E,ce),_e===null?F=we:_e.sibling=we,_e=we,W=pe}if(ce===j.length)return a(O,W),ge&&na(O,ce),F;if(W===null){for(;ce<j.length;ce++)W=q(O,j[ce],B),W!==null&&(E=u(W,E,ce),_e===null?F=W:_e.sibling=W,_e=W);return ge&&na(O,ce),F}for(W=s(W);ce<j.length;ce++)pe=U(W,O,ce,j[ce],B),pe!==null&&(e&&pe.alternate!==null&&W.delete(pe.key===null?ce:pe.key),E=u(pe,E,ce),_e===null?F=pe:_e.sibling=pe,_e=pe);return e&&W.forEach(function(Ka){return t(O,Ka)}),ge&&na(O,ce),F}function ae(O,E,j,B){if(j==null)throw Error(l(151));for(var F=null,_e=null,W=E,ce=E=0,pe=null,we=j.next();W!==null&&!we.done;ce++,we=j.next()){W.index>ce?(pe=W,W=null):pe=W.sibling;var Ka=N(O,W,we.value,B);if(Ka===null){W===null&&(W=pe);break}e&&W&&Ka.alternate===null&&t(O,W),E=u(Ka,E,ce),_e===null?F=Ka:_e.sibling=Ka,_e=Ka,W=pe}if(we.done)return a(O,W),ge&&na(O,ce),F;if(W===null){for(;!we.done;ce++,we=j.next())we=q(O,we.value,B),we!==null&&(E=u(we,E,ce),_e===null?F=we:_e.sibling=we,_e=we);return ge&&na(O,ce),F}for(W=s(W);!we.done;ce++,we=j.next())we=U(W,O,ce,we.value,B),we!==null&&(e&&we.alternate!==null&&W.delete(we.key===null?ce:we.key),E=u(we,E,ce),_e===null?F=we:_e.sibling=we,_e=we);return e&&W.forEach(function(o0){return t(O,o0)}),ge&&na(O,ce),F}function Re(O,E,j,B){if(typeof j=="object"&&j!==null&&j.type===C&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:e:{for(var F=j.key;E!==null;){if(E.key===F){if(F=j.type,F===C){if(E.tag===7){a(O,E.sibling),B=o(E,j.props.children),B.return=O,O=B;break e}}else if(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===be&&cn(F)===E.type){a(O,E.sibling),B=o(E,j.props),$s(B,j),B.return=O,O=B;break e}a(O,E);break}else t(O,E);E=E.sibling}j.type===C?(B=sn(j.props.children,O.mode,B,j.key),B.return=O,O=B):(B=Ii(j.type,j.key,j.props,null,O.mode,B),$s(B,j),B.return=O,O=B)}return h(O);case A:e:{for(F=j.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===j.containerInfo&&E.stateNode.implementation===j.implementation){a(O,E.sibling),B=o(E,j.children||[]),B.return=O,O=B;break e}else{a(O,E);break}else t(O,E);E=E.sibling}B=Fl(j,O.mode,B),B.return=O,O=B}return h(O);case be:return j=cn(j),Re(O,E,j,B)}if(ie(j))return Z(O,E,j,B);if(Ue(j)){if(F=Ue(j),typeof F!="function")throw Error(l(150));return j=F.call(j),ae(O,E,j,B)}if(typeof j.then=="function")return Re(O,E,nr(j),B);if(j.$$typeof===D)return Re(O,E,Fi(O,j),B);sr(O,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,E!==null&&E.tag===6?(a(O,E.sibling),B=o(E,j),B.return=O,O=B):(a(O,E),B=Pl(j,O.mode,B),B.return=O,O=B),h(O)):a(O,E)}return function(O,E,j,B){try{Hs=0;var F=Re(O,E,j,B);return Kn=null,F}catch(W){if(W===Yn||W===tr)throw W;var _e=xt(29,W,null,O.mode);return _e.lanes=B,_e.return=O,_e}}}var fn=kd(!0),Dd=kd(!1),ja=!1;function fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Na(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(xe&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Zi(e),gd(e,null,a),t}return Ji(e,s,t,a),Zi(e)}function Gs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ec(e,a)}}function mo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var po=!1;function Vs(){if(po){var e=Vn;if(e!==null)throw e}}function Ys(e,t,a,s){po=!1;var o=e.updateQueue;ja=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var w=y,R=w.next;w.next=null,h===null?u=R:h.next=R,h=w;var M=e.alternate;M!==null&&(M=M.updateQueue,y=M.lastBaseUpdate,y!==h&&(y===null?M.firstBaseUpdate=R:y.next=R,M.lastBaseUpdate=w))}if(u!==null){var q=o.baseState;h=0,M=R=w=null,y=u;do{var N=y.lane&-536870913,U=N!==y.lane;if(U?(me&N)===N:(s&N)===N){N!==0&&N===Gn&&(po=!0),M!==null&&(M=M.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Z=e,ae=y;N=t;var Re=a;switch(ae.tag){case 1:if(Z=ae.payload,typeof Z=="function"){q=Z.call(Re,q,N);break e}q=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ae.payload,N=typeof Z=="function"?Z.call(Re,q,N):Z,N==null)break e;q=_({},q,N);break e;case 2:ja=!0}}N=y.callback,N!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[N]:U.push(N))}else U={lane:N,tag:y.tag,payload:y.payload,callback:y.callback,next:null},M===null?(R=M=U,w=q):M=M.next=U,h|=N;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;U=y,y=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);M===null&&(w=q),o.baseState=w,o.firstBaseUpdate=R,o.lastBaseUpdate=M,u===null&&(o.shared.lanes=0),za|=h,e.lanes=h,e.memoizedState=q}}function Ud(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function zd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ud(a[e],t)}var Qn=T(null),ir=T(0);function Md(e,t){e=ma,X(ir,e),X(Qn,t),ma=e|t.baseLanes}function go(){X(ir,ma),X(Qn,Qn.current)}function yo(){ma=ir.current,L(Qn),L(ir)}var Et=T(null),qt=null;function Ca(e){var t=e.alternate;X(Ve,Ve.current&1),X(Et,e),qt===null&&(t===null||Qn.current!==null||t.memoizedState!==null)&&(qt=e)}function vo(e){X(Ve,Ve.current),X(Et,e),qt===null&&(qt=e)}function Bd(e){e.tag===22?(X(Ve,Ve.current),X(Et,e),qt===null&&(qt=e)):ka()}function ka(){X(Ve,Ve.current),X(Et,Et.current)}function Tt(e){L(Et),qt===e&&(qt=null),L(Ve)}var Ve=T(0);function rr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Eu(a)||Tu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=0,ue=null,Oe=null,Xe=null,lr=!1,Xn=!1,hn=!1,or=0,Ks=0,Jn=null,Pg=0;function Le(){throw Error(l(321))}function bo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!St(e[a],t[a]))return!1;return!0}function _o(e,t,a,s,o,u){return ra=u,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?wf:zo,hn=!1,u=a(s,o),hn=!1,Xn&&(u=Ld(t,a,s,o)),qd(e),u}function qd(e){k.H=Js;var t=Oe!==null&&Oe.next!==null;if(ra=0,Xe=Oe=ue=null,lr=!1,Ks=0,Jn=null,t)throw Error(l(300));e===null||Je||(e=e.dependencies,e!==null&&Pi(e)&&(Je=!0))}function Ld(e,t,a,s){ue=e;var o=0;do{if(Xn&&(Jn=null),Ks=0,Xn=!1,25<=o)throw Error(l(301));if(o+=1,Xe=Oe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}k.H=Sf,u=t(a,s)}while(Xn);return u}function Fg(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Qs(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(ue.flags|=1024),t}function wo(){var e=or!==0;return or=0,e}function So(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function xo(e){if(lr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}lr=!1}ra=0,Xe=Oe=ue=null,Xn=!1,Ks=or=0,Jn=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ue.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ye(){if(Oe===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Xe===null?ue.memoizedState:Xe.next;if(t!==null)Xe=t,Oe=e;else{if(e===null)throw ue.alternate===null?Error(l(467)):Error(l(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Xe===null?ue.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function ur(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(e){var t=Ks;return Ks+=1,Jn===null&&(Jn=[]),e=Rd(Jn,e,t),t=ue,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?wf:zo),e}function cr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qs(e);if(e.$$typeof===D)return st(e)}throw Error(l(438,String(e)))}function Eo(e){var t=null,a=ue.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ue.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ur(),ue.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=De;return t.index++,a}function la(e,t){return typeof t=="function"?t(e):t}function dr(e){var t=Ye();return To(t,Oe,e)}function To(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var y=h=null,w=null,R=t,M=!1;do{var q=R.lane&-536870913;if(q!==R.lane?(me&q)===q:(ra&q)===q){var N=R.revertLane;if(N===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),q===Gn&&(M=!0);else if((ra&N)===N){R=R.next,N===Gn&&(M=!0);continue}else q={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(y=w=q,h=u):w=w.next=q,ue.lanes|=N,za|=N;q=R.action,hn&&a(u,q),u=R.hasEagerState?R.eagerState:a(u,q)}else N={lane:q,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(y=w=N,h=u):w=w.next=N,ue.lanes|=q,za|=q;R=R.next}while(R!==null&&R!==t);if(w===null?h=u:w.next=y,!St(u,e.memoizedState)&&(Je=!0,M&&(a=Vn,a!==null)))throw a;e.memoizedState=u,e.baseState=h,e.baseQueue=w,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ao(e){var t=Ye(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);St(u,t.memoizedState)||(Je=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function Hd(e,t,a){var s=ue,o=Ye(),u=ge;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var h=!St((Oe||o).memoizedState,a);if(h&&(o.memoizedState=a,Je=!0),o=o.queue,Ro(Vd.bind(null,s,o,e),[e]),o.getSnapshot!==t||h||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Zn(9,{destroy:void 0},Gd.bind(null,s,o,a,t),null),ke===null)throw Error(l(349));u||(ra&127)!==0||$d(s,t,a)}return a}function $d(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ue.updateQueue,t===null?(t=ur(),ue.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Gd(e,t,a,s){t.value=a,t.getSnapshot=s,Yd(t)&&Kd(e)}function Vd(e,t,a){return a(function(){Yd(t)&&Kd(e)})}function Yd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!St(e,a)}catch{return!0}}function Kd(e){var t=nn(e,2);t!==null&&vt(t,e,2)}function Oo(e){var t=dt();if(typeof e=="function"){var a=e;if(e=a(),hn){wa(!0);try{a()}finally{wa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function Qd(e,t,a,s){return e.baseState=a,To(e,Oe,typeof s=="function"?s:la)}function ey(e,t,a,s,o){if(mr(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};k.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,Xd(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Xd(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=k.T,h={};k.T=h;try{var y=a(o,s),w=k.S;w!==null&&w(h,y),Jd(e,t,y)}catch(R){jo(e,t,R)}finally{u!==null&&h.types!==null&&(u.types=h.types),k.T=u}}else try{u=a(o,s),Jd(e,t,u)}catch(R){jo(e,t,R)}}function Jd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Zd(e,t,s)},function(s){return jo(e,t,s)}):Zd(e,t,a)}function Zd(e,t,a){t.status="fulfilled",t.value=a,Id(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Xd(e,a)))}function jo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Id(t),t=t.next;while(t!==s)}e.action=null}function Id(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wd(e,t){return t}function Pd(e,t){if(ge){var a=ke.formState;if(a!==null){e:{var s=ue;if(ge){if(Me){t:{for(var o=Me,u=Bt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Lt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Me=Lt(o.nextSibling),s=o.data==="F!";break e}}Aa(s)}s=!1}s&&(t=a[0])}}return a=dt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:t},a.queue=s,a=vf.bind(null,ue,s),s.dispatch=a,s=Oo(!1),u=Uo.bind(null,ue,!1,s.queue),s=dt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=ey.bind(null,ue,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Fd(e){var t=Ye();return ef(t,Oe,e)}function ef(e,t,a){if(t=To(e,t,Wd)[0],e=dr(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Qs(t)}catch(h){throw h===Yn?tr:h}else s=t;t=Ye();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(ue.flags|=2048,Zn(9,{destroy:void 0},ty.bind(null,o,a),null)),[s,u,e]}function ty(e,t){e.action=t}function tf(e){var t=Ye(),a=Oe;if(a!==null)return ef(t,a,e);Ye(),t=t.memoizedState,a=Ye();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Zn(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ue.updateQueue,t===null&&(t=ur(),ue.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function af(){return Ye().memoizedState}function fr(e,t,a,s){var o=dt();ue.flags|=e,o.memoizedState=Zn(1|t,{destroy:void 0},a,s===void 0?null:s)}function hr(e,t,a,s){var o=Ye();s=s===void 0?null:s;var u=o.memoizedState.inst;Oe!==null&&s!==null&&bo(s,Oe.memoizedState.deps)?o.memoizedState=Zn(t,u,a,s):(ue.flags|=e,o.memoizedState=Zn(1|t,u,a,s))}function nf(e,t){fr(8390656,8,e,t)}function Ro(e,t){hr(2048,8,e,t)}function ay(e){ue.flags|=4;var t=ue.updateQueue;if(t===null)t=ur(),ue.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function sf(e){var t=Ye().memoizedState;return ay({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function rf(e,t){return hr(4,2,e,t)}function lf(e,t){return hr(4,4,e,t)}function of(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uf(e,t,a){a=a!=null?a.concat([e]):null,hr(4,4,of.bind(null,t,e),a)}function No(){}function cf(e,t){var a=Ye();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&bo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function df(e,t){var a=Ye();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&bo(t,s[1]))return s[0];if(s=e(),hn){wa(!0);try{e()}finally{wa(!1)}}return a.memoizedState=[s,t],s}function Co(e,t,a){return a===void 0||(ra&1073741824)!==0&&(me&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=fh(),ue.lanes|=e,za|=e,a)}function ff(e,t,a,s){return St(a,t)?a:Qn.current!==null?(e=Co(e,a,s),St(e,t)||(Je=!0),e):(ra&42)===0||(ra&1073741824)!==0&&(me&261930)===0?(Je=!0,e.memoizedState=a):(e=fh(),ue.lanes|=e,za|=e,t)}function hf(e,t,a,s,o){var u=V.p;V.p=u!==0&&8>u?u:8;var h=k.T,y={};k.T=y,Uo(e,!1,t,a);try{var w=o(),R=k.S;if(R!==null&&R(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var M=Wg(w,s);Xs(e,t,M,jt(e))}else Xs(e,t,s,jt(e))}catch(q){Xs(e,t,{then:function(){},status:"rejected",reason:q},jt())}finally{V.p=u,h!==null&&y.types!==null&&(h.types=y.types),k.T=h}}function ny(){}function ko(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=mf(e).queue;hf(e,o,t,te,a===null?ny:function(){return pf(e),a(s)})}function mf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function pf(e){var t=mf(e);t.next===null&&(t=e.alternate.memoizedState),Xs(e,t.next.queue,{},jt())}function Do(){return st(ci)}function gf(){return Ye().memoizedState}function yf(){return Ye().memoizedState}function sy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=jt();e=Ra(a);var s=Na(t,e,a);s!==null&&(vt(s,t,a),Gs(s,t,a)),t={cache:lo()},e.payload=t;return}t=t.return}}function iy(e,t,a){var s=jt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mr(e)?bf(t,a):(a=Il(e,t,a,s),a!==null&&(vt(a,e,s),_f(a,t,s)))}function vf(e,t,a){var s=jt();Xs(e,t,a,s)}function Xs(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mr(e))bf(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,y=u(h,a);if(o.hasEagerState=!0,o.eagerState=y,St(y,h))return Ji(e,t,o,0),ke===null&&Xi(),!1}catch{}if(a=Il(e,t,o,s),a!==null)return vt(a,e,s),_f(a,t,s),!0}return!1}function Uo(e,t,a,s){if(s={lane:2,revertLane:fu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},mr(e)){if(t)throw Error(l(479))}else t=Il(e,a,s,2),t!==null&&vt(t,e,2)}function mr(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function bf(e,t){Xn=lr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function _f(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ec(e,a)}}var Js={readContext:st,use:cr,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};Js.useEffectEvent=Le;var wf={readContext:st,use:cr,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:nf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,fr(4194308,4,of.bind(null,t,e),a)},useLayoutEffect:function(e,t){return fr(4194308,4,e,t)},useInsertionEffect:function(e,t){fr(4,2,e,t)},useMemo:function(e,t){var a=dt();t=t===void 0?null:t;var s=e();if(hn){wa(!0);try{e()}finally{wa(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=dt();if(a!==void 0){var o=a(t);if(hn){wa(!0);try{a(t)}finally{wa(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=iy.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Oo(e);var t=e.queue,a=vf.bind(null,ue,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:No,useDeferredValue:function(e,t){var a=dt();return Co(a,e,t)},useTransition:function(){var e=Oo(!1);return e=hf.bind(null,ue,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ue,o=dt();if(ge){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),ke===null)throw Error(l(349));(me&127)!==0||$d(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,nf(Vd.bind(null,s,u,e),[e]),s.flags|=2048,Zn(9,{destroy:void 0},Gd.bind(null,s,u,a,t),null),a},useId:function(){var e=dt(),t=ke.identifierPrefix;if(ge){var a=Jt,s=Xt;a=(s&~(1<<32-wt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=or++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Pg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:Pd,useActionState:Pd,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Uo.bind(null,ue,!0,a),a.dispatch=t,[e,t]},useMemoCache:Eo,useCacheRefresh:function(){return dt().memoizedState=sy.bind(null,ue)},useEffectEvent:function(e){var t=dt(),a={impl:e};return t.memoizedState=a,function(){if((xe&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},zo={readContext:st,use:cr,useCallback:cf,useContext:st,useEffect:Ro,useImperativeHandle:uf,useInsertionEffect:rf,useLayoutEffect:lf,useMemo:df,useReducer:dr,useRef:af,useState:function(){return dr(la)},useDebugValue:No,useDeferredValue:function(e,t){var a=Ye();return ff(a,Oe.memoizedState,e,t)},useTransition:function(){var e=dr(la)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:Hd,useId:gf,useHostTransitionStatus:Do,useFormState:Fd,useActionState:Fd,useOptimistic:function(e,t){var a=Ye();return Qd(a,Oe,e,t)},useMemoCache:Eo,useCacheRefresh:yf};zo.useEffectEvent=sf;var Sf={readContext:st,use:cr,useCallback:cf,useContext:st,useEffect:Ro,useImperativeHandle:uf,useInsertionEffect:rf,useLayoutEffect:lf,useMemo:df,useReducer:Ao,useRef:af,useState:function(){return Ao(la)},useDebugValue:No,useDeferredValue:function(e,t){var a=Ye();return Oe===null?Co(a,e,t):ff(a,Oe.memoizedState,e,t)},useTransition:function(){var e=Ao(la)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:Hd,useId:gf,useHostTransitionStatus:Do,useFormState:tf,useActionState:tf,useOptimistic:function(e,t){var a=Ye();return Oe!==null?Qd(a,Oe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Eo,useCacheRefresh:yf};Sf.useEffectEvent=sf;function Mo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=jt(),o=Ra(s);o.payload=t,a!=null&&(o.callback=a),t=Na(e,o,s),t!==null&&(vt(t,e,s),Gs(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=jt(),o=Ra(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Na(e,o,s),t!==null&&(vt(t,e,s),Gs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=jt(),s=Ra(a);s.tag=2,t!=null&&(s.callback=t),t=Na(e,s,a),t!==null&&(vt(t,e,a),Gs(t,e,a))}};function xf(e,t,a,s,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,h):t.prototype&&t.prototype.isPureReactComponent?!Us(a,s)||!Us(o,u):!0}function Ef(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function mn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Tf(e){Qi(e)}function Af(e){console.error(e)}function Of(e){Qi(e)}function pr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function jf(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function qo(e,t,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){pr(e,t)},a}function Rf(e){return e=Ra(e),e.tag=3,e}function Nf(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){jf(t,a,s)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){jf(t,a,s),typeof o!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function ry(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&$n(t,a,o,!0),a=Et.current,a!==null){switch(a.tag){case 31:case 13:return qt===null?Or():a.alternate===null&&He===0&&(He=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===ar?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),uu(e,s,o)),!1;case 22:return a.flags|=65536,s===ar?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),uu(e,s,o)),!1}throw Error(l(435,a.tag))}return uu(e,s,o),Or(),!1}if(ge)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==ao&&(e=Error(l(422),{cause:s}),Bs(Ut(e,a)))):(s!==ao&&(t=Error(l(423),{cause:s}),Bs(Ut(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Ut(s,a),o=qo(e.stateNode,s,o),mo(e,o),He!==4&&(He=2)),!1;var u=Error(l(520),{cause:s});if(u=Ut(u,a),ai===null?ai=[u]:ai.push(u),He!==4&&(He=2),t===null)return!0;s=Ut(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=qo(a.stateNode,s,e),mo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ma===null||!Ma.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Rf(o),Nf(o,e,a,s),mo(a,o),!1}a=a.return}while(a!==null);return!1}var Lo=Error(l(461)),Je=!1;function it(e,t,a,s){t.child=e===null?Dd(t,null,a,s):fn(t,e.child,a,s)}function Cf(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var h={};for(var y in s)y!=="ref"&&(h[y]=s[y])}else h=s;return on(t),s=_o(e,t,a,h,u,o),y=wo(),e!==null&&!Je?(So(e,t,o),oa(e,t,o)):(ge&&y&&eo(t),t.flags|=1,it(e,t,s,o),t.child)}function kf(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!Wl(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Df(e,t,u,s,o)):(e=Ii(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Xo(e,o)){var h=u.memoizedProps;if(a=a.compare,a=a!==null?a:Us,a(h,s)&&e.ref===t.ref)return oa(e,t,o)}return t.flags|=1,e=aa(u,s),e.ref=t.ref,e.return=t,t.child=e}function Df(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(Us(u,s)&&e.ref===t.ref)if(Je=!1,t.pendingProps=s=u,Xo(e,o))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,oa(e,t,o)}return Ho(e,t,a,s,o)}function Uf(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return zf(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&er(t,u!==null?u.cachePool:null),u!==null?Md(t,u):go(),Bd(t);else return s=t.lanes=536870912,zf(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(er(t,u.cachePool),Md(t,u),ka(),t.memoizedState=null):(e!==null&&er(t,null),go(),ka());return it(e,t,o,a),t.child}function Zs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zf(e,t,a,s,o){var u=uo();return u=u===null?null:{parent:Qe._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&er(t,null),go(),Bd(t),e!==null&&$n(e,t,s,!0),t.childLanes=o,null}function gr(e,t){return t=vr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Mf(e,t,a){return fn(t,e.child,null,a),e=gr(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function ly(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(s.mode==="hidden")return e=gr(t,s),t.lanes=536870912,Zs(null,e);if(vo(t),(e=Me)?(e=Jh(e,Bt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Xt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},a=vd(e),a.return=t,t.child=a,nt=t,Me=null)):e=null,e===null)throw Aa(t);return t.lanes=536870912,null}return gr(t,s)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(vo(t),o)if(t.flags&256)t.flags&=-257,t=Mf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Je||$n(e,t,a,!1),o=(a&e.childLanes)!==0,Je||o){if(s=ke,s!==null&&(h=Tc(s,a),h!==0&&h!==u.retryLane))throw u.retryLane=h,nn(e,h),vt(s,e,h),Lo;Or(),t=Mf(e,t,a)}else e=u.treeContext,Me=Lt(h.nextSibling),nt=t,ge=!0,Ta=null,Bt=!1,e!==null&&wd(t,e),t=gr(t,s),t.flags|=4096;return t}return e=aa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function yr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ho(e,t,a,s,o){return on(t),a=_o(e,t,a,s,void 0,o),s=wo(),e!==null&&!Je?(So(e,t,o),oa(e,t,o)):(ge&&s&&eo(t),t.flags|=1,it(e,t,a,o),t.child)}function Bf(e,t,a,s,o,u){return on(t),t.updateQueue=null,a=Ld(t,s,a,o),qd(e),s=wo(),e!==null&&!Je?(So(e,t,u),oa(e,t,u)):(ge&&s&&eo(t),t.flags|=1,it(e,t,a,u),t.child)}function qf(e,t,a,s,o){if(on(t),t.stateNode===null){var u=Bn,h=a.contextType;typeof h=="object"&&h!==null&&(u=st(h)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Bo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},fo(t),h=a.contextType,u.context=typeof h=="object"&&h!==null?st(h):Bn,u.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Mo(t,a,h,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&Bo.enqueueReplaceState(u,u.state,null),Ys(t,s,u,o),Vs(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var y=t.memoizedProps,w=mn(a,y);u.props=w;var R=u.context,M=a.contextType;h=Bn,typeof M=="object"&&M!==null&&(h=st(M));var q=a.getDerivedStateFromProps;M=typeof q=="function"||typeof u.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,M||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y||R!==h)&&Ef(t,u,s,h),ja=!1;var N=t.memoizedState;u.state=N,Ys(t,s,u,o),Vs(),R=t.memoizedState,y||N!==R||ja?(typeof q=="function"&&(Mo(t,a,q,s),R=t.memoizedState),(w=ja||xf(t,a,w,s,N,R,h))?(M||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=R),u.props=s,u.state=R,u.context=h,s=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,ho(e,t),h=t.memoizedProps,M=mn(a,h),u.props=M,q=t.pendingProps,N=u.context,R=a.contextType,w=Bn,typeof R=="object"&&R!==null&&(w=st(R)),y=a.getDerivedStateFromProps,(R=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==q||N!==w)&&Ef(t,u,s,w),ja=!1,N=t.memoizedState,u.state=N,Ys(t,s,u,o),Vs();var U=t.memoizedState;h!==q||N!==U||ja||e!==null&&e.dependencies!==null&&Pi(e.dependencies)?(typeof y=="function"&&(Mo(t,a,y,s),U=t.memoizedState),(M=ja||xf(t,a,M,s,N,U,w)||e!==null&&e.dependencies!==null&&Pi(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,U,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,U,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=U),u.props=s,u.state=U,u.context=w,s=M):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,yr(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=fn(t,e.child,null,o),t.child=fn(t,null,a,o)):it(e,t,a,o),t.memoizedState=u.state,e=t.child):e=oa(e,t,o),e}function Lf(e,t,a,s){return rn(),t.flags|=256,it(e,t,a,s),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Go(e){return{baseLanes:e,cachePool:Od()}}function Vo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ot),e}function Hf(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(o?Ca(t):ka(),(e=Me)?(e=Jh(e,Bt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Xt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},a=vd(e),a.return=t,t.child=a,nt=t,Me=null)):e=null,e===null)throw Aa(t);return Tu(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,o?(ka(),o=t.mode,y=vr({mode:"hidden",children:y},o),s=sn(s,o,a,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=Go(a),s.childLanes=Vo(e,h,a),t.memoizedState=$o,Zs(null,s)):(Ca(t),Yo(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(u)t.flags&256?(Ca(t),t.flags&=-257,t=Ko(e,t,a)):t.memoizedState!==null?(ka(),t.child=e.child,t.flags|=128,t=null):(ka(),y=s.fallback,o=t.mode,s=vr({mode:"visible",children:s.children},o),y=sn(y,o,a,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,fn(t,e.child,null,a),s=t.child,s.memoizedState=Go(a),s.childLanes=Vo(e,h,a),t.memoizedState=$o,t=Zs(null,s));else if(Ca(t),Tu(y)){if(h=y.nextSibling&&y.nextSibling.dataset,h)var R=h.dgst;h=R,s=Error(l(419)),s.stack="",s.digest=h,Bs({value:s,source:null,stack:null}),t=Ko(e,t,a)}else if(Je||$n(e,t,a,!1),h=(a&e.childLanes)!==0,Je||h){if(h=ke,h!==null&&(s=Tc(h,a),s!==0&&s!==w.retryLane))throw w.retryLane=s,nn(e,s),vt(h,e,s),Lo;Eu(y)||Or(),t=Ko(e,t,a)}else Eu(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Me=Lt(y.nextSibling),nt=t,ge=!0,Ta=null,Bt=!1,e!==null&&wd(t,e),t=Yo(t,s.children),t.flags|=4096);return t}return o?(ka(),y=s.fallback,o=t.mode,w=e.child,R=w.sibling,s=aa(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,R!==null?y=aa(R,y):(y=sn(y,o,a,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,Zs(null,s),s=t.child,y=e.child.memoizedState,y===null?y=Go(a):(o=y.cachePool,o!==null?(w=Qe._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Od(),y={baseLanes:y.baseLanes|a,cachePool:o}),s.memoizedState=y,s.childLanes=Vo(e,h,a),t.memoizedState=$o,Zs(e.child,s)):(Ca(t),a=e.child,e=a.sibling,a=aa(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Yo(e,t){return t=vr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function vr(e,t){return e=xt(22,e,null,t),e.lanes=0,e}function Ko(e,t,a){return fn(t,e.child,null,a),e=Yo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $f(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),io(e.return,t,a)}function Qo(e,t,a,s,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=a,h.tailMode=o,h.treeForkCount=u)}function Gf(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var h=Ve.current,y=(h&2)!==0;if(y?(h=h&1|2,t.flags|=128):h&=1,X(Ve,h),it(e,t,s,a),s=ge?Ms:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,a,t);else if(e.tag===19)$f(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&rr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Qo(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&rr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Qo(t,!0,a,null,u,s);break;case"together":Qo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),za|=t.lanes,(a&t.childLanes)===0)if(e!==null){if($n(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Xo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Pi(e)))}function oy(e,t,a){switch(t.tag){case 3:ct(t,t.stateNode.containerInfo),Oa(t,Qe,e.memoizedState.cache),rn();break;case 27:case 5:ws(t);break;case 4:ct(t,t.stateNode.containerInfo);break;case 10:Oa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,vo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ca(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Hf(e,t,a):(Ca(t),e=oa(e,t,a),e!==null?e.sibling:null);Ca(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||($n(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Gf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(Ve,Ve.current),s)break;return null;case 22:return t.lanes=0,Uf(e,t,a,t.pendingProps);case 24:Oa(t,Qe,e.memoizedState.cache)}return oa(e,t,a)}function Vf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!Xo(e,a)&&(t.flags&128)===0)return Je=!1,oy(e,t,a);Je=(e.flags&131072)!==0}else Je=!1,ge&&(t.flags&1048576)!==0&&_d(t,Ms,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=cn(t.elementType),t.type=e,typeof e=="function")Wl(e)?(s=mn(e,s),t.tag=1,t=qf(null,t,e,s,a)):(t.tag=0,t=Ho(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===K){t.tag=11,t=Cf(null,t,e,s,a);break e}else if(o===J){t.tag=14,t=kf(null,t,e,s,a);break e}}throw t=$(e)||e,Error(l(306,t,""))}}return t;case 0:return Ho(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=mn(s,t.pendingProps),qf(e,t,s,o,a);case 3:e:{if(ct(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,ho(e,t),Ys(t,s,null,a);var h=t.memoizedState;if(s=h.cache,Oa(t,Qe,s),s!==u.cache&&ro(t,[Qe],a,!0),Vs(),s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Lf(e,t,s,a);break e}else if(s!==o){o=Ut(Error(l(424)),t),Bs(o),t=Lf(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Me=Lt(e.firstChild),nt=t,ge=!0,Ta=null,Bt=!0,a=Dd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(rn(),s===o){t=oa(e,t,a);break e}it(e,t,s,a)}t=t.child}return t;case 26:return yr(e,t),e===null?(a=em(t.type,null,t.pendingProps,null))?t.memoizedState=a:ge||(a=t.type,e=t.pendingProps,s=Ur(de.current).createElement(a),s[at]=t,s[ft]=e,rt(s,a,e),et(s),t.stateNode=s):t.memoizedState=em(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ws(t),e===null&&ge&&(s=t.stateNode=Wh(t.type,t.pendingProps,de.current),nt=t,Bt=!0,o=Me,Ha(t.type)?(Au=o,Me=Lt(s.firstChild)):Me=o),it(e,t,t.pendingProps.children,a),yr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((o=s=Me)&&(s=qy(s,t.type,t.pendingProps,Bt),s!==null?(t.stateNode=s,nt=t,Me=Lt(s.firstChild),Bt=!1,o=!0):o=!1),o||Aa(t)),ws(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,s=u.children,wu(o,u)?s=null:h!==null&&wu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=_o(e,t,Fg,null,null,a),ci._currentValue=o),yr(e,t),it(e,t,s,a),t.child;case 6:return e===null&&ge&&((e=a=Me)&&(a=Ly(a,t.pendingProps,Bt),a!==null?(t.stateNode=a,nt=t,Me=null,e=!0):e=!1),e||Aa(t)),null;case 13:return Hf(e,t,a);case 4:return ct(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=fn(t,null,s,a):it(e,t,s,a),t.child;case 11:return Cf(e,t,t.type,t.pendingProps,a);case 7:return it(e,t,t.pendingProps,a),t.child;case 8:return it(e,t,t.pendingProps.children,a),t.child;case 12:return it(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Oa(t,t.type,s.value),it(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,on(t),o=st(o),s=s(o),t.flags|=1,it(e,t,s,a),t.child;case 14:return kf(e,t,t.type,t.pendingProps,a);case 15:return Df(e,t,t.type,t.pendingProps,a);case 19:return Gf(e,t,a);case 31:return ly(e,t,a);case 22:return Uf(e,t,a,t.pendingProps);case 24:return on(t),s=st(Qe),e===null?(o=uo(),o===null&&(o=ke,u=lo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},fo(t),Oa(t,Qe,o)):((e.lanes&a)!==0&&(ho(e,t),Ys(t,null,null,a),Vs()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Oa(t,Qe,s)):(s=u.cache,Oa(t,Qe,s),s!==o.cache&&ro(t,[Qe],a,!0))),it(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ua(e){e.flags|=4}function Jo(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(gh())e.flags|=8192;else throw dn=ar,co}else e.flags&=-16777217}function Yf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!im(t))if(gh())e.flags|=8192;else throw dn=ar,co}function br(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sc():536870912,e.lanes|=t,Fn|=t)}function Is(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function uy(e,t,a){var s=t.pendingProps;switch(to(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ia(Qe),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hn(t)?ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,no())),Be(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ua(t),u!==null?(Be(t),Yf(t,u)):(Be(t),Jo(t,o,null,s,a))):u?u!==e.memoizedState?(ua(t),Be(t),Yf(t,u)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ua(t),Be(t),Jo(t,o,e,s,a)),null;case 27:if(Ni(t),a=de.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ua(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Be(t),null}e=I.current,Hn(t)?Sd(t):(e=Wh(o,s,a),t.stateNode=e,ua(t))}return Be(t),null;case 5:if(Ni(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ua(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Be(t),null}if(u=I.current,Hn(t))Sd(t);else{var h=Ur(de.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?h.createElement("select",{is:s.is}):h.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?h.createElement(o,{is:s.is}):h.createElement(o)}}u[at]=t,u[ft]=s;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(rt(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ua(t)}}return Be(t),Jo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ua(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=de.current,Hn(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=nt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[at]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Hh(e.nodeValue,a)),e||Aa(t,!0)}else e=Ur(e).createTextNode(s),e[at]=t,t.stateNode=e}return Be(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Hn(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[at]=t}else rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else a=no(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Be(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Hn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[at]=t}else rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else o=no(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),br(t,t.updateQueue),Be(t),null);case 4:return Ge(),e===null&&gu(t.stateNode.containerInfo),Be(t),null;case 10:return ia(t.type),Be(t),null;case 19:if(L(Ve),s=t.memoizedState,s===null)return Be(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)Is(s,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=rr(e),u!==null){for(t.flags|=128,Is(s,!1),e=u.updateQueue,t.updateQueue=e,br(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)yd(a,e),a=a.sibling;return X(Ve,Ve.current&1|2),ge&&na(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&bt()>Er&&(t.flags|=128,o=!0,Is(s,!1),t.lanes=4194304)}else{if(!o)if(e=rr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,br(t,e),Is(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!ge)return Be(t),null}else 2*bt()-s.renderingStartTime>Er&&a!==536870912&&(t.flags|=128,o=!0,Is(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,a=Ve.current,X(Ve,o?a&1|2:a&1),ge&&na(t,s.treeForkCount),e):(Be(t),null);case 22:case 23:return Tt(t),yo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),a=t.updateQueue,a!==null&&br(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&L(un),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ia(Qe),Be(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function cy(e,t){switch(to(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ia(Qe),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ni(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(l(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Ve),null;case 4:return Ge(),null;case 10:return ia(t.type),null;case 22:case 23:return Tt(t),yo(),e!==null&&L(un),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ia(Qe),null;case 25:return null;default:return null}}function Kf(e,t){switch(to(t),t.tag){case 3:ia(Qe),Ge();break;case 26:case 27:case 5:Ni(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:L(Ve);break;case 10:ia(t.type);break;case 22:case 23:Tt(t),yo(),e!==null&&L(un);break;case 24:ia(Qe)}}function Ws(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,h=a.inst;s=u(),h.destroy=s}a=a.next}while(a!==o)}}catch(y){Ae(t,t.return,y)}}function Da(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var h=s.inst,y=h.destroy;if(y!==void 0){h.destroy=void 0,o=t;var w=a,R=y;try{R()}catch(M){Ae(o,w,M)}}}s=s.next}while(s!==u)}}catch(M){Ae(t,t.return,M)}}function Qf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{zd(t,a)}catch(s){Ae(e,e.return,s)}}}function Xf(e,t,a){a.props=mn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ae(e,t,s)}}function Ps(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Ae(e,t,o)}}function Zt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ae(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ae(e,t,o)}else a.current=null}function Jf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ae(e,e.return,o)}}function Zo(e,t,a){try{var s=e.stateNode;ky(s,e.type,a,t),s[ft]=t}catch(o){Ae(e,e.return,o)}}function Zf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function Io(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ea));else if(s!==4&&(s===27&&Ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Wo(e,t,a),e=e.sibling;e!==null;)Wo(e,t,a),e=e.sibling}function _r(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_r(e,t,a),e=e.sibling;e!==null;)_r(e,t,a),e=e.sibling}function If(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);rt(t,s,a),t[at]=e,t[ft]=a}catch(u){Ae(e,e.return,u)}}var ca=!1,Ze=!1,Po=!1,Wf=typeof WeakSet=="function"?WeakSet:Set,tt=null;function dy(e,t){if(e=e.containerInfo,bu=$r,e=od(e),Yl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var h=0,y=-1,w=-1,R=0,M=0,q=e,N=null;t:for(;;){for(var U;q!==a||o!==0&&q.nodeType!==3||(y=h+o),q!==u||s!==0&&q.nodeType!==3||(w=h+s),q.nodeType===3&&(h+=q.nodeValue.length),(U=q.firstChild)!==null;)N=q,q=U;for(;;){if(q===e)break t;if(N===a&&++R===o&&(y=h),N===u&&++M===s&&(w=h),(U=q.nextSibling)!==null)break;q=N,N=q.parentNode}q=U}a=y===-1||w===-1?null:{start:y,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(_u={focusedElem:e,selectionRange:a},$r=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var Z=mn(a.type,o);e=s.getSnapshotBeforeUpdate(Z,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Ae(a,a.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)xu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function Pf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:fa(e,a),s&4&&Ws(5,a);break;case 1:if(fa(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){Ae(a,a.return,h)}else{var o=mn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ae(a,a.return,h)}}s&64&&Qf(a),s&512&&Ps(a,a.return);break;case 3:if(fa(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{zd(e,t)}catch(h){Ae(a,a.return,h)}}break;case 27:t===null&&s&4&&If(a);case 26:case 5:fa(e,a),t===null&&s&4&&Jf(a),s&512&&Ps(a,a.return);break;case 12:fa(e,a);break;case 31:fa(e,a),s&4&&th(e,a);break;case 13:fa(e,a),s&4&&ah(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_y.bind(null,a),Hy(e,a))));break;case 22:if(s=a.memoizedState!==null||ca,!s){t=t!==null&&t.memoizedState!==null||Ze,o=ca;var u=Ze;ca=s,(Ze=t)&&!u?ha(e,a,(a.subtreeFlags&8772)!==0):fa(e,a),ca=o,Ze=u}break;case 30:break;default:fa(e,a)}}function Ff(e){var t=e.alternate;t!==null&&(e.alternate=null,Ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ol(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,mt=!1;function da(e,t,a){for(a=a.child;a!==null;)eh(e,t,a),a=a.sibling}function eh(e,t,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Ss,a)}catch{}switch(a.tag){case 26:Ze||Zt(a,t),da(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||Zt(a,t);var s=qe,o=mt;Ha(a.type)&&(qe=a.stateNode,mt=!1),da(e,t,a),li(a.stateNode),qe=s,mt=o;break;case 5:Ze||Zt(a,t);case 6:if(s=qe,o=mt,qe=null,da(e,t,a),qe=s,mt=o,qe!==null)if(mt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(u){Ae(a,t,u)}else try{qe.removeChild(a.stateNode)}catch(u){Ae(a,t,u)}break;case 18:qe!==null&&(mt?(e=qe,Qh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ls(e)):Qh(qe,a.stateNode));break;case 4:s=qe,o=mt,qe=a.stateNode.containerInfo,mt=!0,da(e,t,a),qe=s,mt=o;break;case 0:case 11:case 14:case 15:Da(2,a,t),Ze||Da(4,a,t),da(e,t,a);break;case 1:Ze||(Zt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Xf(a,t,s)),da(e,t,a);break;case 21:da(e,t,a);break;case 22:Ze=(s=Ze)||a.memoizedState!==null,da(e,t,a),Ze=s;break;default:da(e,t,a)}}function th(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ls(e)}catch(a){Ae(t,t.return,a)}}}function ah(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ls(e)}catch(a){Ae(t,t.return,a)}}function fy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Wf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Wf),t;default:throw Error(l(435,e.tag))}}function wr(e,t){var a=fy(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=wy.bind(null,e,s);s.then(o,o)}})}function pt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 27:if(Ha(y.type)){qe=y.stateNode,mt=!1;break e}break;case 5:qe=y.stateNode,mt=!1;break e;case 3:case 4:qe=y.stateNode.containerInfo,mt=!0;break e}y=y.return}if(qe===null)throw Error(l(160));eh(u,h,o),qe=null,mt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)nh(t,e),t=t.sibling}var Gt=null;function nh(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(t,e),gt(e),s&4&&(Da(3,e,e.return),Ws(3,e),Da(5,e,e.return));break;case 1:pt(t,e),gt(e),s&512&&(Ze||a===null||Zt(a,a.return)),s&64&&ca&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Gt;if(pt(t,e),gt(e),s&512&&(Ze||a===null||Zt(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Ts]||u[at]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),rt(u,s,a),u[at]=e,et(u),s=u;break e;case"link":var h=nm("link","href",o).get(s+(a.href||""));if(h){for(var y=0;y<h.length;y++)if(u=h[y],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(y,1);break t}}u=o.createElement(s),rt(u,s,a),o.head.appendChild(u);break;case"meta":if(h=nm("meta","content",o).get(s+(a.content||""))){for(y=0;y<h.length;y++)if(u=h[y],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(y,1);break t}}u=o.createElement(s),rt(u,s,a),o.head.appendChild(u);break;default:throw Error(l(468,s))}u[at]=e,et(u),s=u}e.stateNode=s}else sm(o,e.type,e.stateNode);else e.stateNode=am(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?sm(o,e.type,e.stateNode):am(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Zo(e,e.memoizedProps,a.memoizedProps)}break;case 27:pt(t,e),gt(e),s&512&&(Ze||a===null||Zt(a,a.return)),a!==null&&s&4&&Zo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pt(t,e),gt(e),s&512&&(Ze||a===null||Zt(a,a.return)),e.flags&32){o=e.stateNode;try{Nn(o,"")}catch(Z){Ae(e,e.return,Z)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Zo(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Po=!0);break;case 6:if(pt(t,e),gt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(Z){Ae(e,e.return,Z)}}break;case 3:if(Br=null,o=Gt,Gt=zr(t.containerInfo),pt(t,e),Gt=o,gt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(Z){Ae(e,e.return,Z)}Po&&(Po=!1,sh(e));break;case 4:s=Gt,Gt=zr(e.stateNode.containerInfo),pt(t,e),gt(e),Gt=s;break;case 12:pt(t,e),gt(e);break;case 31:pt(t,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wr(e,s)));break;case 13:pt(t,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xr=bt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wr(e,s)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,R=ca,M=Ze;if(ca=R||o,Ze=M||w,pt(t,e),Ze=M,ca=R,gt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||ca||Ze||pn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(u=w.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=w.stateNode;var q=w.memoizedProps.style,N=q!=null&&q.hasOwnProperty("display")?q.display:null;y.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(Z){Ae(w,w.return,Z)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(Z){Ae(w,w.return,Z)}}}else if(t.tag===18){if(a===null){w=t;try{var U=w.stateNode;o?Xh(U,!0):Xh(w.stateNode,!1)}catch(Z){Ae(w,w.return,Z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,wr(e,a))));break;case 19:pt(t,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wr(e,s)));break;case 30:break;case 21:break;default:pt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Zf(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=Io(e);_r(e,u,o);break;case 5:var h=a.stateNode;a.flags&32&&(Nn(h,""),a.flags&=-33);var y=Io(e);_r(e,y,h);break;case 3:case 4:var w=a.stateNode.containerInfo,R=Io(e);Wo(e,R,w);break;default:throw Error(l(161))}}catch(M){Ae(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pf(e,t.alternate,t),t=t.sibling}function pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Da(4,t,t.return),pn(t);break;case 1:Zt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Xf(t,t.return,a),pn(t);break;case 27:li(t.stateNode);case 26:case 5:Zt(t,t.return),pn(t);break;case 22:t.memoizedState===null&&pn(t);break;case 30:pn(t);break;default:pn(t)}e=e.sibling}}function ha(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:ha(o,u,a),Ws(4,u);break;case 1:if(ha(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){Ae(s,s.return,R)}if(s=u,o=s.updateQueue,o!==null){var y=s.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Ud(w[o],y)}catch(R){Ae(s,s.return,R)}}a&&h&64&&Qf(u),Ps(u,u.return);break;case 27:If(u);case 26:case 5:ha(o,u,a),a&&s===null&&h&4&&Jf(u),Ps(u,u.return);break;case 12:ha(o,u,a);break;case 31:ha(o,u,a),a&&h&4&&th(o,u);break;case 13:ha(o,u,a),a&&h&4&&ah(o,u);break;case 22:u.memoizedState===null&&ha(o,u,a),Ps(u,u.return);break;case 30:break;default:ha(o,u,a)}t=t.sibling}}function Fo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qs(a))}function eu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qs(e))}function Vt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ih(e,t,a,s),t=t.sibling}function ih(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Vt(e,t,a,s),o&2048&&Ws(9,t);break;case 1:Vt(e,t,a,s);break;case 3:Vt(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qs(e)));break;case 12:if(o&2048){Vt(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,y=u.onPostCommit;typeof y=="function"&&y(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ae(t,t.return,w)}}else Vt(e,t,a,s);break;case 31:Vt(e,t,a,s);break;case 13:Vt(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?Vt(e,t,a,s):Fs(e,t):u._visibility&2?Vt(e,t,a,s):(u._visibility|=2,In(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Fo(h,t);break;case 24:Vt(e,t,a,s),o&2048&&eu(t.alternate,t);break;default:Vt(e,t,a,s)}}function In(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,y=a,w=s,R=h.flags;switch(h.tag){case 0:case 11:case 15:In(u,h,y,w,o),Ws(8,h);break;case 23:break;case 22:var M=h.stateNode;h.memoizedState!==null?M._visibility&2?In(u,h,y,w,o):Fs(u,h):(M._visibility|=2,In(u,h,y,w,o)),o&&R&2048&&Fo(h.alternate,h);break;case 24:In(u,h,y,w,o),o&&R&2048&&eu(h.alternate,h);break;default:In(u,h,y,w,o)}t=t.sibling}}function Fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:Fs(a,s),o&2048&&Fo(s.alternate,s);break;case 24:Fs(a,s),o&2048&&eu(s.alternate,s);break;default:Fs(a,s)}t=t.sibling}}var ei=8192;function Wn(e,t,a){if(e.subtreeFlags&ei)for(e=e.child;e!==null;)rh(e,t,a),e=e.sibling}function rh(e,t,a){switch(e.tag){case 26:Wn(e,t,a),e.flags&ei&&e.memoizedState!==null&&Py(a,Gt,e.memoizedState,e.memoizedProps);break;case 5:Wn(e,t,a);break;case 3:case 4:var s=Gt;Gt=zr(e.stateNode.containerInfo),Wn(e,t,a),Gt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ei,ei=16777216,Wn(e,t,a),ei=s):Wn(e,t,a));break;default:Wn(e,t,a)}}function lh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ti(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,uh(s,e)}lh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)oh(e),e=e.sibling}function oh(e){switch(e.tag){case 0:case 11:case 15:ti(e),e.flags&2048&&Da(9,e,e.return);break;case 3:ti(e);break;case 12:ti(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Sr(e)):ti(e);break;default:ti(e)}}function Sr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,uh(s,e)}lh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Da(8,t,t.return),Sr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Sr(t));break;default:Sr(t)}e=e.sibling}}function uh(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Da(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:qs(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,tt=s;else e:for(a=e;tt!==null;){s=tt;var o=s.sibling,u=s.return;if(Ff(s),s===a){tt=null;break e}if(o!==null){o.return=u,tt=o;break e}tt=u}}}var hy={getCacheForType:function(e){var t=st(Qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return st(Qe).controller.signal}},my=typeof WeakMap=="function"?WeakMap:Map,xe=0,ke=null,fe=null,me=0,Te=0,At=null,Ua=!1,Pn=!1,tu=!1,ma=0,He=0,za=0,gn=0,au=0,Ot=0,Fn=0,ai=null,yt=null,nu=!1,xr=0,ch=0,Er=1/0,Tr=null,Ma=null,We=0,Ba=null,es=null,pa=0,su=0,iu=null,dh=null,ni=0,ru=null;function jt(){return(xe&2)!==0&&me!==0?me&-me:k.T!==null?fu():Ac()}function fh(){if(Ot===0)if((me&536870912)===0||ge){var e=Di;Di<<=1,(Di&3932160)===0&&(Di=262144),Ot=e}else Ot=536870912;return e=Et.current,e!==null&&(e.flags|=32),Ot}function vt(e,t,a){(e===ke&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(ts(e,0),qa(e,me,Ot,!1)),Es(e,a),((xe&2)===0||e!==ke)&&(e===ke&&((xe&2)===0&&(gn|=a),He===4&&qa(e,me,Ot,!1)),It(e))}function hh(e,t,a){if((xe&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||xs(e,t),o=s?yy(e,t):ou(e,t,!0),u=s;do{if(o===0){Pn&&!s&&qa(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!py(a)){o=ou(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var y=e;o=ai;var w=y.current.memoizedState.isDehydrated;if(w&&(ts(y,h).flags|=256),h=ou(y,h,!1),h!==2){if(tu&&!w){y.errorRecoveryDisabledLanes|=u,gn|=u,o=4;break e}u=yt,yt=o,u!==null&&(yt===null?yt=u:yt.push.apply(yt,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){ts(e,0),qa(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:qa(s,t,Ot,!Ua);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=xr+300-bt(),10<o)){if(qa(s,t,Ot,!Ua),zi(s,0,!0)!==0)break e;pa=t,s.timeoutHandle=Yh(mh.bind(null,s,a,yt,Tr,nu,t,Ot,gn,Fn,Ua,u,"Throttled",-0,0),o);break e}mh(s,a,yt,Tr,nu,t,Ot,gn,Fn,Ua,u,null,-0,0)}}break}while(!0);It(e)}function mh(e,t,a,s,o,u,h,y,w,R,M,q,N,U){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},rh(t,u,q);var Z=(u&62914560)===u?xr-bt():(u&4194048)===u?ch-bt():0;if(Z=Fy(q,Z),Z!==null){pa=u,e.cancelPendingCommit=Z(Sh.bind(null,e,t,u,a,s,o,h,y,w,M,q,null,N,U)),qa(e,u,h,!R);return}}Sh(e,t,u,a,s,o,h,y,w)}function py(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!St(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qa(e,t,a,s){t&=~au,t&=~gn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-wt(o),h=1<<u;s[u]=-1,o&=~h}a!==0&&xc(e,a,t)}function Ar(){return(xe&6)===0?(si(0),!1):!0}function lu(){if(fe!==null){if(Te===0)var e=fe.return;else e=fe,sa=ln=null,xo(e),Kn=null,Hs=0,e=fe;for(;e!==null;)Kf(e.alternate,e),e=e.return;fe=null}}function ts(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),pa=0,lu(),ke=e,fe=a=aa(e.current,null),me=t,Te=0,At=null,Ua=!1,Pn=xs(e,t),tu=!1,Fn=Ot=au=gn=za=He=0,yt=ai=null,nu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-wt(s),u=1<<o;t|=e[o],s&=~u}return ma=t,Xi(),a}function ph(e,t){ue=null,k.H=Js,t===Yn||t===tr?(t=Nd(),Te=3):t===co?(t=Nd(),Te=4):Te=t===Lo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,fe===null&&(He=1,pr(e,Ut(t,e.current)))}function gh(){var e=Et.current;return e===null?!0:(me&4194048)===me?qt===null:(me&62914560)===me||(me&536870912)!==0?e===qt:!1}function yh(){var e=k.H;return k.H=Js,e===null?Js:e}function vh(){var e=k.A;return k.A=hy,e}function Or(){He=4,Ua||(me&4194048)!==me&&Et.current!==null||(Pn=!0),(za&134217727)===0&&(gn&134217727)===0||ke===null||qa(ke,me,Ot,!1)}function ou(e,t,a){var s=xe;xe|=2;var o=yh(),u=vh();(ke!==e||me!==t)&&(Tr=null,ts(e,t)),t=!1;var h=He;e:do try{if(Te!==0&&fe!==null){var y=fe,w=At;switch(Te){case 8:lu(),h=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var R=Te;if(Te=0,At=null,as(e,y,w,R),a&&Pn){h=0;break e}break;default:R=Te,Te=0,At=null,as(e,y,w,R)}}gy(),h=He;break}catch(M){ph(e,M)}while(!0);return t&&e.shellSuspendCounter++,sa=ln=null,xe=s,k.H=o,k.A=u,fe===null&&(ke=null,me=0,Xi()),h}function gy(){for(;fe!==null;)bh(fe)}function yy(e,t){var a=xe;xe|=2;var s=yh(),o=vh();ke!==e||me!==t?(Tr=null,Er=bt()+500,ts(e,t)):Pn=xs(e,t);e:do try{if(Te!==0&&fe!==null){t=fe;var u=At;t:switch(Te){case 1:Te=0,At=null,as(e,t,u,1);break;case 2:case 9:if(jd(u)){Te=0,At=null,_h(t);break}t=function(){Te!==2&&Te!==9||ke!==e||(Te=7),It(e)},u.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:jd(u)?(Te=0,At=null,_h(t)):(Te=0,At=null,as(e,t,u,7));break;case 5:var h=null;switch(fe.tag){case 26:h=fe.memoizedState;case 5:case 27:var y=fe;if(h?im(h):y.stateNode.complete){Te=0,At=null;var w=y.sibling;if(w!==null)fe=w;else{var R=y.return;R!==null?(fe=R,jr(R)):fe=null}break t}}Te=0,At=null,as(e,t,u,5);break;case 6:Te=0,At=null,as(e,t,u,6);break;case 8:lu(),He=6;break e;default:throw Error(l(462))}}vy();break}catch(M){ph(e,M)}while(!0);return sa=ln=null,k.H=s,k.A=o,xe=a,fe!==null?0:(ke=null,me=0,Xi(),He)}function vy(){for(;fe!==null&&!$p();)bh(fe)}function bh(e){var t=Vf(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?jr(e):fe=t}function _h(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Bf(a,t,t.pendingProps,t.type,void 0,me);break;case 11:t=Bf(a,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:xo(t);default:Kf(a,t),t=fe=yd(t,ma),t=Vf(a,t,ma)}e.memoizedProps=e.pendingProps,t===null?jr(e):fe=t}function as(e,t,a,s){sa=ln=null,xo(t),Kn=null,Hs=0;var o=t.return;try{if(ry(e,o,t,a,me)){He=1,pr(e,Ut(a,e.current)),fe=null;return}}catch(u){if(o!==null)throw fe=o,u;He=1,pr(e,Ut(a,e.current)),fe=null;return}t.flags&32768?(ge||s===1?e=!0:Pn||(me&536870912)!==0?e=!1:(Ua=e=!0,(s===2||s===9||s===3||s===6)&&(s=Et.current,s!==null&&s.tag===13&&(s.flags|=16384))),wh(t,e)):jr(t)}function jr(e){var t=e;do{if((t.flags&32768)!==0){wh(t,Ua);return}e=t.return;var a=uy(t.alternate,t,ma);if(a!==null){fe=a;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);He===0&&(He=5)}function wh(e,t){do{var a=cy(e.alternate,e);if(a!==null){a.flags&=32767,fe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){fe=e;return}fe=e=a}while(e!==null);He=6,fe=null}function Sh(e,t,a,s,o,u,h,y,w){e.cancelPendingCommit=null;do Rr();while(We!==0);if((xe&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Zl,Wp(e,a,u,h,y,w),e===ke&&(fe=ke=null,me=0),es=t,Ba=e,pa=a,su=u,iu=o,dh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sy(Ci,function(){return Oh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,o=V.p,V.p=2,h=xe,xe|=4;try{dy(e,t,a)}finally{xe=h,V.p=o,k.T=s}}We=1,xh(),Eh(),Th()}}function xh(){if(We===1){We=0;var e=Ba,t=es,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var s=V.p;V.p=2;var o=xe;xe|=4;try{nh(t,e);var u=_u,h=od(e.containerInfo),y=u.focusedElem,w=u.selectionRange;if(h!==y&&y&&y.ownerDocument&&ld(y.ownerDocument.documentElement,y)){if(w!==null&&Yl(y)){var R=w.start,M=w.end;if(M===void 0&&(M=R),"selectionStart"in y)y.selectionStart=R,y.selectionEnd=Math.min(M,y.value.length);else{var q=y.ownerDocument||document,N=q&&q.defaultView||window;if(N.getSelection){var U=N.getSelection(),Z=y.textContent.length,ae=Math.min(w.start,Z),Re=w.end===void 0?ae:Math.min(w.end,Z);!U.extend&&ae>Re&&(h=Re,Re=ae,ae=h);var O=rd(y,ae),E=rd(y,Re);if(O&&E&&(U.rangeCount!==1||U.anchorNode!==O.node||U.anchorOffset!==O.offset||U.focusNode!==E.node||U.focusOffset!==E.offset)){var j=q.createRange();j.setStart(O.node,O.offset),U.removeAllRanges(),ae>Re?(U.addRange(j),U.extend(E.node,E.offset)):(j.setEnd(E.node,E.offset),U.addRange(j))}}}}for(q=[],U=y;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<q.length;y++){var B=q[y];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}$r=!!bu,_u=bu=null}finally{xe=o,V.p=s,k.T=a}}e.current=t,We=2}}function Eh(){if(We===2){We=0;var e=Ba,t=es,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var s=V.p;V.p=2;var o=xe;xe|=4;try{Pf(e,t.alternate,t)}finally{xe=o,V.p=s,k.T=a}}We=3}}function Th(){if(We===4||We===3){We=0,Gp();var e=Ba,t=es,a=pa,s=dh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,es=Ba=null,Ah(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ma=null),Tl(a),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Ss,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=k.T,o=V.p,V.p=2,k.T=null;try{for(var u=e.onRecoverableError,h=0;h<s.length;h++){var y=s[h];u(y.value,{componentStack:y.stack})}}finally{k.T=t,V.p=o}}(pa&3)!==0&&Rr(),It(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===ru?ni++:(ni=0,ru=e):ni=0,si(0)}}function Ah(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qs(t)))}function Rr(){return xh(),Eh(),Th(),Oh()}function Oh(){if(We!==5)return!1;var e=Ba,t=su;su=0;var a=Tl(pa),s=k.T,o=V.p;try{V.p=32>a?32:a,k.T=null,a=iu,iu=null;var u=Ba,h=pa;if(We=0,es=Ba=null,pa=0,(xe&6)!==0)throw Error(l(331));var y=xe;if(xe|=4,oh(u.current),ih(u,u.current,h,a),xe=y,si(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Ss,u)}catch{}return!0}finally{V.p=o,k.T=s,Ah(e,t)}}function jh(e,t,a){t=Ut(a,t),t=qo(e.stateNode,t,2),e=Na(e,t,2),e!==null&&(Es(e,2),It(e))}function Ae(e,t,a){if(e.tag===3)jh(e,e,a);else for(;t!==null;){if(t.tag===3){jh(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ma===null||!Ma.has(s))){e=Ut(a,e),a=Rf(2),s=Na(t,a,2),s!==null&&(Nf(a,s,t,e),Es(s,2),It(s));break}}t=t.return}}function uu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new my;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(tu=!0,o.add(a),e=by.bind(null,e,t,a),t.then(e,e))}function by(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ke===e&&(me&a)===a&&(He===4||He===3&&(me&62914560)===me&&300>bt()-xr?(xe&2)===0&&ts(e,0):au|=a,Fn===me&&(Fn=0)),It(e)}function Rh(e,t){t===0&&(t=Sc()),e=nn(e,t),e!==null&&(Es(e,t),It(e))}function _y(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Rh(e,a)}function wy(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Rh(e,a)}function Sy(e,t){return wl(e,t)}var Nr=null,ns=null,cu=!1,Cr=!1,du=!1,La=0;function It(e){e!==ns&&e.next===null&&(ns===null?Nr=ns=e:ns=ns.next=e),Cr=!0,cu||(cu=!0,Ey())}function si(e,t){if(!du&&Cr){du=!0;do for(var a=!1,s=Nr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var h=s.suspendedLanes,y=s.pingedLanes;u=(1<<31-wt(42|e)+1)-1,u&=o&~(h&~y),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Dh(s,u))}else u=me,u=zi(s,s===ke?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||xs(s,u)||(a=!0,Dh(s,u));s=s.next}while(a);du=!1}}function xy(){Nh()}function Nh(){Cr=cu=!1;var e=0;La!==0&&Uy()&&(e=La);for(var t=bt(),a=null,s=Nr;s!==null;){var o=s.next,u=Ch(s,t);u===0?(s.next=null,a===null?Nr=o:a.next=o,o===null&&(ns=a)):(a=s,(e!==0||(u&3)!==0)&&(Cr=!0)),s=o}We!==0&&We!==5||si(e),La!==0&&(La=0)}function Ch(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-wt(u),y=1<<h,w=o[h];w===-1?((y&a)===0||(y&s)!==0)&&(o[h]=Ip(y,t)):w<=t&&(e.expiredLanes|=y),u&=~y}if(t=ke,a=me,a=zi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Sl(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||xs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Sl(s),Tl(a)){case 2:case 8:a=_c;break;case 32:a=Ci;break;case 268435456:a=wc;break;default:a=Ci}return s=kh.bind(null,e),a=wl(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Sl(s),e.callbackPriority=2,e.callbackNode=null,2}function kh(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Rr()&&e.callbackNode!==a)return null;var s=me;return s=zi(e,e===ke?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(hh(e,s,t),Ch(e,bt()),e.callbackNode!=null&&e.callbackNode===a?kh.bind(null,e):null)}function Dh(e,t){if(Rr())return null;hh(e,t,!0)}function Ey(){My(function(){(xe&6)!==0?wl(bc,xy):Nh()})}function fu(){if(La===0){var e=Gn;e===0&&(e=ki,ki<<=1,(ki&261888)===0&&(ki=256)),La=e}return La}function Uh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Li(""+e)}function zh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Ty(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=Uh((o[ft]||null).action),h=s.submitter;h&&(t=(t=h[ft]||null)?Uh(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var y=new Vi("action","action",null,s,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(La!==0){var w=h?zh(o,h):new FormData(o);ko(a,{pending:!0,data:w,method:o.method,action:u},null,w)}}else typeof u=="function"&&(y.preventDefault(),w=h?zh(o,h):new FormData(o),ko(a,{pending:!0,data:w,method:o.method,action:u},u,w))},currentTarget:o}]})}}for(var hu=0;hu<Jl.length;hu++){var mu=Jl[hu],Ay=mu.toLowerCase(),Oy=mu[0].toUpperCase()+mu.slice(1);$t(Ay,"on"+Oy)}$t(dd,"onAnimationEnd"),$t(fd,"onAnimationIteration"),$t(hd,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(Vg,"onTransitionRun"),$t(Yg,"onTransitionStart"),$t(Kg,"onTransitionCancel"),$t(md,"onTransitionEnd"),jn("onMouseEnter",["mouseout","mouseover"]),jn("onMouseLeave",["mouseout","mouseover"]),jn("onPointerEnter",["pointerout","pointerover"]),jn("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ii));function Mh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var h=s.length-1;0<=h;h--){var y=s[h],w=y.instance,R=y.currentTarget;if(y=y.listener,w!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=R;try{u(o)}catch(M){Qi(M)}o.currentTarget=null,u=w}else for(h=0;h<s.length;h++){if(y=s[h],w=y.instance,R=y.currentTarget,y=y.listener,w!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=R;try{u(o)}catch(M){Qi(M)}o.currentTarget=null,u=w}}}}function he(e,t){var a=t[Al];a===void 0&&(a=t[Al]=new Set);var s=e+"__bubble";a.has(s)||(Bh(t,e,2,!1),a.add(s))}function pu(e,t,a){var s=0;t&&(s|=4),Bh(a,e,s,t)}var kr="_reactListening"+Math.random().toString(36).slice(2);function gu(e){if(!e[kr]){e[kr]=!0,Rc.forEach(function(a){a!=="selectionchange"&&(jy.has(a)||pu(a,!1,e),pu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kr]||(t[kr]=!0,pu("selectionchange",!1,t))}}function Bh(e,t,a,s){switch(fm(t)){case 2:var o=a0;break;case 8:o=n0;break;default:o=Cu}a=o.bind(null,t,a,e),o=void 0,!zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function yu(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var y=s.stateNode.containerInfo;if(y===o)break;if(h===4)for(h=s.return;h!==null;){var w=h.tag;if((w===3||w===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;y!==null;){if(h=Tn(y),h===null)return;if(w=h.tag,w===5||w===6||w===26||w===27){s=u=h;continue e}y=y.parentNode}}s=s.return}$c(function(){var R=u,M=Dl(a),q=[];e:{var N=pd.get(e);if(N!==void 0){var U=Vi,Z=e;switch(e){case"keypress":if($i(a)===0)break e;case"keydown":case"keyup":U=wg;break;case"focusin":Z="focus",U=Ll;break;case"focusout":Z="blur",U=Ll;break;case"beforeblur":case"afterblur":U=Ll;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Eg;break;case dd:case fd:case hd:U=fg;break;case md:U=Ag;break;case"scroll":case"scrollend":U=lg;break;case"wheel":U=jg;break;case"copy":case"cut":case"paste":U=mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Qc;break;case"toggle":case"beforetoggle":U=Ng}var ae=(t&4)!==0,Re=!ae&&(e==="scroll"||e==="scrollend"),O=ae?N!==null?N+"Capture":null:N;ae=[];for(var E=R,j;E!==null;){var B=E;if(j=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||j===null||O===null||(B=Os(E,O),B!=null&&ae.push(ri(E,B,j))),Re)break;E=E.return}0<ae.length&&(N=new U(N,Z,null,a,M),q.push({event:N,listeners:ae}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",N&&a!==kl&&(Z=a.relatedTarget||a.fromElement)&&(Tn(Z)||Z[En]))break e;if((U||N)&&(N=M.window===M?M:(N=M.ownerDocument)?N.defaultView||N.parentWindow:window,U?(Z=a.relatedTarget||a.toElement,U=R,Z=Z?Tn(Z):null,Z!==null&&(Re=d(Z),ae=Z.tag,Z!==Re||ae!==5&&ae!==27&&ae!==6)&&(Z=null)):(U=null,Z=R),U!==Z)){if(ae=Yc,B="onMouseLeave",O="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Qc,B="onPointerLeave",O="onPointerEnter",E="pointer"),Re=U==null?N:As(U),j=Z==null?N:As(Z),N=new ae(B,E+"leave",U,a,M),N.target=Re,N.relatedTarget=j,B=null,Tn(M)===R&&(ae=new ae(O,E+"enter",Z,a,M),ae.target=j,ae.relatedTarget=Re,B=ae),Re=B,U&&Z)t:{for(ae=Ry,O=U,E=Z,j=0,B=O;B;B=ae(B))j++;B=0;for(var F=E;F;F=ae(F))B++;for(;0<j-B;)O=ae(O),j--;for(;0<B-j;)E=ae(E),B--;for(;j--;){if(O===E||E!==null&&O===E.alternate){ae=O;break t}O=ae(O),E=ae(E)}ae=null}else ae=null;U!==null&&qh(q,N,U,ae,!1),Z!==null&&Re!==null&&qh(q,Re,Z,ae,!0)}}e:{if(N=R?As(R):window,U=N.nodeName&&N.nodeName.toLowerCase(),U==="select"||U==="input"&&N.type==="file")var _e=ed;else if(Pc(N))if(td)_e=Hg;else{_e=qg;var W=Bg}else U=N.nodeName,!U||U.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?R&&Cl(R.elementType)&&(_e=ed):_e=Lg;if(_e&&(_e=_e(e,R))){Fc(q,_e,a,M);break e}W&&W(e,N,R),e==="focusout"&&R&&N.type==="number"&&R.memoizedProps.value!=null&&Nl(N,"number",N.value)}switch(W=R?As(R):window,e){case"focusin":(Pc(W)||W.contentEditable==="true")&&(Un=W,Kl=R,zs=null);break;case"focusout":zs=Kl=Un=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,ud(q,a,M);break;case"selectionchange":if(Gg)break;case"keydown":case"keyup":ud(q,a,M)}var ce;if($l)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Dn?Ic(e,a)&&(pe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(Xc&&a.locale!=="ko"&&(Dn||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Dn&&(ce=Gc()):(xa=M,Ml="value"in xa?xa.value:xa.textContent,Dn=!0)),W=Dr(R,pe),0<W.length&&(pe=new Kc(pe,e,null,a,M),q.push({event:pe,listeners:W}),ce?pe.data=ce:(ce=Wc(a),ce!==null&&(pe.data=ce)))),(ce=kg?Dg(e,a):Ug(e,a))&&(pe=Dr(R,"onBeforeInput"),0<pe.length&&(W=new Kc("onBeforeInput","beforeinput",null,a,M),q.push({event:W,listeners:pe}),W.data=ce)),Ty(q,e,R,a,M)}Mh(q,t)})}function ri(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Dr(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Os(e,a),o!=null&&s.unshift(ri(e,o,u)),o=Os(e,t),o!=null&&s.push(ri(e,o,u))),e.tag===3)return s;e=e.return}return[]}function Ry(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qh(e,t,a,s,o){for(var u=t._reactName,h=[];a!==null&&a!==s;){var y=a,w=y.alternate,R=y.stateNode;if(y=y.tag,w!==null&&w===s)break;y!==5&&y!==26&&y!==27||R===null||(w=R,o?(R=Os(a,u),R!=null&&h.unshift(ri(a,R,w))):o||(R=Os(a,u),R!=null&&h.push(ri(a,R,w)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var Ny=/\r\n?/g,Cy=/\u0000|\uFFFD/g;function Lh(e){return(typeof e=="string"?e:""+e).replace(Ny,`
`).replace(Cy,"")}function Hh(e,t){return t=Lh(t),Lh(e)===t}function je(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Nn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Nn(e,""+s);break;case"className":Bi(e,"class",s);break;case"tabIndex":Bi(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(e,a,s);break;case"style":Lc(e,s,u);break;case"data":if(t!=="object"){Bi(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Li(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&je(e,t,"name",o.name,o,null),je(e,t,"formEncType",o.formEncType,o,null),je(e,t,"formMethod",o.formMethod,o,null),je(e,t,"formTarget",o.formTarget,o,null)):(je(e,t,"encType",o.encType,o,null),je(e,t,"method",o.method,o,null),je(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Li(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=ea);break;case"onScroll":s!=null&&he("scroll",e);break;case"onScrollEnd":s!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Li(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":he("beforetoggle",e),he("toggle",e),Mi(e,"popover",s);break;case"xlinkActuate":Ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ft(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ft(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ft(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ft(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Mi(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ig.get(a)||a,Mi(e,a,s))}}function vu(e,t,a,s,o,u){switch(a){case"style":Lc(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Nn(e,s):(typeof s=="number"||typeof s=="bigint")&&Nn(e,""+s);break;case"onScroll":s!=null&&he("scroll",e);break;case"onScrollEnd":s!=null&&he("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[ft]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Mi(e,a,s)}}}function rt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var h=a[u];if(h!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:je(e,t,u,h,a,null)}}o&&je(e,t,"srcSet",a.srcSet,a,null),s&&je(e,t,"src",a.src,a,null);return;case"input":he("invalid",e);var y=u=h=o=null,w=null,R=null;for(s in a)if(a.hasOwnProperty(s)){var M=a[s];if(M!=null)switch(s){case"name":o=M;break;case"type":h=M;break;case"checked":w=M;break;case"defaultChecked":R=M;break;case"value":u=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,t));break;default:je(e,t,s,M,a,null)}}zc(e,u,y,w,R,h,o,!1);return;case"select":he("invalid",e),s=h=u=null;for(o in a)if(a.hasOwnProperty(o)&&(y=a[o],y!=null))switch(o){case"value":u=y;break;case"defaultValue":h=y;break;case"multiple":s=y;default:je(e,t,o,y,a,null)}t=u,a=h,e.multiple=!!s,t!=null?Rn(e,!!s,t,!1):a!=null&&Rn(e,!!s,a,!0);return;case"textarea":he("invalid",e),u=o=s=null;for(h in a)if(a.hasOwnProperty(h)&&(y=a[h],y!=null))switch(h){case"value":s=y;break;case"defaultValue":o=y;break;case"children":u=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:je(e,t,h,y,a,null)}Bc(e,s,o,u);return;case"option":for(w in a)a.hasOwnProperty(w)&&(s=a[w],s!=null)&&(w==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":je(e,t,w,s,a,null));return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(s=0;s<ii.length;s++)he(ii[s],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(s=a[R],s!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:je(e,t,R,s,a,null)}return;default:if(Cl(t)){for(M in a)a.hasOwnProperty(M)&&(s=a[M],s!==void 0&&vu(e,t,M,s,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(s=a[y],s!=null&&je(e,t,y,s,a,null))}function ky(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,y=null,w=null,R=null,M=null;for(U in a){var q=a[U];if(a.hasOwnProperty(U)&&q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=q;default:s.hasOwnProperty(U)||je(e,t,U,null,s,q)}}for(var N in s){var U=s[N];if(q=a[N],s.hasOwnProperty(N)&&(U!=null||q!=null))switch(N){case"type":u=U;break;case"name":o=U;break;case"checked":R=U;break;case"defaultChecked":M=U;break;case"value":h=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:U!==q&&je(e,t,N,U,s,q)}}Rl(e,h,y,w,R,M,u,o);return;case"select":U=h=y=N=null;for(u in a)if(w=a[u],a.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":U=w;default:s.hasOwnProperty(u)||je(e,t,u,null,s,w)}for(o in s)if(u=s[o],w=a[o],s.hasOwnProperty(o)&&(u!=null||w!=null))switch(o){case"value":N=u;break;case"defaultValue":y=u;break;case"multiple":h=u;default:u!==w&&je(e,t,o,u,s,w)}t=y,a=h,s=U,N!=null?Rn(e,!!a,N,!1):!!s!=!!a&&(t!=null?Rn(e,!!a,t,!0):Rn(e,!!a,a?[]:"",!1));return;case"textarea":U=N=null;for(y in a)if(o=a[y],a.hasOwnProperty(y)&&o!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:je(e,t,y,null,s,o)}for(h in s)if(o=s[h],u=a[h],s.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":N=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&je(e,t,h,o,s,u)}Mc(e,N,U);return;case"option":for(var Z in a)N=a[Z],a.hasOwnProperty(Z)&&N!=null&&!s.hasOwnProperty(Z)&&(Z==="selected"?e.selected=!1:je(e,t,Z,null,s,N));for(w in s)N=s[w],U=a[w],s.hasOwnProperty(w)&&N!==U&&(N!=null||U!=null)&&(w==="selected"?e.selected=N&&typeof N!="function"&&typeof N!="symbol":je(e,t,w,N,s,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in a)N=a[ae],a.hasOwnProperty(ae)&&N!=null&&!s.hasOwnProperty(ae)&&je(e,t,ae,null,s,N);for(R in s)if(N=s[R],U=a[R],s.hasOwnProperty(R)&&N!==U&&(N!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,t));break;default:je(e,t,R,N,s,U)}return;default:if(Cl(t)){for(var Re in a)N=a[Re],a.hasOwnProperty(Re)&&N!==void 0&&!s.hasOwnProperty(Re)&&vu(e,t,Re,void 0,s,N);for(M in s)N=s[M],U=a[M],!s.hasOwnProperty(M)||N===U||N===void 0&&U===void 0||vu(e,t,M,N,s,U);return}}for(var O in a)N=a[O],a.hasOwnProperty(O)&&N!=null&&!s.hasOwnProperty(O)&&je(e,t,O,null,s,N);for(q in s)N=s[q],U=a[q],!s.hasOwnProperty(q)||N===U||N==null&&U==null||je(e,t,q,N,s,U)}function $h(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,h=o.initiatorType,y=o.duration;if(u&&y&&$h(h)){for(h=0,y=o.responseEnd,s+=1;s<a.length;s++){var w=a[s],R=w.startTime;if(R>y)break;var M=w.transferSize,q=w.initiatorType;M&&$h(q)&&(w=w.responseEnd,h+=M*(w<y?1:(y-R)/(w-R)))}if(--s,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bu=null,_u=null;function Ur(e){return e.nodeType===9?e:e.ownerDocument}function Gh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Su=null;function Uy(){var e=window.event;return e&&e.type==="popstate"?e===Su?!1:(Su=e,!0):(Su=null,!1)}var Yh=typeof setTimeout=="function"?setTimeout:void 0,zy=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,My=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(e){return Kh.resolve(null).then(e).catch(By)}:Yh;function By(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function Qh(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),ls(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")li(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,li(a);for(var u=a.firstChild;u;){var h=u.nextSibling,y=u.nodeName;u[Ts]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=h}}else a==="body"&&li(e.ownerDocument.body);a=o}while(a);ls(t)}function Xh(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xu(a),Ol(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qy(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ts])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function Ly(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Lt(e.nextSibling),e===null))return null;return e}function Jh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Lt(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Au=null;function Zh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Lt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Ih(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Wh(e,t,a){switch(t=Ur(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function li(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ol(e)}var Ht=new Map,Ph=new Set;function zr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=V.d;V.d={f:$y,r:Gy,D:Vy,C:Yy,L:Ky,m:Qy,X:Jy,S:Xy,M:Zy};function $y(){var e=ga.f(),t=Ar();return e||t}function Gy(e){var t=An(e);t!==null&&t.tag===5&&t.type==="form"?pf(t):ga.r(e)}var ss=typeof document>"u"?null:document;function Fh(e,t,a){var s=ss;if(s&&typeof t=="string"&&t){var o=kt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Ph.has(o)||(Ph.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),rt(t,"link",e),et(t),s.head.appendChild(t)))}}function Vy(e){ga.D(e),Fh("dns-prefetch",e,null)}function Yy(e,t){ga.C(e,t),Fh("preconnect",e,t)}function Ky(e,t,a){ga.L(e,t,a);var s=ss;if(s&&e&&t){var o='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+kt(a.imageSizes)+'"]')):o+='[href="'+kt(e)+'"]';var u=o;switch(t){case"style":u=is(e);break;case"script":u=rs(e)}Ht.has(u)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ht.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(oi(u))||t==="script"&&s.querySelector(ui(u))||(t=s.createElement("link"),rt(t,"link",e),et(t),s.head.appendChild(t)))}}function Qy(e,t){ga.m(e,t);var a=ss;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+kt(s)+'"][href="'+kt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=rs(e)}if(!Ht.has(u)&&(e=_({rel:"modulepreload",href:e},t),Ht.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ui(u)))return}s=a.createElement("link"),rt(s,"link",e),et(s),a.head.appendChild(s)}}}function Xy(e,t,a){ga.S(e,t,a);var s=ss;if(s&&e){var o=On(s).hoistableStyles,u=is(e);t=t||"default";var h=o.get(u);if(!h){var y={loading:0,preload:null};if(h=s.querySelector(oi(u)))y.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ht.get(u))&&Ou(e,a);var w=h=s.createElement("link");et(w),rt(w,"link",e),w._p=new Promise(function(R,M){w.onload=R,w.onerror=M}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Mr(h,t,s)}h={type:"stylesheet",instance:h,count:1,state:y},o.set(u,h)}}}function Jy(e,t){ga.X(e,t);var a=ss;if(a&&e){var s=On(a).hoistableScripts,o=rs(e),u=s.get(o);u||(u=a.querySelector(ui(o)),u||(e=_({src:e,async:!0},t),(t=Ht.get(o))&&ju(e,t),u=a.createElement("script"),et(u),rt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function Zy(e,t){ga.M(e,t);var a=ss;if(a&&e){var s=On(a).hoistableScripts,o=rs(e),u=s.get(o);u||(u=a.querySelector(ui(o)),u||(e=_({src:e,async:!0,type:"module"},t),(t=Ht.get(o))&&ju(e,t),u=a.createElement("script"),et(u),rt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function em(e,t,a,s){var o=(o=de.current)?zr(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=is(a.href),a=On(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=is(a.href);var u=On(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(oi(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Ht.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ht.set(e,a),u||Iy(o,e,a,h.state))),t&&s===null)throw Error(l(528,""));return h}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=rs(a),a=On(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function is(e){return'href="'+kt(e)+'"'}function oi(e){return'link[rel="stylesheet"]['+e+"]"}function tm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Iy(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),rt(t,"link",a),et(t),e.head.appendChild(t))}function rs(e){return'[src="'+kt(e)+'"]'}function ui(e){return"script[async]"+e}function am(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+kt(a.href)+'"]');if(s)return t.instance=s,et(s),s;var o=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),rt(s,"style",o),Mr(s,a.precedence,e),t.instance=s;case"stylesheet":o=is(a.href);var u=e.querySelector(oi(o));if(u)return t.state.loading|=4,t.instance=u,et(u),u;s=tm(a),(o=Ht.get(o))&&Ou(s,o),u=(e.ownerDocument||e).createElement("link"),et(u);var h=u;return h._p=new Promise(function(y,w){h.onload=y,h.onerror=w}),rt(u,"link",s),t.state.loading|=4,Mr(u,a.precedence,e),t.instance=u;case"script":return u=rs(a.src),(o=e.querySelector(ui(u)))?(t.instance=o,et(o),o):(s=a,(o=Ht.get(u))&&(s=_({},a),ju(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),et(o),rt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Mr(s,a.precedence,e));return t.instance}function Mr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,h=0;h<s.length;h++){var y=s[h];if(y.dataset.precedence===t)u=y;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Br=null;function nm(e,t,a){if(Br===null){var s=new Map,o=Br=new Map;o.set(a,s)}else o=Br,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Ts]||u[at]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var y=s.get(h);y?y.push(u):s.set(h,[u])}}return s}function sm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Wy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function im(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Py(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=is(s.href),u=t.querySelector(oi(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=qr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,et(u);return}u=t.ownerDocument||t,s=tm(s),(o=Ht.get(o))&&Ou(s,o),u=u.createElement("link"),et(u);var h=u;h._p=new Promise(function(y,w){h.onload=y,h.onerror=w}),rt(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=qr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Ru=0;function Fy(e,t){return e.stylesheets&&e.count===0&&Hr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Hr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ru===0&&(Ru=62500*Dy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ru?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function qr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lr=null;function Hr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lr=new Map,t.forEach(e0,e),Lr=null,qr.call(e))}function e0(e,t){if(!(t.state.loading&4)){var a=Lr.get(e);if(a)var s=a.get(null);else{a=new Map,Lr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),s=h)}s&&a.set(null,s)}o=t.instance,h=o.getAttribute("data-precedence"),u=a.get(h)||s,u===s&&a.set(null,o),a.set(h,o),this.count++,s=qr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ci={$$typeof:D,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function t0(e,t,a,s,o,u,h,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.hiddenUpdates=xl(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function rm(e,t,a,s,o,u,h,y,w,R,M,q){return e=new t0(e,t,a,h,w,R,M,q,y),t=1,u===!0&&(t|=24),u=xt(3,null,null,t),e.current=u,u.stateNode=e,t=lo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},fo(u),e}function lm(e){return e?(e=Bn,e):Bn}function om(e,t,a,s,o,u){o=lm(o),s.context===null?s.context=o:s.pendingContext=o,s=Ra(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=Na(e,s,t),a!==null&&(vt(a,e,t),Gs(a,e,t))}function um(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Nu(e,t){um(e,t),(e=e.alternate)&&um(e,t)}function cm(e){if(e.tag===13||e.tag===31){var t=nn(e,67108864);t!==null&&vt(t,e,67108864),Nu(e,67108864)}}function dm(e){if(e.tag===13||e.tag===31){var t=jt();t=El(t);var a=nn(e,t);a!==null&&vt(a,e,t),Nu(e,t)}}var $r=!0;function a0(e,t,a,s){var o=k.T;k.T=null;var u=V.p;try{V.p=2,Cu(e,t,a,s)}finally{V.p=u,k.T=o}}function n0(e,t,a,s){var o=k.T;k.T=null;var u=V.p;try{V.p=8,Cu(e,t,a,s)}finally{V.p=u,k.T=o}}function Cu(e,t,a,s){if($r){var o=ku(s);if(o===null)yu(e,t,s,Gr,a),hm(e,s);else if(i0(o,e,t,a,s))s.stopPropagation();else if(hm(e,s),t&4&&-1<s0.indexOf(e)){for(;o!==null;){var u=An(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=Pa(u.pendingLanes);if(h!==0){var y=u;for(y.pendingLanes|=2,y.entangledLanes|=2;h;){var w=1<<31-wt(h);y.entanglements[1]|=w,h&=~w}It(u),(xe&6)===0&&(Er=bt()+500,si(0))}}break;case 31:case 13:y=nn(u,2),y!==null&&vt(y,u,2),Ar(),Nu(u,2)}if(u=ku(s),u===null&&yu(e,t,s,Gr,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else yu(e,t,s,null,a)}}function ku(e){return e=Dl(e),Du(e)}var Gr=null;function Du(e){if(Gr=null,e=Tn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gr=e,null}function fm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vp()){case bc:return 2;case _c:return 8;case Ci:case Yp:return 32;case wc:return 268435456;default:return 32}default:return 32}}var Uu=!1,$a=null,Ga=null,Va=null,di=new Map,fi=new Map,Ya=[],s0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hm(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(t.pointerId)}}function hi(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=An(t),t!==null&&cm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function i0(e,t,a,s,o){switch(t){case"focusin":return $a=hi($a,e,t,a,s,o),!0;case"dragenter":return Ga=hi(Ga,e,t,a,s,o),!0;case"mouseover":return Va=hi(Va,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return di.set(u,hi(di.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,fi.set(u,hi(fi.get(u)||null,e,t,a,s,o)),!0}return!1}function mm(e){var t=Tn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Oc(e.priority,function(){dm(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,Oc(e.priority,function(){dm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ku(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);kl=s,a.target.dispatchEvent(s),kl=null}else return t=An(a),t!==null&&cm(t),e.blockedOn=a,!1;t.shift()}return!0}function pm(e,t,a){Vr(e)&&a.delete(t)}function r0(){Uu=!1,$a!==null&&Vr($a)&&($a=null),Ga!==null&&Vr(Ga)&&(Ga=null),Va!==null&&Vr(Va)&&(Va=null),di.forEach(pm),fi.forEach(pm)}function Yr(e,t){e.blockedOn===t&&(e.blockedOn=null,Uu||(Uu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,r0)))}var Kr=null;function gm(e){Kr!==e&&(Kr=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kr===e&&(Kr=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Du(s||a)===null)continue;break}var u=An(a);u!==null&&(e.splice(t,3),t-=3,ko(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function ls(e){function t(w){return Yr(w,e)}$a!==null&&Yr($a,e),Ga!==null&&Yr(Ga,e),Va!==null&&Yr(Va,e),di.forEach(t),fi.forEach(t);for(var a=0;a<Ya.length;a++){var s=Ya[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ya.length&&(a=Ya[0],a.blockedOn===null);)mm(a),a.blockedOn===null&&Ya.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],h=o[ft]||null;if(typeof u=="function")h||gm(a);else if(h){var y=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[ft]||null)y=h.formAction;else if(Du(o)!==null)continue}else y=h.action;typeof y=="function"?a[s+1]=y:(a.splice(s,3),s-=3),gm(a)}}}function ym(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function zu(e){this._internalRoot=e}Qr.prototype.render=zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=jt();om(a,s,e,t,null,null)},Qr.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;om(e.current,2,null,e,null,null),Ar(),t[En]=null}};function Qr(e){this._internalRoot=e}Qr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ac();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ya.length&&t!==0&&t<Ya[a].priority;a++);Ya.splice(a,0,e),a===0&&mm(e)}};var vm=n.version;if(vm!=="19.2.4")throw Error(l(527,vm,"19.2.4"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var l0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xr.isDisabled&&Xr.supportsFiber)try{Ss=Xr.inject(l0),_t=Xr}catch{}}return pi.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,s="",o=Tf,u=Af,h=Of;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=rm(e,1,!1,null,null,a,s,null,o,u,h,ym),e[En]=t.current,gu(e),new zu(t)},pi.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var s=!1,o="",u=Tf,h=Af,y=Of,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=rm(e,1,!0,t,a??null,s,o,w,u,h,y,ym),t.context=lm(null),a=t.current,s=jt(),s=El(s),o=Ra(s),o.callback=null,Na(a,o,s),a=s,t.current.lanes=a,Es(t,a),It(t),e[En]=t.current,gu(e),new Qr(t)},pi.version="19.2.4",pi}var jm;function y0(){if(jm)return qu.exports;jm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),qu.exports=g0(),qu.exports}var v0=y0();function cl(i,n){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(i);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(i,l[c])&&(r[l[c]]=i[l[c]]);return r}function b0(i,n,r,l){function c(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function m(b){try{g(l.next(b))}catch(_){f(_)}}function p(b){try{g(l.throw(b))}catch(_){f(_)}}function g(b){b.done?d(b.value):c(b.value).then(m,p)}g((l=l.apply(i,n||[])).next())})}const _0=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class mc extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class w0 extends mc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Rm extends mc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Nm extends mc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Pu;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Pu||(Pu={}));class S0{constructor(n,{headers:r={},customFetch:l,region:c=Pu.Any}={}){this.url=n,this.headers=r,this.region=c,this.fetch=_0(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return b0(this,arguments,void 0,function*(r,l={}){var c;let d,f;try{const{headers:m,method:p,body:g,signal:b,timeout:_}=l;let x={},{region:S}=l;S||(S=this.region);const A=new URL(`${this.url}/${r}`);S&&S!=="any"&&(x["x-region"]=S,A.searchParams.set("forceFunctionRegion",S));let C;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",C=g):typeof g=="string"?(x["Content-Type"]="text/plain",C=g):typeof FormData<"u"&&g instanceof FormData?C=g:(x["Content-Type"]="application/json",C=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?C=JSON.stringify(g):C=g;let H=b;_&&(f=new AbortController,d=setTimeout(()=>f.abort(),_),b?(H=f.signal,b.addEventListener("abort",()=>f.abort())):H=f.signal);const G=yield this.fetch(A.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:C,signal:H}).catch(le=>{throw new w0(le)}),Y=G.headers.get("x-relay-error");if(Y&&Y==="true")throw new Rm(G);if(!G.ok)throw new Nm(G);let D=((c=G.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),K;return D==="application/json"?K=yield G.json():D==="application/octet-stream"||D==="application/pdf"?K=yield G.blob():D==="text/event-stream"?K=G:D==="multipart/form-data"?K=yield G.formData():K=yield G.text(),{data:K,error:null,response:G}}catch(m){return{data:null,error:m,response:m instanceof Nm||m instanceof Rm?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var x0=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},E0=class{constructor(i){var n,r;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(r=i.isMaybeSingle)!==null&&r!==void 0?r:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,p=null,g=d.status,b=d.statusText;if(d.ok){var _,x;if(r.method!=="HEAD"){var S;const G=await d.text();G===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((S=r.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?m=G:m=JSON.parse(G))}const C=(_=r.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),H=(x=d.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");C&&H&&H.length>1&&(p=parseInt(H[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,g=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var A;const C=await d.text();try{f=JSON.parse(C),Array.isArray(f)&&d.status===404&&(m=[],f=null,g=200,b="OK")}catch{d.status===404&&C===""?(g=204,b="No Content"):f={message:C}}if(f&&r.isMaybeSingle&&(!(f==null||(A=f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,g=200,b="OK"),f&&r.shouldThrowOnError)throw new x0(f)}return{error:f,data:m,count:p,status:g,statusText:b}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let m="";const p=d?.cause;if(p){var g,b,_,x;const A=(g=p?.message)!==null&&g!==void 0?g:"",C=(b=p?.code)!==null&&b!==void 0?b:"";m=`${(_=d?.name)!==null&&_!==void 0?_:"FetchError"}: ${d?.message}`,m+=`

Caused by: ${(x=p?.name)!==null&&x!==void 0?x:"Error"}: ${A}`,C&&(m+=` (${C})`),p?.stack&&(m+=`
${p.stack}`)}else{var S;m=(S=d?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,n)}returns(){return this}overrideTypes(){return this}},T0=class extends E0{select(i){let n=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,n,{foreignTable:r,referencedTable:l=r}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var f;const m=[i?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const Cm=new RegExp("[,()]");var ms=class extends T0{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&Cm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${r})`),this}notIn(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&Cm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`not.in.(${r})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:r,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=r===void 0?"":`(${r})`;return this.url.searchParams.append(i,`${c}fts${d}.${n}`),this}match(i){return Object.entries(i).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(i,n,r){return this.url.searchParams.append(i,`not.${n}.${r}`),this}or(i,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,n,r){return this.url.searchParams.append(i,`${n}.${r}`),this}},A0=class{constructor(i,{headers:n={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(n),this.schema=r,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,n){const{head:r=!1,count:l}=n??{},c=r?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",f),l&&p.append("Prefer",`count=${l}`),new ms({method:c,url:m,headers:p,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:r=!0}={}){var l;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),r||f.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(m.length>0){const p=[...new Set(m)].map(g=>`"${g}"`);d.searchParams.set("columns",p.join(","))}}return new ms({method:c,url:d,headers:f,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:c=!0}={}){var d;const f="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&m.searchParams.set("on_conflict",n),l&&p.append("Prefer",`count=${l}`),c||p.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(g.length>0){const b=[...new Set(g)].map(_=>`"${_}"`);m.searchParams.set("columns",b.join(","))}}return new ms({method:f,url:m,headers:p,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:n}={}){var r;const l="PATCH",{url:c,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new ms({method:l,url:c,headers:d,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var n;const r="DELETE",{url:l,headers:c}=this.cloneRequestState();return i&&c.append("Prefer",`count=${i}`),new ms({method:r,url:l,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},O0=class tp{constructor(n,{headers:r={},schema:l,fetch:c}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new A0(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new tp(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:l=!1,get:c=!1,count:d}={}){var f;let m;const p=new URL(`${this.url}/rpc/${n}`);let g;const b=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(b)),_=l&&Object.values(r).some(b);_?(m="POST",g=r):l||c?(m=l?"HEAD":"GET",Object.entries(r).filter(([S,A])=>A!==void 0).map(([S,A])=>[S,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([S,A])=>{p.searchParams.append(S,A)})):(m="POST",g=r);const x=new Headers(this.headers);return _?x.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&x.set("Prefer",`count=${d}`),new ms({method:m,url:p,headers:x,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class j0{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const c=l.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const R0="2.93.3",N0=`realtime-js/${R0}`,C0="1.0.0",ap="2.0.0",km=ap,Fu=1e4,k0=1e3,D0=100;var Qa;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Qa||(Qa={}));var Pe;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Pe||(Pe={}));var Qt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Qt||(Qt={}));var ec;(function(i){i.websocket="websocket"})(ec||(ec={}));var wn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(wn||(wn={}));class U0{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const c=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var r,l;const c=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,l){var c,d;const f=n.topic,m=(c=n.ref)!==null&&c!==void 0?c:"",p=(d=n.join_ref)!==null&&d!==void 0?d:"",g=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+f.length+g.length+_.length,S=new ArrayBuffer(this.HEADER_LENGTH+x);let A=new DataView(S),C=0;A.setUint8(C++,this.KINDS.userBroadcastPush),A.setUint8(C++,p.length),A.setUint8(C++,m.length),A.setUint8(C++,f.length),A.setUint8(C++,g.length),A.setUint8(C++,_.length),A.setUint8(C++,r),Array.from(p,G=>A.setUint8(C++,G.charCodeAt(0))),Array.from(m,G=>A.setUint8(C++,G.charCodeAt(0))),Array.from(f,G=>A.setUint8(C++,G.charCodeAt(0))),Array.from(g,G=>A.setUint8(C++,G.charCodeAt(0))),Array.from(_,G=>A.setUint8(C++,G.charCodeAt(0)));var H=new Uint8Array(S.byteLength+l.byteLength);return H.set(new Uint8Array(S),0),H.set(new Uint8Array(l),S.byteLength),H.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[c,d,f,m,p]=l;return r({join_ref:c,ref:d,topic:f,event:m,payload:p})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),c=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,r,c)}_decodeUserBroadcast(n,r,l){const c=r.getUint8(1),d=r.getUint8(2),f=r.getUint8(3),m=r.getUint8(4);let p=this.HEADER_LENGTH+4;const g=l.decode(n.slice(p,p+c));p=p+c;const b=l.decode(n.slice(p,p+d));p=p+d;const _=l.decode(n.slice(p,p+f));p=p+f;const x=n.slice(p,n.byteLength),S=m===this.JSON_ENCODING?JSON.parse(l.decode(x)):x,A={type:this.BROADCAST_EVENT,event:b,payload:S};return f>0&&(A.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class np{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(ze||(ze={}));const Dm=(i,n,r={})=>{var l;const c=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=z0(f,i,n,c),d),{}):{}},z0=(i,n,r,l)=>{const c=n.find(m=>m.name===i),d=c?.type,f=r[i];return d&&!l.includes(d)?sp(d,f):tc(f)},sp=(i,n)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return L0(n,r)}switch(i){case ze.bool:return M0(n);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return B0(n);case ze.json:case ze.jsonb:return q0(n);case ze.timestamp:return H0(n);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return tc(n);default:return tc(n)}},tc=i=>i,M0=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},B0=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},q0=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},L0=(i,n)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let d;const f=i.slice(1,r);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>sp(n,m))}return i},H0=i=>typeof i=="string"?i.replace(" ","T"):i,ip=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Gu{constructor(n,r,l={},c=Fu){this.channel=n,this.event=r,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Um;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Um||(Um={}));class vi{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vi.syncState(this.state,c,d,f),this.pendingDiffs.forEach(p=>{this.state=vi.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=vi.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,c){const d=this.cloneDeep(n),f=this.transformState(r),m={},p={};return this.map(d,(g,b)=>{f[g]||(p[g]=b)}),this.map(f,(g,b)=>{const _=d[g];if(_){const x=b.map(H=>H.presence_ref),S=_.map(H=>H.presence_ref),A=b.filter(H=>S.indexOf(H.presence_ref)<0),C=_.filter(H=>x.indexOf(H.presence_ref)<0);A.length>0&&(m[g]=A),C.length>0&&(p[g]=C)}else m[g]=b}),this.syncDiff(d,{joins:m,leaves:p},l,c)}static syncDiff(n,r,l,c){const{joins:d,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(m,p)=>{var g;const b=(g=n[m])!==null&&g!==void 0?g:[];if(n[m]=this.cloneDeep(p),b.length>0){const _=n[m].map(S=>S.presence_ref),x=b.filter(S=>_.indexOf(S.presence_ref)<0);n[m].unshift(...x)}l(m,b,p)}),this.map(f,(m,p)=>{let g=n[m];if(!g)return;const b=p.map(_=>_.presence_ref);g=g.filter(_=>b.indexOf(_.presence_ref)<0),n[m]=g,c(m,g,p),g.length===0&&delete n[m]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const c=n[l];return"metas"in c?r[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[l]=c,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(zm||(zm={}));var bi;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(bi||(bi={}));var va;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(va||(va={}));class ys{constructor(n,r={config:{}},l){var c,d;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Gu(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new np(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new vi(this),this.broadcastEndpointURL=ip(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,g=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[bi.PRESENCE]&&this.bindings[bi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,_={},x={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(S=>n?.(va.CHANNEL_ERROR,S)),this._onClose(()=>n?.(va.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){n?.(va.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,H=(A=C?.length)!==null&&A!==void 0?A:0,G=[];for(let Y=0;Y<H;Y++){const D=C[Y],{filter:{event:K,schema:le,table:ee,filter:J}}=D,be=S&&S[Y];if(be&&be.event===K&&ys.isFilterValueEqual(be.schema,le)&&ys.isFilterValueEqual(be.table,ee)&&ys.isFilterValueEqual(be.filter,J))G.push(Object.assign(Object.assign({},D),{id:be.id}));else{this.unsubscribe(),this.state=Pe.errored,n?.(va.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,n&&n(va.SUBSCRIBED);return}}).receive("error",S=>{this.state=Pe.errored,n?.(va.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n?.(va.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===Pe.joined&&n===bi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(n,r={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,p;const g=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),g.receive("ok",()=>d("ok")),g.receive("error",()=>d("error")),g.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Gu(this,Qt.leave,{},n),l.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(d),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Gu(this,n,r,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>D0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var c,d;const f=n.toLocaleLowerCase(),{close:m,error:p,leave:g,join:b}=Qt;if(l&&[m,p,g,b].indexOf(f)>=0&&l!==this._joinRef())return;let x=this._onMessage(f,r,l);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var A,C,H;return((A=S.filter)===null||A===void 0?void 0:A.event)==="*"||((H=(C=S.filter)===null||C===void 0?void 0:C.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===f}).map(S=>S.callback(x,l)):(d=this.bindings[f])===null||d===void 0||d.filter(S=>{var A,C,H,G,Y,D;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const K=S.id,le=(A=S.filter)===null||A===void 0?void 0:A.event;return K&&((C=r.ids)===null||C===void 0?void 0:C.includes(K))&&(le==="*"||le?.toLocaleLowerCase()===((H=r.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))}else{const K=(Y=(G=S?.filter)===null||G===void 0?void 0:G.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return K==="*"||K===((D=r?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof x=="object"&&"ids"in x){const A=x.data,{schema:C,table:H,commit_timestamp:G,type:Y,errors:D}=A;x=Object.assign(Object.assign({},{schema:C,table:H,commit_timestamp:G,eventType:Y,new:{},old:{},errors:D}),this._getPayloadRecords(A))}S.callback(x,l)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const c=n.toLocaleLowerCase(),d={type:c,filter:r,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&ys.isEqual(c.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Qt.close,{},n)}_onError(n){this._on(Qt.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Dm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Dm(n.columns,n.old_record)),r}}const Vu=()=>{},Jr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$0=[1e3,2e3,5e3,1e4],G0=1e4,V0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y0{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fu,this.transport=null,this.heartbeatIntervalMs=Jr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vu,this.ref=0,this.reconnectTimer=null,this.vsn=km,this.logger=Vu,this.conn=null,this.sendBuffer=[],this.serializer=new U0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${ec.websocket}`,this.httpEndpoint=ip(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j0.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Qa.connecting:return wn.Connecting;case Qa.open:return wn.Open;case Qa.closing:return wn.Closing;default:return wn.Closed}}isConnected(){return this.connectionState()===wn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new ys(`realtime:${n}`,r,this);return this.channels.push(d),d}}push(n){const{topic:r,event:l,payload:c,ref:d}=n,f=()=>{this.encode(n,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${r} ${l} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(k0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Jr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",g)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:d,ref:f}=r,m=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${l} ${c} ${m}`.trim(),d),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(c,d,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Qa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qa.open||this.conn.readyState===Qa.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Qt.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${n}${l}${c}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([V0],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const d={access_token:r,version:N0};r&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(Qt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new np(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,c,d,f,m,p,g,b,_,x,S;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Fu,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:Jr.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:Vu,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:km,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(A=>$0[A-1]||G0),this.vsn){case C0:this.encode=(b=n?.encode)!==null&&b!==void 0?b:((A,C)=>C(JSON.stringify(A))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((A,C)=>C(JSON.parse(A)));break;case ap:this.encode=(x=n?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(S=n?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var wi=class extends Error{constructor(i,n){super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function K0(i,n,r){const l=new URL(n,i);if(r)for(const[c,d]of Object.entries(r))d!==void 0&&l.searchParams.set(c,d);return l.toString()}async function Q0(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function X0(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:c,body:d,headers:f}){const m=K0(i.baseUrl,l,c),p=await Q0(i.auth),g=await n(m,{method:r,headers:{...d?{"Content-Type":"application/json"}:{},...p,...f},body:d?JSON.stringify(d):void 0}),b=await g.text(),_=(g.headers.get("content-type")||"").includes("application/json"),x=_&&b?JSON.parse(b):b;if(!g.ok){const S=_?x:void 0,A=S?.error;throw new wi(A?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:A?.type,icebergCode:A?.code,details:S})}return{status:g.status,headers:g.headers,data:x}}}}function Zr(i){return i.join("")}var J0=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:Zr(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,n){const r={namespace:i.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zr(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zr(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zr(i.namespace)}`}),!0}catch(n){if(n instanceof wi&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(r){if(r instanceof wi&&r.status===409)return;throw r}}};function os(i){return i.join("")}var Z0=class{constructor(i,n="",r){this.client=i,this.prefix=n,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${os(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${os(i.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(i,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${os(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${os(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${os(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${os(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(r){if(r instanceof wi&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(r){if(r instanceof wi&&r.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw r}}},I0=class{constructor(i){let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=X0({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new J0(this.client,n),this.tableOps=new Z0(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},dl=class extends Error{constructor(i,n="storage",r,l){super(i),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=l}};function fl(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Ir=class extends dl{constructor(i,n,r,l="storage"){super(i,l,n,r),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rp=class extends dl{constructor(i,n,r="storage"){super(i,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const W0=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),P0=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},ac=i=>{if(Array.isArray(i))return i.map(r=>ac(r));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([r,l])=>{const c=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=ac(l)}),n},F0=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Si(i){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Si(i)}function ev(i,n){if(Si(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Si(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function tv(i){var n=ev(i,"string");return Si(n)=="symbol"?n:n+""}function av(i,n,r){return(n=tv(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function Mm(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),r.push.apply(r,l)}return r}function se(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Mm(Object(r),!0).forEach(function(l){av(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Mm(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const Bm=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},nv=async(i,n,r,l)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const c=i,d=c.status||500;if(typeof c.json=="function")c.json().then(f=>{const m=f?.statusCode||f?.code||d+"";n(new Ir(Bm(f),d,m,l))}).catch(()=>{if(l==="vectors"){const f=d+"";n(new Ir(c.statusText||`HTTP ${d} error`,d,f,l))}else{const f=d+"";n(new Ir(c.statusText||`HTTP ${d} error`,d,f,l))}});else{const f=d+"";n(new Ir(c.statusText||`HTTP ${d} error`,d,f,l))}}else n(new rp(Bm(i),i,l))},sv=(i,n,r,l)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"||i==="HEAD"||!l?se(se({},c),r):(P0(l)?(c.headers=se({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(l)):c.body=l,n?.duplex&&(c.duplex=n.duplex),se(se({},c),r))};async function gi(i,n,r,l,c,d,f){return new Promise((m,p)=>{i(r,sv(n,l,c,d)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;if(f==="vectors"){const b=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!b||!b.includes("application/json"))return{}}return g.json()}).then(g=>m(g)).catch(g=>nv(g,p,l,f))})}function lp(i="storage"){return{get:async(n,r,l,c)=>gi(n,"GET",r,l,c,void 0,i),post:async(n,r,l,c,d)=>gi(n,"POST",r,c,d,l,i),put:async(n,r,l,c,d)=>gi(n,"PUT",r,c,d,l,i),head:async(n,r,l,c)=>gi(n,"HEAD",r,se(se({},l),{},{noResolveJson:!0}),c,void 0,i),remove:async(n,r,l,c,d)=>gi(n,"DELETE",r,c,d,l,i)}}const iv=lp("storage"),{get:xi,post:Kt,put:nc,head:rv,remove:pc}=iv,Nt=lp("vectors");var bs=class{constructor(i,n={},r,l="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.fetch=W0(r),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var n=this;try{return{data:await i(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(fl(r))return{data:null,error:r};throw r}}},lv=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(fl(n))return{data:null,error:n};throw n}}};let op;op=Symbol.toStringTag;var ov=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[op]="BlobDownloadBuilder",this.promise=null}asStream(){return new lv(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(fl(n))return{data:null,error:n};throw n}}};const uv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cv=class extends bs{constructor(i,n={},r,l){super(i,n,l,"storage"),this.bucketId=r}async uploadOrUpdate(i,n,r,l){var c=this;return c.handleOperation(async()=>{let d;const f=se(se({},qm),l);let m=se(se({},c.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",c.encodeMetadata(p)),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),p&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(p))):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(m=se(se({},m),l.headers));const g=c._removeEmptyFolders(n),b=c._getFinalPath(g),_=await(i=="PUT"?nc:Kt)(c.fetch,`${c.url}/object/${b}`,d,se({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{path:g,id:_.Id,fullPath:_.Key}})}async upload(i,n,r){return this.uploadOrUpdate("POST",i,n,r)}async uploadToSignedUrl(i,n,r,l){var c=this;const d=c._removeEmptyFolders(i),f=c._getFinalPath(d),m=new URL(c.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",n),c.handleOperation(async()=>{let p;const g=se({upsert:qm.upsert},l),b=se(se({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",g.cacheControl)):(p=r,b["cache-control"]=`max-age=${g.cacheControl}`,b["content-type"]=g.contentType),{path:d,fullPath:(await nc(c.fetch,m.toString(),p,{headers:b})).Key}})}async createSignedUploadUrl(i,n){var r=this;return r.handleOperation(async()=>{let l=r._getFinalPath(i);const c=se({},r.headers);n?.upsert&&(c["x-upsert"]="true");const d=await Kt(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:c}),f=new URL(r.url+d.url),m=f.searchParams.get("token");if(!m)throw new dl("No token returned by API");return{signedUrl:f.toString(),path:i,token:m}})}async update(i,n,r){return this.uploadOrUpdate("PUT",i,n,r)}async move(i,n,r){var l=this;return l.handleOperation(async()=>await Kt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers}))}async copy(i,n,r){var l=this;return l.handleOperation(async()=>({path:(await Kt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(i,n,r){var l=this;return l.handleOperation(async()=>{let c=l._getFinalPath(i),d=await Kt(l.fetch,`${l.url}/object/sign/${c}`,se({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${l.url}${d.signedURL}${f}`)}})}async createSignedUrls(i,n,r){var l=this;return l.handleOperation(async()=>{const c=await Kt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:i},{headers:l.headers}),d=r?.download?`&download=${r.download===!0?"":r.download}`:"";return c.map(f=>se(se({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${d}`):null}))})}download(i,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(i),f=()=>xi(this.fetch,`${this.url}/${r}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new ov(f,this.shouldThrowOnError)}async info(i){var n=this;const r=n._getFinalPath(i);return n.handleOperation(async()=>ac(await xi(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})))}async exists(i){var n=this;const r=n._getFinalPath(i);try{return await rv(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(fl(l)&&l instanceof rp){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(i,n){const r=this._getFinalPath(i),l=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${m}`)}}}async remove(i){var n=this;return n.handleOperation(async()=>await pc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}))}async list(i,n,r){var l=this;return l.handleOperation(async()=>{const c=se(se(se({},uv),n),{},{prefix:i||""});return await Kt(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},r)})}async listV2(i,n){var r=this;return r.handleOperation(async()=>{const l=se({},i);return await Kt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const dv="2.93.3",ji={"X-Client-Info":`storage-js/${dv}`};var fv=class extends bs{constructor(i,n={},r,l){const c=new URL(i);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const d=c.href.replace(/\/$/,""),f=se(se({},ji),n);super(d,f,r,"storage")}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const r=n.listBucketOptionsToQueryString(i);return await xi(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers})})}async getBucket(i){var n=this;return n.handleOperation(async()=>await xi(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}))}async createBucket(i,n={public:!1}){var r=this;return r.handleOperation(async()=>await Kt(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async updateBucket(i,n){var r=this;return r.handleOperation(async()=>await nc(r.fetch,`${r.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(i){var n=this;return n.handleOperation(async()=>await Kt(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await pc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},hv=class extends bs{constructor(i,n={},r){const l=i.replace(/\/$/,""),c=se(se({},ji),n);super(l,c,r,"storage")}async createBucket(i){var n=this;return n.handleOperation(async()=>await Kt(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}))}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const r=new URLSearchParams;i?.limit!==void 0&&r.set("limit",i.limit.toString()),i?.offset!==void 0&&r.set("offset",i.offset.toString()),i?.sortColumn&&r.set("sortColumn",i.sortColumn),i?.sortOrder&&r.set("sortOrder",i.sortOrder),i?.search&&r.set("search",i.search);const l=r.toString(),c=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return await xi(n.fetch,c,{headers:n.headers})})}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await pc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}from(i){var n=this;if(!F0(i))throw new dl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new I0({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(c,m),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}}}})}},mv=class extends bs{constructor(i,n={},r){const l=i.replace(/\/$/,""),c=se(se({},ji),{},{"Content-Type":"application/json"},n);super(l,c,r,"vectors")}async createIndex(i){var n=this;return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{})}async getIndex(i,n){var r=this;return r.handleOperation(async()=>await Nt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers}))}async listIndexes(i){var n=this;return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}))}async deleteIndex(i,n){var r=this;return r.handleOperation(async()=>await Nt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers})||{})}},pv=class extends bs{constructor(i,n={},r){const l=i.replace(/\/$/,""),c=se(se({},ji),{},{"Content-Type":"application/json"},n);super(l,c,r,"vectors")}async putVectors(i){var n=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{})}async getVectors(i){var n=this;return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}))}async listVectors(i){var n=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}))}async queryVectors(i){var n=this;return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}))}async deleteVectors(i){var n=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{})}},gv=class extends bs{constructor(i,n={},r){const l=i.replace(/\/$/,""),c=se(se({},ji),{},{"Content-Type":"application/json"},n);super(l,c,r,"vectors")}async createBucket(i){var n=this;return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}async getBucket(i){var n=this;return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}))}async listBuckets(i={}){var n=this;return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await Nt.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}},yv=class extends gv{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new vv(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,r=this;return n().call(r,i)}async getBucket(i){var n=()=>super.getBucket,r=this;return n().call(r,i)}async listBuckets(i={}){var n=()=>super.listBuckets,r=this;return n().call(r,i)}async deleteBucket(i){var n=()=>super.deleteBucket,r=this;return n().call(r,i)}},vv=class extends mv{constructor(i,n,r,l){super(i,n,l),this.vectorBucketName=r}async createIndex(i){var n=()=>super.createIndex,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,i)}index(i){return new bv(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},bv=class extends pv{constructor(i,n,r,l,c){super(i,n,c),this.vectorBucketName=r,this.indexName=l}async putVectors(i){var n=()=>super.putVectors,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(i){var n=()=>super.getVectors,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},_v=class extends fv{constructor(i,n={},r,l){super(i,n,r,l)}from(i){return new cv(this.url,this.headers,i,this.fetch)}get vectors(){return new yv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hv(this.url+"/iceberg",this.headers,this.fetch)}};const up="2.93.3",ps=30*1e3,sc=3,Yu=sc*ps,wv="http://localhost:9999",Sv="supabase.auth.token",xv={"X-Client-Info":`gotrue-js/${up}`},ic="X-Supabase-Api-Version",cp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ev=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tv=600*1e3;class Ei extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function P(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Av extends Ei{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function Ov(i){return P(i)&&i.name==="AuthApiError"}class Sn extends Ei{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class _a extends Ei{constructor(n,r,l,c){super(n,l,c),this.name=r,this.status=l}}class Rt extends _a{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ku(i){return P(i)&&i.name==="AuthSessionMissingError"}class us extends _a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wr extends _a{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Pr extends _a{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jv(i){return P(i)&&i.name==="AuthImplicitGrantRedirectError"}class Lm extends _a{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rv extends _a{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rc extends _a{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Qu(i){return P(i)&&i.name==="AuthRetryableFetchError"}class Hm extends _a{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class lc extends _a{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$m=` 	
\r=`.split(""),Nv=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<$m.length;n+=1)i[$m[n].charCodeAt(0)]=-2;for(let n=0;n<rl.length;n+=1)i[rl[n].charCodeAt(0)]=n;return i})();function Gm(i,n,r){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(rl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(rl[l]),n.queuedBits-=6}}function dp(i,n,r){const l=Nv[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Vm(i){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{Dv(f,l,r)};for(let f=0;f<i.length;f+=1)dp(i.charCodeAt(f),c,d);return n.join("")}function Cv(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function kv(i,n){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}Cv(l,n)}}function Dv(i,n,r){if(n.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function vs(i){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<i.length;c+=1)dp(i.charCodeAt(c),r,l);return new Uint8Array(n)}function Uv(i){const n=[];return kv(i,r=>n.push(r)),new Uint8Array(n)}function xn(i){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};return i.forEach(c=>Gm(c,r,l)),Gm(null,r,l),n.join("")}function zv(i){return Math.round(Date.now()/1e3)+i}function Mv(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",yn={tested:!1,writable:!1},fp=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yn.tested)return yn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),yn.tested=!0,yn.writable=!0}catch{yn.tested=!0,yn.writable=!1}return yn.writable};function Bv(i){const n={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return r.searchParams.forEach((l,c)=>{n[c]=l}),n}const hp=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),qv=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",gs=async(i,n,r)=>{await i.setItem(n,JSON.stringify(r))},vn=async(i,n)=>{const r=await i.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lt=async(i,n)=>{await i.removeItem(n)};class hl{constructor(){this.promise=new hl.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}hl.promiseConstructor=Promise;function Fr(i){const n=i.split(".");if(n.length!==3)throw new lc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Ev.test(n[l]))throw new lc("JWT not in base64url format");return{header:JSON.parse(Vm(n[0])),payload:JSON.parse(Vm(n[1])),signature:vs(n[2]),raw:{header:n[0],payload:n[1]}}}async function Lv(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function Hv(i,n){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await i(d);if(!n(d,null,f)){l(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function $v(i){return("0"+i.toString(16)).substr(-2)}function Gv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let c="";for(let d=0;d<56;d++)c+=r.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,$v).join("")}async function Vv(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Yv(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await Vv(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cs(i,n,r=!1){const l=Gv();let c=l;r&&(c+="/PASSWORD_RECOVERY"),await gs(i,`${n}-code-verifier`,c);const d=await Yv(l);return[d,l===d?"plain":"s256"]}const Kv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qv(i){const n=i.headers.get(ic);if(!n||!n.match(Kv))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Xv(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function Jv(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ds(i){if(!Zv.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xu(){const i={};return new Proxy(i,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Iv(i,n){return new Proxy(i,{get:(r,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,c)}})}function Ym(i){return JSON.parse(JSON.stringify(i))}const _n=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Wv=[502,503,504];async function Km(i){var n;if(!qv(i))throw new rc(_n(i),0);if(Wv.includes(i.status))throw new rc(_n(i),i.status);let r;try{r=await i.json()}catch(d){throw new Sn(_n(d),d)}let l;const c=Qv(i);if(c&&c.getTime()>=cp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Hm(_n(r),i.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Hm(_n(r),i.status,r.weak_password.reasons);throw new Av(_n(r),i.status||500,l)}const Pv=(i,n,r,l)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),r))};async function ne(i,n,r,l){var c;const d=Object.assign({},l?.headers);d[ic]||(d[ic]=cp["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await Fv(i,n,r+m,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function Fv(i,n,r,l,c,d){const f=Pv(n,l,c,d);let m;try{m=await i(r,Object.assign({},f))}catch(p){throw console.error(p),new rc(_n(p),0)}if(m.ok||await Km(m),l?.noResolveJson)return m;try{return await m.json()}catch(p){await Km(p)}}function Yt(i){var n;let r=null;ab(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=zv(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:r,user:l},error:null}}function Qm(i){const n=Yt(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function Xa(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function eb(i){return{data:i,error:null}}function tb(i){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:d}=i,f=cl(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:d},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function Xm(i){return i}function ab(i){return i.access_token&&i.refresh_token&&i.expires_in}const Ju=["global","local","others"];class nb{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=hp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=Ju[0]){if(Ju.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(P(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xa})}catch(l){if(P(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=cl(n,["options"]),c=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:tb,redirectTo:r?.redirectTo})}catch(r){if(P(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Xa})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,c,d,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},b=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Xm});if(b.error)throw b.error;const _=await b.json(),x=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(A.split(";")[1].split("=")[1]);g[`${H}Page`]=C}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(P(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){ds(n);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Xa})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){ds(n);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Xa})}catch(l){if(P(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){ds(n);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xa})}catch(l){if(P(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){ds(n.userId);try{const{data:r,error:l}=await ne(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:l}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteFactor(n){ds(n.userId),ds(n.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,c,d,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},b=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Xm});if(b.error)throw b.error;const _=await b.json(),x=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(A.split(";")[1].split("=")[1]);g[`${H}Page`]=C}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(P(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(P(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}}function Jm(i={}){return{getItem:n=>i[n]||null,setItem:(n,r)=>{i[n]=r},removeItem:n=>{delete i[n]}}}const fs={debug:!!(globalThis&&fp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mp extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class sb extends mp{}async function ib(i,n,r){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await r()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(n===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new sb(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(fs.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pp(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function lb(i){return parseInt(i,16)}function ob(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function ub(i){var n;const{chainId:r,domain:l,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:p,resources:g,scheme:b,uri:_,version:x}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const S=pp(i.address),A=b?`${b}://${l}`:l,C=i.statement?`${i.statement}
`:"",H=`${A} wants you to sign in with your Ethereum account:
${S}

${C}`;let G=`URI: ${_}
Version: ${x}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(G+=`
Expiration Time: ${c.toISOString()}`),m&&(G+=`
Not Before: ${m.toISOString()}`),p&&(G+=`
Request ID: ${p}`),g){let Y=`
Resources:`;for(const D of g){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);Y+=`
- ${D}`}G+=Y}return`${H}
${G}`}class Ie extends Error{constructor({message:n,code:r,cause:l,name:c}){var d;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=c??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class ll extends Ie{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function cb({error:i,options:n}){var r,l,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ie({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(gp(f)){if(d.rp.id!==f)return new Ie({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function db({error:i,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ie({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(gp(l)){if(r.rpId!==l)return new Ie({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class fb{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const hb=new fb;function mb(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:r,excludeCredentials:l}=i,c=cl(i,["challenge","user","excludeCredentials"]),d=vs(n).buffer,f=Object.assign(Object.assign({},r),{id:vs(r.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const g=l[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:vs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function pb(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:r}=i,l=cl(i,["challenge","allowCredentials"]),c=vs(n).buffer,d=Object.assign(Object.assign({},l),{challenge:c});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:vs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function gb(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:xn(new Uint8Array(i.response.attestationObject)),clientDataJSON:xn(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function yb(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:xn(new Uint8Array(c.authenticatorData)),clientDataJSON:xn(new Uint8Array(c.clientDataJSON)),signature:xn(new Uint8Array(c.signature)),userHandle:c.userHandle?xn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function gp(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Zm(){var i,n;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function vb(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ll("Browser returned unexpected credential type",n)}:{data:null,error:new ll("Empty credential response",n)}}catch(n){return{data:null,error:cb({error:n,options:i})}}}async function bb(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ll("Browser returned unexpected credential type",n)}:{data:null,error:new ll("Empty credential response",n)}}catch(n){return{data:null,error:db({error:n,options:i})}}}const _b={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ol(...i){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of i)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(r(f))l[d]=f;else if(n(f)){const m=l[d];n(m)?l[d]=ol(m,f):l[d]=ol(f)}else l[d]=f}return l}function Sb(i,n){return ol(_b,i,n||{})}function xb(i,n){return ol(wb,i,n||{})}class Eb{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:c},d){var f;try{const{data:m,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!m)return{data:null,error:p};const g=c??hb.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:b}=m.webauthn.credential_options.publicKey;if(!b.name){const _=l;if(_)b.name=`${b.id}:${_}`;else{const S=(await this.client.getUser()).data.user,A=((f=S?.user_metadata)===null||f===void 0?void 0:f.name)||S?.email||S?.id||"User";b.name=`${b.id}:${A}`}}b.displayName||(b.displayName=b.name)}switch(m.webauthn.type){case"create":{const b=Sb(m.webauthn.credential_options.publicKey,d?.create),{data:_,error:x}=await vb({publicKey:b,signal:g});return _?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:_}},error:null}:{data:null,error:x}}case"request":{const b=xb(m.webauthn.credential_options.publicKey,d?.request),{data:_,error:x}=await bb(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:b,signal:g}));return _?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:_}},error:null}:{data:null,error:x}}}}catch(m){return P(m)?{data:null,error:m}:{data:null,error:new Sn("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!r)return{data:null,error:new Ei("rpId is required for WebAuthn authentication")};try{if(!Zm())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:l,credential_response:p.credential_response}})}catch(f){return P(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!r)return{data:null,error:new Ei("rpId is required for WebAuthn registration")};try{if(!Zm())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(b=>{var _;return(_=b.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===n&&x.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:c},{create:d});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(f){return P(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in register",f)}}}}rb();const Tb={url:wv,storageKey:Sv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Im(i,n,r){return await r()}const hs={};class Ti{get jwks(){var n,r;return(r=(n=hs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){hs[this.storageKey]=Object.assign(Object.assign({},hs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=hs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){hs[this.storageKey]=Object.assign(Object.assign({},hs[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Tb),n);if(this.storageKey=d.storageKey,this.instanceID=(r=Ti.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ti.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&ot()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new nb({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=hp(d.fetch),this.lock=d.lock||Im,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&ot()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=ib:this.lock=Im,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Eb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:fp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jm(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Jm(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${up}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(ot()&&(r=Bv(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ot()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(r,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),jv(d)){const p=(n=d.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return P(r)?this._returnResult({error:r}):this._returnResult({error:new Sn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,c;try{const d=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Yt}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(d){if(P(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var r,l,c;try{let d;if("email"in n){const{email:b,password:_,options:x}=n;let S=null,A=null;this.flowType==="pkce"&&([S,A]=await cs(this.storage,this.storageKey)),d=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:b,password:_,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:S,code_challenge_method:A},xform:Yt})}else if("phone"in n){const{phone:b,password:_,options:x}=n;d=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:_,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(c=x?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Yt})}else throw new Wr("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(d){if(await lt(this.storage,`${this.storageKey}-code-verifier`),P(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let r;if("email"in n){const{email:d,password:f,options:m}=n;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Qm})}else if("phone"in n){const{phone:d,password:f,options:m}=n;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Qm})}else throw new Wr("You must provide either an email or phone number and a password");const{data:l,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new us;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,c,d,f,m,p,g,b,_,x;let S,A;if("message"in n)S=n.message,A=n.signature;else{const{chain:C,wallet:H,statement:G,options:Y}=n;let D;if(ot())if(typeof H=="object")D=H;else{const Ce=window;if("ethereum"in Ce&&typeof Ce.ethereum=="object"&&"request"in Ce.ethereum&&typeof Ce.ethereum.request=="function")D=Ce.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!Y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=H}const K=new URL((r=Y?.url)!==null&&r!==void 0?r:window.location.href),le=await D.request({method:"eth_requestAccounts"}).then(Ce=>Ce).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!le||le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=pp(le[0]);let J=(l=Y?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!J){const Ce=await D.request({method:"eth_chainId"});J=lb(Ce)}const be={domain:K.host,address:ee,statement:G,uri:K.href,version:"1",chainId:J,nonce:(c=Y?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=Y?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=Y?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=Y?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=Y?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(b=Y?.signInWithEthereum)===null||b===void 0?void 0:b.resources};S=ub(be),A=await D.request({method:"personal_sign",params:[ob(S),ee]})}try{const{data:C,error:H}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:A},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Yt});if(H)throw H;if(!C||!C.session||!C.user){const G=new us;return this._returnResult({data:{user:null,session:null},error:G})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:H})}catch(C){if(P(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(n){var r,l,c,d,f,m,p,g,b,_,x,S;let A,C;if("message"in n)A=n.message,C=n.signature;else{const{chain:H,wallet:G,statement:Y,options:D}=n;let K;if(ot())if(typeof G=="object")K=G;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))K=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=G}const le=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in K&&K.signIn){const ee=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),Y?{statement:Y}:null));let J;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")J=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)J=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)A=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),C=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${le.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(c=(l=D?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=D?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((f=D?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((_=(b=D?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||_===void 0)&&_.length?["Resources",...D.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const ee=await K.signMessage(new TextEncoder().encode(A),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=ee}}try{const{data:H,error:G}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:xn(C)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Yt});if(G)throw G;if(!H||!H.session||!H.user){const Y=new us;return this._returnResult({data:{user:null,session:null},error:Y})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:G})}catch(H){if(P(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async _exchangeCodeForSession(n){const r=await vn(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Rv;const{data:d,error:f}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Yt});if(await lt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new us;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await lt(this.storage,`${this.storageKey}-code-verifier`),P(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:r,provider:l,token:c,access_token:d,nonce:f}=n,m=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Yt}),{data:p,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const b=new us;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,c,d,f;try{if("email"in n){const{email:m,options:p}=n;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await cs(this.storage,this.storageKey));const{error:_}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:m,options:p}=n,{data:g,error:b}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:b})}throw new Wr("You must provide either an email or phone number.")}catch(m){if(await lt(this.storage,`${this.storageKey}-code-verifier`),P(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var r,l;try{let c,d;"options"in n&&(c=(r=n.options)===null||r===void 0?void 0:r.redirectTo,d=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:m}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Yt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,g=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(P(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var r,l,c,d,f;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await cs(this.storage,this.storageKey));const g=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:eb});return!((d=g.data)===null||d===void 0)&&d.url&&ot()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await lt(this.storage,`${this.storageKey}-code-verifier`),P(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Rt;const{error:c}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(P(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:d}=n,{error:f}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:c,options:d}=n,{data:f,error:m}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Wr("You must provide either an email or phone number and a type")}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Yu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await vn(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Xu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Iv(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Xa}):await this._useSession(async r=>{var l,c,d;const{data:f,error:m}=r;if(m)throw m;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Xa})})}catch(r){if(P(r))return Ku(r)&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new Rt;const f=c.session;let m=null,p=null;this.flowType==="pkce"&&n.email!=null&&([m,p]=await cs(this.storage,this.storageKey));const{data:g,error:b}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:Xa});if(b)throw b;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await lt(this.storage,`${this.storageKey}-code-verifier`),P(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Rt;const r=Date.now()/1e3;let l=r,c=!0,d=null;const{payload:f}=Fr(n.access_token);if(f.exp&&(l=f.exp,c=l<=r),c){const{data:m,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:p}=await this._getUser(n.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(r){if(P(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:m}=r;if(m)throw m;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Rt;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ot())throw new Pr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Pr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Lm("No code detected.");const{data:Y,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:p,token_type:g}=n;if(!d||!m||!f||!g)throw new Pr("No session defined in URL");const b=Math.round(Date.now()/1e3),_=parseInt(m);let x=b+_;p&&(x=parseInt(p));const S=x-b;S*1e3<=ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${_}s`);const A=x-_;b-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,x,b):b-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,x,b);const{data:C,error:H}=await this._getUser(d);if(H)throw H;const G={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:_,expires_at:x,refresh_token:f,token_type:g,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:G,redirectType:n.type},error:null})}catch(l){if(P(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await vn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d&&!Ku(d))return this._returnResult({error:d});const f=(l=c.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(Ov(m)&&(m.status===404||m.status===401||m.status===403)||Ku(m)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=Mv(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,c;try{const{data:{session:d},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,r={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await cs(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(await lt(this.storage,`${this.storageKey}-code-verifier`),P(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:c}=await this._useSession(async d=>{var f,m,p,g,b;const{data:_,error:x}=d;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",S,{headers:this.headers,jwt:(b=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return ot()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(P(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:c,data:{session:d}}=r;if(c)throw c;const{options:f,provider:m,token:p,access_token:g,nonce:b}=n,_=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:p,access_token:g,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Yt}),{data:x,error:S}=_;return S?this._returnResult({data:{user:null,session:null},error:S}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new us}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:S}))}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),P(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,c;const{data:d,error:f}=r;if(f)throw f;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await Hv(async c=>(c>0&&await Lv(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Yt})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Qu(d)&&Date.now()+f-l<ps})}catch(l){if(this._debug(r,"error",l),P(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),ot()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await vn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await gs(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f?.user)!==null&&n!==void 0?n:Xu()}else if(c&&!c.user&&!c.user){const f=await vn(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await lt(this.storage,this.storageKey+"-user"),await gs(this.storage,this.storageKey,c)):c.user=Xu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yu;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Yu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Qu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new hl;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Rt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),P(d)){const f={data:null,error:d};return Qu(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,r,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,r)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await lt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await gs(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const d=Ym(c);await gs(this.storage,this.storageKey,d)}else{const c=Ym(r);await gs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lt(this.storage,this.storageKey),await lt(this.storage,this.storageKey+"-code-verifier"),await lt(this.storage,this.storageKey+"-user"),this.userStorage&&await lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ps);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ps}ms, refresh threshold is ${sc} ticks`),c<=sc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof mp)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const c=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await cs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;return d?this._returnResult({data:null,error:d}):await ne(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,c;const{data:d,error:f}=r;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:g}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?gb(n.webauthn.credential_response):yb(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:p}=await ne(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const f=await ne(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:mb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:pb(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=r?.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,l,c,d;if(n)try{const{payload:S}=Fr(n);let A=null;S.aal&&(A=S.aal);let C=A;const{data:{user:H},error:G}=await this.getUser(n);if(G)return this._returnResult({data:null,error:G});((l=(r=H?.factors)===null||r===void 0?void 0:r.filter(K=>K.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(C="aal2");const D=S.amr||[];return{data:{currentLevel:A,nextLevel:C,currentAuthenticationMethods:D},error:null}}catch(S){if(P(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Fr(f.access_token);let g=null;p.aal&&(g=p.aal);let b=g;((d=(c=f.user.factors)===null||c===void 0?void 0:c.filter(S=>S.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(b="aal2");const x=p.amr||[];return{data:{currentLevel:g,nextLevel:b,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Rt});const f=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ot()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Rt});const f=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ot()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(m=>m.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(m=>m.kid===n),l&&this.jwks_cached_at+Tv>c)return l;const{data:d,error:f}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(m=>m.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:S,error:A}=await this.getSession();if(A||!S.session)return this._returnResult({data:null,error:A});l=S.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:p}}=Fr(l);r?.allowExpired||Xv(d.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:d,header:c,signature:f},error:null}}const b=Jv(c.alg),_=await crypto.subtle.importKey("jwk",g,b,!0,["verify"]);if(!await crypto.subtle.verify(b,_,f,Uv(`${m}.${p}`)))throw new lc("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(l){if(P(l))return this._returnResult({data:null,error:l});throw l}}}Ti.nextInstanceID={};const Ab=Ti,Ob="2.93.3";let yi="";typeof Deno<"u"?yi="deno":typeof document<"u"?yi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yi="react-native":yi="node";const jb={"X-Client-Info":`supabase-js-${yi}/${Ob}`},Rb={headers:jb},Nb={schema:"public"},Cb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kb={};function Ai(i){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ai(i)}function Db(i,n){if(Ai(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Ai(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Ub(i){var n=Db(i,"string");return Ai(n)=="symbol"?n:n+""}function zb(i,n,r){return(n=Ub(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function Wm(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),r.push.apply(r,l)}return r}function $e(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Wm(Object(r),!0).forEach(function(l){zb(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Wm(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const Mb=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Bb=()=>Headers,qb=(i,n,r)=>{const l=Mb(r),c=Bb();return async(d,f)=>{var m;const p=(m=await n())!==null&&m!==void 0?m:i;let g=new c(f?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),l(d,$e($e({},f),{},{headers:g}))}};function Lb(i){return i.endsWith("/")?i:i+"/"}function Hb(i,n){var r,l;const{db:c,auth:d,realtime:f,global:m}=i,{db:p,auth:g,realtime:b,global:_}=n,x={db:$e($e({},p),c),auth:$e($e({},g),d),realtime:$e($e({},b),f),storage:{},global:$e($e($e({},_),m),{},{headers:$e($e({},(r=_?.headers)!==null&&r!==void 0?r:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?x.accessToken=i.accessToken:delete x.accessToken,x}function $b(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Lb(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Gb=class extends Ab{constructor(i){super(i)}},Vb=class{constructor(i,n,r){var l,c;this.supabaseUrl=i,this.supabaseKey=n;const d=$b(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:Nb,realtime:kb,auth:$e($e({},Cb),{},{storageKey:f}),global:Rb},p=Hb(r??{},m);if(this.storageKey=(l=p.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=qb(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient($e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new O0(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new _v(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new S0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,r)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,r;if(i.accessToken)return await i.accessToken();const{data:l}=await i.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:c,storageKey:d,flowType:f,lock:m,debug:p,throwOnError:g},b,_){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gb({url:this.authUrl.href,headers:$e($e({},x),b),storageKey:d,autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:c,flowType:f,lock:m,debug:p,throwOnError:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Y0(this.realtimeUrl.href,$e($e({},i),{},{params:$e($e({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n?.access_token)})}_handleTokenChanged(i,n,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Yb=(i,n,r)=>new Vb(i,n,r);function Kb(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const n=i.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Kb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qb="https://civndwyeavngmapymgju.supabase.co",Xb="sb_publishable_Xvhrh3T0W_xqtKZdMlqZGQ_F2FEv77G",Ne=Yb(Qb,Xb),yp=z.createContext({}),Jb=({children:i})=>{const[n,r]=z.useState(null),[l,c]=z.useState(null),[d,f]=z.useState(!0);z.useEffect(()=>{Ne.auth.getSession().then(({data:{session:A}})=>{r(A?.user??null),A?.user?m(A.user.id):f(!1)});const{data:{subscription:S}}=Ne.auth.onAuthStateChange((A,C)=>{r(C?.user??null),C?.user?m(C.user.id):(c(null),f(!1))});return()=>S.unsubscribe()},[]);const m=async S=>{try{const{data:A,error:C}=await Ne.from("profiles").select("*").eq("id",S).single();if(C)throw C;c(A)}catch(A){console.error("Error fetching profile:",A)}finally{f(!1)}},p=async(S,A)=>{const{data:C,error:H}=await Ne.auth.signInWithPassword({email:S,password:A});if(H)throw H;return C},g=async(S,A,C)=>{const{data:H,error:G}=await Ne.auth.signUp({email:S,password:A,options:{data:{full_name:C}}});if(G)throw G;return H},b=async()=>{const{error:S}=await Ne.auth.signOut();if(S)throw S},_=l?.role==="admin",x=l?.role==="adviser";return v.jsx(yp.Provider,{value:{user:n,profile:l,loading:d,signIn:p,signUp:g,signOut:b,isAdmin:_,isAdviser:x},children:i})},_s=()=>{const i=z.useContext(yp);if(!i)throw new Error("useAuth must be used within AuthProvider");return i};let Zb={data:""},Ib=i=>{if(typeof window=="object"){let n=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(i||document.head).appendChild(n),n.firstChild}return i||Zb},Wb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Pb=/\/\*[^]*?\*\/|  +/g,Pm=/\n+/g,Ja=(i,n)=>{let r="",l="",c="";for(let d in i){let f=i[d];d[0]=="@"?d[1]=="i"?r=d+" "+f+";":l+=d[1]=="f"?Ja(f,d):d+"{"+Ja(f,d[1]=="k"?"":n)+"}":typeof f=="object"?l+=Ja(f,n?n.replace(/([^,])+/g,m=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):d):f!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=Ja.p?Ja.p(d,f):d+":"+f+";")}return r+(n&&c?n+"{"+c+"}":c)+l},ya={},vp=i=>{if(typeof i=="object"){let n="";for(let r in i)n+=r+vp(i[r]);return n}return i},Fb=(i,n,r,l,c)=>{let d=vp(i),f=ya[d]||(ya[d]=(p=>{let g=0,b=11;for(;g<p.length;)b=101*b+p.charCodeAt(g++)>>>0;return"go"+b})(d));if(!ya[f]){let p=d!==i?i:(g=>{let b,_,x=[{}];for(;b=Wb.exec(g.replace(Pb,""));)b[4]?x.shift():b[3]?(_=b[3].replace(Pm," ").trim(),x.unshift(x[0][_]=x[0][_]||{})):x[0][b[1]]=b[2].replace(Pm," ").trim();return x[0]})(i);ya[f]=Ja(c?{["@keyframes "+f]:p}:p,r?"":"."+f)}let m=r&&ya.g?ya.g:null;return r&&(ya.g=ya[f]),((p,g,b,_)=>{_?g.data=g.data.replace(_,p):g.data.indexOf(p)===-1&&(g.data=b?p+g.data:g.data+p)})(ya[f],n,l,m),f},e_=(i,n,r)=>i.reduce((l,c,d)=>{let f=n[d];if(f&&f.call){let m=f(r),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=p?"."+p:m&&typeof m=="object"?m.props?"":Ja(m,""):m===!1?"":m}return l+c+(f??"")},"");function ml(i){let n=this||{},r=i.call?i(n.p):i;return Fb(r.unshift?r.raw?e_(r,[].slice.call(arguments,1),n.p):r.reduce((l,c)=>Object.assign(l,c&&c.call?c(n.p):c),{}):r,Ib(n.target),n.g,n.o,n.k)}let bp,oc,uc;ml.bind({g:1});let ba=ml.bind({k:1});function t_(i,n,r,l){Ja.p=n,bp=i,oc=r,uc=l}function Ia(i,n){let r=this||{};return function(){let l=arguments;function c(d,f){let m=Object.assign({},d),p=m.className||c.className;r.p=Object.assign({theme:oc&&oc()},m),r.o=/ *go\d+/.test(p),m.className=ml.apply(r,l)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),uc&&g[0]&&uc(m),bp(g,m)}return c}}var a_=i=>typeof i=="function",ul=(i,n)=>a_(i)?i(n):i,n_=(()=>{let i=0;return()=>(++i).toString()})(),_p=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");i=!n||n.matches}return i}})(),s_=20,gc="default",wp=(i,n)=>{let{toastLimit:r}=i.settings;switch(n.type){case 0:return{...i,toasts:[n.toast,...i.toasts].slice(0,r)};case 1:return{...i,toasts:i.toasts.map(f=>f.id===n.toast.id?{...f,...n.toast}:f)};case 2:let{toast:l}=n;return wp(i,{type:i.toasts.find(f=>f.id===l.id)?1:0,toast:l});case 3:let{toastId:c}=n;return{...i,toasts:i.toasts.map(f=>f.id===c||c===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return n.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(f=>f.id!==n.toastId)};case 5:return{...i,pausedAt:n.time};case 6:let d=n.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+d}))}}},nl=[],Sp={toasts:[],pausedAt:void 0,settings:{toastLimit:s_}},Wt={},xp=(i,n=gc)=>{Wt[n]=wp(Wt[n]||Sp,i),nl.forEach(([r,l])=>{r===n&&l(Wt[n])})},Ep=i=>Object.keys(Wt).forEach(n=>xp(i,n)),i_=i=>Object.keys(Wt).find(n=>Wt[n].toasts.some(r=>r.id===i)),pl=(i=gc)=>n=>{xp(n,i)},r_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},l_=(i={},n=gc)=>{let[r,l]=z.useState(Wt[n]||Sp),c=z.useRef(Wt[n]);z.useEffect(()=>(c.current!==Wt[n]&&l(Wt[n]),nl.push([n,l]),()=>{let f=nl.findIndex(([m])=>m===n);f>-1&&nl.splice(f,1)}),[n]);let d=r.toasts.map(f=>{var m,p,g;return{...i,...i[f.type],...f,removeDelay:f.removeDelay||((m=i[f.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:f.duration||((p=i[f.type])==null?void 0:p.duration)||i?.duration||r_[f.type],style:{...i.style,...(g=i[f.type])==null?void 0:g.style,...f.style}}});return{...r,toasts:d}},o_=(i,n="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...r,id:r?.id||n_()}),Ri=i=>(n,r)=>{let l=o_(n,i,r);return pl(l.toasterId||i_(l.id))({type:2,toast:l}),l.id},Fe=(i,n)=>Ri("blank")(i,n);Fe.error=Ri("error");Fe.success=Ri("success");Fe.loading=Ri("loading");Fe.custom=Ri("custom");Fe.dismiss=(i,n)=>{let r={type:3,toastId:i};n?pl(n)(r):Ep(r)};Fe.dismissAll=i=>Fe.dismiss(void 0,i);Fe.remove=(i,n)=>{let r={type:4,toastId:i};n?pl(n)(r):Ep(r)};Fe.removeAll=i=>Fe.remove(void 0,i);Fe.promise=(i,n,r)=>{let l=Fe.loading(n.loading,{...r,...r?.loading});return typeof i=="function"&&(i=i()),i.then(c=>{let d=n.success?ul(n.success,c):void 0;return d?Fe.success(d,{id:l,...r,...r?.success}):Fe.dismiss(l),c}).catch(c=>{let d=n.error?ul(n.error,c):void 0;d?Fe.error(d,{id:l,...r,...r?.error}):Fe.dismiss(l)}),i};var u_=1e3,c_=(i,n="default")=>{let{toasts:r,pausedAt:l}=l_(i,n),c=z.useRef(new Map).current,d=z.useCallback((_,x=u_)=>{if(c.has(_))return;let S=setTimeout(()=>{c.delete(_),f({type:4,toastId:_})},x);c.set(_,S)},[]);z.useEffect(()=>{if(l)return;let _=Date.now(),x=r.map(S=>{if(S.duration===1/0)return;let A=(S.duration||0)+S.pauseDuration-(_-S.createdAt);if(A<0){S.visible&&Fe.dismiss(S.id);return}return setTimeout(()=>Fe.dismiss(S.id,n),A)});return()=>{x.forEach(S=>S&&clearTimeout(S))}},[r,l,n]);let f=z.useCallback(pl(n),[n]),m=z.useCallback(()=>{f({type:5,time:Date.now()})},[f]),p=z.useCallback((_,x)=>{f({type:1,toast:{id:_,height:x}})},[f]),g=z.useCallback(()=>{l&&f({type:6,time:Date.now()})},[l,f]),b=z.useCallback((_,x)=>{let{reverseOrder:S=!1,gutter:A=8,defaultPosition:C}=x||{},H=r.filter(D=>(D.position||C)===(_.position||C)&&D.height),G=H.findIndex(D=>D.id===_.id),Y=H.filter((D,K)=>K<G&&D.visible).length;return H.filter(D=>D.visible).slice(...S?[Y+1]:[0,Y]).reduce((D,K)=>D+(K.height||0)+A,0)},[r]);return z.useEffect(()=>{r.forEach(_=>{if(_.dismissed)d(_.id,_.removeDelay);else{let x=c.get(_.id);x&&(clearTimeout(x),c.delete(_.id))}})},[r,d]),{toasts:r,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:b}}},d_=ba`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,f_=ba`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,h_=ba`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,m_=Ia("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${d_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${f_} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${h_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,p_=ba`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,g_=Ia("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${p_} 1s linear infinite;
`,y_=ba`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,v_=ba`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,b_=Ia("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${y_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${v_} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,__=Ia("div")`
  position: absolute;
`,w_=Ia("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,S_=ba`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,x_=Ia("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${S_} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,E_=({toast:i})=>{let{icon:n,type:r,iconTheme:l}=i;return n!==void 0?typeof n=="string"?z.createElement(x_,null,n):n:r==="blank"?null:z.createElement(w_,null,z.createElement(g_,{...l}),r!=="loading"&&z.createElement(__,null,r==="error"?z.createElement(m_,{...l}):z.createElement(b_,{...l})))},T_=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,A_=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,O_="0%{opacity:0;} 100%{opacity:1;}",j_="0%{opacity:1;} 100%{opacity:0;}",R_=Ia("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,N_=Ia("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,C_=(i,n)=>{let r=i.includes("top")?1:-1,[l,c]=_p()?[O_,j_]:[T_(r),A_(r)];return{animation:n?`${ba(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ba(c)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},k_=z.memo(({toast:i,position:n,style:r,children:l})=>{let c=i.height?C_(i.position||n||"top-center",i.visible):{opacity:0},d=z.createElement(E_,{toast:i}),f=z.createElement(N_,{...i.ariaProps},ul(i.message,i));return z.createElement(R_,{className:i.className,style:{...c,...r,...i.style}},typeof l=="function"?l({icon:d,message:f}):z.createElement(z.Fragment,null,d,f))});t_(z.createElement);var D_=({id:i,className:n,style:r,onHeightUpdate:l,children:c})=>{let d=z.useCallback(f=>{if(f){let m=()=>{let p=f.getBoundingClientRect().height;l(i,p)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,l]);return z.createElement("div",{ref:d,className:n,style:r},c)},U_=(i,n)=>{let r=i.includes("top"),l=r?{top:0}:{bottom:0},c=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_p()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(r?1:-1)}px)`,...l,...c}},z_=ml`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,el=16,M_=({reverseOrder:i,position:n="top-center",toastOptions:r,gutter:l,children:c,toasterId:d,containerStyle:f,containerClassName:m})=>{let{toasts:p,handlers:g}=c_(r,d);return z.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:el,left:el,right:el,bottom:el,pointerEvents:"none",...f},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(b=>{let _=b.position||n,x=g.calculateOffset(b,{reverseOrder:i,gutter:l,defaultPosition:n}),S=U_(_,x);return z.createElement(D_,{id:b.id,key:b.id,onHeightUpdate:g.updateHeight,className:b.visible?z_:"",style:S},b.type==="custom"?ul(b.message,b):c?c(b):z.createElement(k_,{toast:b,position:_}))}))},Ke=Fe;const Tp=z.memo(()=>{const[i,n]=z.useState(""),[r,l]=z.useState(""),[c,d]=z.useState(!1),[f,m]=z.useState(""),[p,g]=z.useState(!1),{signIn:b,signUp:_}=_s(),x=z.useCallback(async A=>{A.preventDefault(),g(!0);try{c?(await _(i,r,f),Ke.success("Account created! Check your email.")):(await b(i,r),Ke.success("Welcome back"))}catch(C){Ke.error(C.message||"An error occurred")}finally{g(!1)}},[c,i,r,f,b,_]),S=z.useCallback(()=>{d(A=>!A)},[]);return v.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-slate-50",children:v.jsxs("div",{className:"w-full max-w-sm",children:[v.jsx("div",{className:"text-center mb-10",children:v.jsx("img",{src:"/Spratt_Logo.png",alt:"Spratt",className:"h-14 mx-auto",loading:"eager"})}),v.jsxs("div",{className:"card p-8",children:[c&&v.jsx("p",{className:"text-center text-sm text-slate-500 mb-6",children:"Create your account"}),v.jsxs("form",{className:"space-y-5",onSubmit:x,children:[c&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Full name"}),v.jsx("input",{type:"text",required:!0,className:"input",placeholder:"John Doe",value:f,onChange:A=>m(A.target.value),autoComplete:"name"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),v.jsx("input",{type:"email",required:!0,className:"input",placeholder:"you@company.com",value:i,onChange:A=>n(A.target.value),autoComplete:"email"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),v.jsx("input",{type:"password",required:!0,className:"input",placeholder:"",value:r,onChange:A=>l(A.target.value),autoComplete:c?"new-password":"current-password"})]}),v.jsx("button",{type:"submit",disabled:p,className:"btn btn-primary w-full py-3 text-base",children:p?v.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):c?"Create account":"Sign in"})]}),v.jsx("div",{className:"mt-6 pt-6 border-t border-slate-100 text-center",children:v.jsx("button",{type:"button",onClick:S,className:"text-sm font-medium text-spratt-blue hover:text-spratt-blue-700",children:c?"Already have an account? Sign in":"Don't have an account? Sign up"})})]}),v.jsx("p",{className:"mt-8 text-center text-xs text-slate-400",children:"Secure  Private  Professional"})]})})});Tp.displayName="Login";const B_="spratt-recordings",q_=1,Pt="pendingRecordings";let tl=null;const gl=()=>new Promise((i,n)=>{if(tl){i(tl);return}const r=indexedDB.open(B_,q_);r.onerror=()=>n(r.error),r.onsuccess=()=>{tl=r.result,i(tl)},r.onupgradeneeded=l=>{const c=l.target.result;if(!c.objectStoreNames.contains(Pt)){const d=c.createObjectStore(Pt,{keyPath:"id",autoIncrement:!1});d.createIndex("timestamp","timestamp",{unique:!1}),d.createIndex("status","status",{unique:!1})}}}),L_=async(i,n,r={})=>{try{const l=await gl(),c=`local_${Date.now()}_${Math.random().toString(36).substring(7)}`,d=await i.arrayBuffer(),f={id:c,userId:n,audioData:d,mimeType:i.type||"audio/webm",timestamp:Date.now(),status:"pending",metadata:r,retryCount:0};return new Promise((m,p)=>{const _=l.transaction([Pt],"readwrite").objectStore(Pt).put(f);_.onsuccess=()=>{console.log("Recording saved locally:",c),m(c)},_.onerror=()=>{console.error("Error saving recording:",_.error),p(_.error)}})}catch(l){throw console.error("Error saving recording locally:",l),l}},Zu=async()=>{try{const l=(await gl()).transaction([Pt],"readonly").objectStore(Pt).index("status");return new Promise((c,d)=>{const f=l.getAll("pending");f.onsuccess=()=>{const m=f.result.map(p=>({...p,audioBlob:new Blob([p.audioData],{type:p.mimeType})}));c(m)},f.onerror=()=>d(f.error)})}catch(i){return console.error("Error getting pending recordings:",i),[]}},Iu=async(i,n,r=null)=>{try{const d=(await gl()).transaction([Pt],"readwrite").objectStore(Pt),f=d.get(i);return new Promise((m,p)=>{f.onsuccess=()=>{const g=f.result;if(!g){p(new Error("Recording not found"));return}g.status=n,r&&(g.error=r.message,g.retryCount=(g.retryCount||0)+1);const b=d.put(g);b.onsuccess=()=>m(g),b.onerror=()=>p(b.error)},f.onerror=()=>p(f.error)})}catch(l){throw console.error("Error updating recording status:",l),l}},H_=async i=>{try{const l=(await gl()).transaction([Pt],"readwrite").objectStore(Pt);return new Promise((c,d)=>{const f=l.delete(i);f.onsuccess=()=>c(),f.onerror=()=>d(f.error)})}catch(n){throw console.error("Error deleting local recording:",n),n}},$_="modulepreload",G_=function(i){return"/Transcribe/"+i},Fm={},V_=function(n,r,l){let c=Promise.resolve();if(r&&r.length>0){let g=function(b){return Promise.all(b.map(_=>Promise.resolve(_).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var f=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");c=g(r.map(b=>{if(b=G_(b),b in Fm)return;Fm[b]=!0;const _=b.endsWith(".css"),x=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${x}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":$_,_||(S.as="script"),S.crossOrigin="",S.href=b,p&&S.setAttribute("nonce",p),document.head.appendChild(S),_)return new Promise((A,C)=>{S.addEventListener("load",A),S.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${b}`)))})}))}function d(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return c.then(m=>{for(const p of m||[])p.status==="rejected"&&d(p.reason);return n().catch(d)})};async function Y_(i,n=16e3){console.log("Converting audio to WAV format...");const r=new(window.AudioContext||window.webkitAudioContext)({sampleRate:n});try{const l=await i.arrayBuffer(),c=await r.decodeAudioData(l);console.log("Original audio:",{sampleRate:c.sampleRate,channels:c.numberOfChannels,duration:c.duration});let d=c;c.sampleRate!==n&&(d=await K_(r,c,n));const f=d.numberOfChannels>1?Q_(d):d.getChannelData(0),m=X_(f,n);return console.log("Converted to WAV:",{sampleRate:n,channels:1,size:m.size}),m}finally{await r.close()}}async function K_(i,n,r){const l=new OfflineAudioContext(1,Math.ceil(n.duration*r),r),c=l.createBufferSource();return c.buffer=n,c.connect(l.destination),c.start(0),await l.startRendering()}function Q_(i){const n=i.getChannelData(0),r=i.getChannelData(1),l=new Float32Array(n.length);for(let c=0;c<n.length;c++)l[c]=(n[c]+r[c])/2;return l}function X_(i,n){const r=new ArrayBuffer(44+i.length*2),l=new DataView(r);al(l,0,"RIFF"),l.setUint32(4,36+i.length*2,!0),al(l,8,"WAVE"),al(l,12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,1,!0),l.setUint32(24,n,!0),l.setUint32(28,n*2,!0),l.setUint16(32,2,!0),l.setUint16(34,16,!0),al(l,36,"data"),l.setUint32(40,i.length*2,!0);let c=44;for(let d=0;d<i.length;d++,c+=2){const f=Math.max(-1,Math.min(1,i[d]));l.setInt16(c,f<0?f*32768:f*32767,!0)}return new Blob([r],{type:"audio/wav"})}function al(i,n,r){for(let l=0;l<r.length;l++)i.setUint8(n+l,r.charCodeAt(l))}const J_="cce8e8be12ae41578589b636575146c5",Ap="australiaeast",Z_=async i=>{console.log("Transcribing audio with Azure Speech..."),console.log("Original audio - type:",i.type,"size:",i.size);try{let n;try{n=await Y_(i),console.log("Converted to WAV - size:",n.size)}catch(d){console.error("Audio conversion failed:",d),n=i}const r=`https://${Ap}.stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1?language=en-AU&format=detailed`,l=await fetch(r,{method:"POST",headers:{"Ocp-Apim-Subscription-Key":J_,"Content-Type":n.type==="audio/wav"?"audio/wav; codecs=audio/pcm; samplerate=16000":"audio/wav",Accept:"application/json"},body:n});if(!l.ok){const d=await l.text();return console.error("Azure Speech API error:",l.status,d),null}const c=await l.json();if(console.log("Azure Speech result:",JSON.stringify(c,null,2)),c.RecognitionStatus==="Success"){const d=c.DisplayText||"",f=c.NBest?.[0]?.Display||c.NBest?.[0]?.Lexical||"",m=d||f;return console.log("Transcription:",m),{text:m,confidence:c.NBest?.[0]?.Confidence||0,words:c.NBest?.[0]?.Words||[]}}else return c.RecognitionStatus==="NoMatch"?(console.log("No speech detected in audio"),{text:"",confidence:0,words:[]}):c.RecognitionStatus==="InitialSilenceTimeout"?(console.log("Audio was silent or too short"),{text:"",confidence:0,words:[]}):(console.log("Recognition status:",c.RecognitionStatus),{text:"",confidence:0,words:[]})}catch(n){return console.error("Error transcribing with Azure Speech:",n),null}},I_=()=>!!Ap,W_=async(i,n)=>{try{let r="";if(I_()){console.log("Using Azure Speech for transcription (with WAV conversion)...");const c=await Z_(n);c&&c.text?(r=c.text,console.log("Transcription successful:",r)):(console.log("No speech detected in audio"),r="[No speech detected - try speaking more clearly]")}else console.warn("Azure Speech not configured"),r="[Transcription not available - Azure Speech not configured]";const{error:l}=await Ne.from("recordings").update({transcription:r,transcription_status:"completed"}).eq("id",i);if(l)throw l;r&&!r.startsWith("[")&&await P_(i,r)}catch(r){console.error("Error processing transcription:",r),await Ne.from("recordings").update({transcription_status:"failed"}).eq("id",i)}},P_=async(i,n)=>{try{const{data:r,error:l}=await Ne.from("recordings").select("user_id").eq("id",i).single();if(l)throw l;const{extractActionsFromTranscript:c}=await V_(async()=>{const{extractActionsFromTranscript:p}=await Promise.resolve().then(()=>pw);return{extractActionsFromTranscript:p}},void 0),d=await c(n);if(d.length===0){console.log("No actions extracted from transcript");return}const f=d.map(p=>({recording_id:i,user_id:r.user_id,...p,status:"pending"})),{error:m}=await Ne.from("actions").insert(f);if(m)throw m;console.log(`Successfully extracted ${d.length} actions from transcript`)}catch(r){console.error("Error extracting actions:",r)}};let Za=!1,sl=[],Wu=null;const F_=()=>{Wu&&clearTimeout(Wu),Wu=setTimeout(()=>{Za&&(console.log("Resetting stuck sync lock"),Za=!1)},3e4)},Oi=()=>navigator.onLine,ew=i=>(sl.push(i),()=>{sl=sl.filter(n=>n!==i)}),bn=i=>{sl.forEach(n=>n(i))},tw=async i=>{console.log("Uploading recording:",i.id);try{await Iu(i.id,"uploading");const n=`${i.userId}/${Date.now()}-${Math.random().toString(36).substring(7)}.webm`;console.log("Uploading to storage:",n);const{data:r,error:l}=await Ne.storage.from("recordings").upload(n,i.audioBlob,{contentType:i.mimeType,upsert:!1});if(l)throw console.error("Storage upload error:",l),l;console.log("Storage upload success:",r);const{data:{publicUrl:c}}=Ne.storage.from("recordings").getPublicUrl(n);console.log("Public URL:",c);const{data:d,error:f}=await Ne.from("recordings").insert({user_id:i.userId,audio_url:c,transcription_status:"processing"}).select().single();if(f)throw console.error("Database insert error:",f),f;return console.log("Database record created:",d.id),setTimeout(async()=>{try{await W_(d.id,i.audioBlob)}catch(m){console.error("Transcription error:",m)}},1e3),await Iu(i.id,"uploaded"),await H_(i.id),console.log("Recording uploaded successfully:",d.id),window.dispatchEvent(new CustomEvent("recordings-updated")),window.dispatchEvent(new CustomEvent("actions-updated")),{success:!0,recordingId:d.id}}catch(n){console.error("Error uploading recording:",n);try{await Iu(i.id,"failed",n)}catch(r){console.error("Error updating status to failed:",r)}throw n}},_i=async()=>{if(!Oi())return console.log("Offline - skipping sync"),bn({status:"offline",pendingCount:0}),{synced:0,failed:0};if(Za)return console.log("Sync already in progress - skipping"),{synced:0,failed:0};console.log("Starting sync..."),Za=!0,F_(),bn({status:"syncing",pendingCount:0});try{const i=await Zu();if(i.length===0)return Za=!1,bn({status:"idle",pendingCount:0}),{synced:0,failed:0};bn({status:"syncing",pendingCount:i.length});let n=0,r=0;for(const c of i)try{if(c.retryCount>=3){console.log(`Skipping recording ${c.id} - too many retries`),r++;continue}await tw(c),n++;const d=await Zu();bn({status:"syncing",pendingCount:d.length})}catch(d){console.error(`Failed to upload recording ${c.id}:`,d),r++}Za=!1;const l=await Zu();return bn({status:l.length>0?"pending":"idle",pendingCount:l.length}),{synced:n,failed:r}}catch(i){throw console.error("Error syncing recordings:",i),Za=!1,bn({status:"error",pendingCount:0}),i}},aw=()=>{window.addEventListener("online",()=>{console.log("Online - starting sync"),_i()}),Oi()&&_i(),setInterval(()=>{Oi()&&!Za&&_i()},3e4)},Op=z.memo(({isRecording:i,analyserNode:n,barCount:r=48,color:l="#1c4668"})=>{const c=z.useRef([]),d=z.useRef(null);return z.useEffect(()=>{if(!i){c.current.forEach(g=>{g&&(g.style.transform="scaleY(0.15)")});return}if(!n){let g=0;const b=()=>{g+=.12,c.current.forEach((_,x)=>{if(!_)return;const S=Math.sin(g+x*.15)*.35+.5,A=Math.random()*.25;_.style.transform=`scaleY(${Math.max(.15,S+A)})`}),d.current=requestAnimationFrame(b)};return b(),()=>cancelAnimationFrame(d.current)}const f=new Uint8Array(n.frequencyBinCount),m=Math.floor(f.length/r),p=()=>{n.getByteFrequencyData(f),c.current.forEach((g,b)=>{if(!g)return;const _=b*m;let x=0;for(let A=_;A<_+m;A++)x+=f[A]||0;const S=x/m/255;g.style.transform=`scaleY(${Math.max(.15,S)})`}),d.current=requestAnimationFrame(p)};return p(),()=>cancelAnimationFrame(d.current)},[i,n,r]),v.jsx("div",{className:"w-full flex items-center justify-center gap-[3px] h-full",children:Array.from({length:r}).map((f,m)=>v.jsx("div",{ref:p=>c.current[m]=p,className:"flex-1 max-w-[6px] h-full rounded-full origin-center",style:{backgroundColor:i?"#ef4444":l,opacity:i?.85:.25,transform:"scaleY(0.15)",transition:"opacity 200ms"}},m))})});Op.displayName="Waveform";const jp=z.memo(({barCount:i=100,height:n=48,activeColor:r="#94a3b8",inactiveColor:l="#d1d5db",progress:c=0})=>{const d=Math.floor(c*i),f=m=>{const p=Math.sin(m*12.9898+78.233)*43758.5453;return(p-Math.floor(p))*.6+.25};return v.jsx("div",{className:"w-full h-full flex items-center justify-between",style:{height:n},children:Array.from({length:i}).map((m,p)=>v.jsx("div",{className:"rounded-sm",style:{width:"0.6%",height:`${f(p)*100}%`,backgroundColor:p<d?r:l,minHeight:2,opacity:.6}},p))})});jp.displayName="StaticWaveform";const Rp=z.memo(({triggerRecord:i})=>{const{user:n}=_s(),[r,l]=z.useState(!1),[c,d]=z.useState(!1),[f,m]=z.useState(0),[p,g]=z.useState(Oi()),[b,_]=z.useState(0),[x,S]=z.useState(null),A=z.useRef(null),C=z.useRef([]),H=z.useRef(null),G=z.useRef(null),Y=z.useRef(null),D=z.useRef(r),K=z.useRef(c);D.current=r,K.current=c;const le=z.useCallback(async()=>{try{const De=await navigator.mediaDevices.getUserMedia({audio:!0});G.current=De;const Se=new(window.AudioContext||window.webkitAudioContext);Y.current=Se;const Ue=Se.createMediaStreamSource(De),Q=Se.createAnalyser();Q.fftSize=128,Ue.connect(Q),S(Q);const $=new MediaRecorder(De,{mimeType:"audio/webm"});A.current=$,C.current=[],$.ondataavailable=ie=>{ie.data.size>0&&C.current.push(ie.data)},$.onstop=async()=>{const ie=new Blob(C.current,{type:"audio/webm"});d(!0);try{if(await L_(ie,n.id,{duration:f,timestamp:new Date().toISOString()}),Oi())try{await _i(),Ke.success("Recording saved")}catch{Ke.success("Saved offline")}else Ke.success("Saved offline");C.current=[],m(0)}catch(k){console.error("Error:",k),Ke.error("Error saving")}finally{d(!1),S(null),Y.current?.close(),Y.current=null,G.current?.getTracks().forEach(k=>k.stop()),G.current=null}},$.start(),l(!0),m(0),H.current=setInterval(()=>{m(ie=>ie+1)},1e3)}catch(De){console.error("Error:",De),Ke.error(De.name==="NotAllowedError"?"Microphone access denied":"Microphone error")}},[n,f]),ee=z.useCallback(()=>{A.current&&D.current&&(A.current.stop(),l(!1),H.current&&(clearInterval(H.current),H.current=null))},[]),J=z.useRef(le),be=z.useRef(ee);J.current=le,be.current=ee,z.useEffect(()=>{i&&!D.current&&!K.current&&J.current()},[i]),z.useEffect(()=>{const De=()=>{g(!0),_i()},Se=()=>g(!1);window.addEventListener("online",De),window.addEventListener("offline",Se);const Ue=ew(Q=>{_(Q.pendingCount||0)});return()=>{window.removeEventListener("online",De),window.removeEventListener("offline",Se),Ue()}},[]),z.useEffect(()=>{const De=Se=>{Se.target.tagName==="INPUT"||Se.target.tagName==="TEXTAREA"||(Se.key==="r"&&!D.current&&!K.current&&(Se.preventDefault(),J.current()),(Se.key==="s"||Se.key==="Escape")&&D.current&&(Se.preventDefault(),be.current()))};return window.addEventListener("keydown",De),()=>window.removeEventListener("keydown",De)},[]);const Ce=De=>{const Se=Math.floor(De/60),Ue=De%60;return`${Se.toString().padStart(2,"0")}:${Ue.toString().padStart(2,"0")}`};return v.jsx("div",{className:"card p-6 lg:p-8",children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:`text-5xl font-light tracking-tight tabular-nums mb-4 ${r?"text-red-500":"text-slate-200"}`,children:Ce(f)}),v.jsx("div",{className:"w-full h-20 mb-6 px-4",children:v.jsx(Op,{isRecording:r,analyserNode:x,barCount:60})}),v.jsx("button",{onClick:r?ee:le,disabled:c,className:`
            w-20 h-20 rounded-full flex items-center justify-center
            transition-transform duration-100
            ${c?"opacity-50":"hover:scale-105 active:scale-95"}
            ${r?"bg-red-500 recording-pulse":"bg-spratt-blue"}
          `,children:c?v.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r?v.jsx("div",{className:"w-6 h-6 bg-white rounded-sm"}):v.jsx("div",{className:"w-6 h-6 bg-white rounded-full"})}),v.jsx("p",{className:`mt-4 text-sm font-medium ${r?"text-red-500":"text-slate-400"}`,children:c?"Saving...":r?"Recording":"Tap to record"}),!r&&!c&&v.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["or press ",v.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-[10px] font-medium",children:"R"})]}),r&&v.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["press ",v.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-[10px] font-medium",children:"S"})," to stop"]}),v.jsxs("div",{className:"mt-5 flex items-center gap-3 text-xs",children:[v.jsxs("span",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full ${p?"bg-green-50 text-green-600":"bg-amber-50 text-amber-600"}`,children:[v.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${p?"bg-green-500":"bg-amber-500"}`}),p?"Online":"Offline"]}),b>0&&v.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-amber-50 text-amber-600",children:[b," pending"]})]})]})})});Rp.displayName="AudioRecorder";const nw=async i=>(console.warn("Azure DevOps PAT not configured"),null),sw=async i=>{if(i.status!=="approved")return null;try{const n=await nw(i);if(n)return n}catch(n){throw console.error("Error syncing action to Azure DevOps:",n),n}},Np=z.memo(()=>v.jsx("div",{className:"card p-5",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"w-10 h-10 skeleton rounded-xl"}),v.jsxs("div",{className:"flex-1 space-y-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"h-5 w-40 skeleton"}),v.jsx("div",{className:"h-5 w-16 skeleton rounded-full"})]}),v.jsx("div",{className:"h-4 w-full skeleton"})]})]})}));Np.displayName="ActionSkeleton";const Cp=z.memo(({action:i,onStatusChange:n,onEdit:r,compact:l,onNavigateToEdit:c,startEditing:d,onClearEdit:f})=>{const m=Q=>Q?{contact:Q.contact||"",contact_email:Q.contact_email||Q.email||"",contact_phone:Q.contact_phone||Q.phone||"",account:Q.account||Q.company||"",due_date:Q.due_date||"",priority:Q.priority||"",notes:Q.notes||""}:{},[p,g]=z.useState(d||!1);z.useEffect(()=>{d&&!p&&g(!0)},[d]);const[b,_]=z.useState(i.title||""),[x,S]=z.useState(i.description||""),[A,C]=z.useState(m(i.metadata)),[H,G]=z.useState(!1),Y=()=>"",D=[{key:"contact",label:"Contact/Lead Name",icon:"",placeholder:"John Smith",type:"text",sfField:"WhoId (lookup)"},{key:"contact_email",label:"Contact Email",icon:"",placeholder:"john@example.com",type:"email",sfField:"WhoId (lookup)"},{key:"contact_phone",label:"Contact Phone",icon:"",placeholder:"+1 234 567 8900",type:"tel",sfField:"WhoId (lookup)"},{key:"account",label:"Account/Company",icon:"",placeholder:"Acme Corp",type:"text",sfField:"WhatId (lookup)"},{key:"due_date",label:"Due Date & Time",icon:"",placeholder:"",type:"datetime-local",sfField:"ActivityDate"},{key:"priority",label:"Priority",icon:"",placeholder:"",type:"select",options:["High","Normal","Low"],sfField:"Priority"},{key:"notes",label:"Additional Notes",icon:"",placeholder:"Extra context...",type:"text",sfField:"Description (append)"}],K=Q=>{if(!Q)return"";if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/.test(Q))return Q;if(/^\d{4}-\d{2}-\d{2}$/.test(Q))return`${Q}T09:00`;const $=new Date,ie=Q.toLowerCase(),k=ye=>{const ve=ye.getFullYear(),T=String(ye.getMonth()+1).padStart(2,"0"),L=String(ye.getDate()).padStart(2,"0");return`${ve}-${T}-${L}T09:00`};if(ie==="today")return k($);if(ie==="tomorrow")return $.setDate($.getDate()+1),k($);if(ie==="next week")return $.setDate($.getDate()+7),k($);if(ie==="next month")return $.setMonth($.getMonth()+1),k($);const te=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(ie);if(te!==-1){const ye=$.getDay();let ve=te-ye;return ve<=0&&(ve+=7),$.setDate($.getDate()+ve),k($)}return Q},le=Q=>Q?/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/.test(Q)?new Date(Q).toLocaleString("en-AU",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):/^\d{4}-\d{2}-\d{2}$/.test(Q)?new Date(Q+"T00:00:00").toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):Q:"",ee=Q=>({pending:"badge-warning",approved:"badge-success",rejected:"badge-error",completed:"badge-info"})[Q]||"badge-neutral",J=Q=>{const $=Date.now()-new Date(Q),ie=Math.floor($/6e4),k=Math.floor($/36e5),V=Math.floor($/864e5);return ie<1?"Just now":ie<60?`${ie}m ago`:k<24?`${k}h ago`:`${V}d ago`},be=(Q,$)=>{C(ie=>({...ie,[Q]:$}))},Ce=async()=>{G(!0);try{const Q=Object.fromEntries(Object.entries(A).filter(([,$])=>$&&$.trim()));await r(i.id,{title:b,description:x,action_type:"task",metadata:Q}),g(!1),f&&f(null),Ke.success("Task updated")}catch{Ke.error("Error saving")}finally{G(!1)}},De=()=>{g(!1),_(i.title||""),S(i.description||""),C(m(i.metadata)),f&&f(null)},Se=()=>{l&&c?c(i.id):g(!p)},Ue=i.status==="approved"||i.status==="pending";return v.jsx("div",{className:"card p-5",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl bg-spratt-blue-50 flex items-center justify-center text-spratt-blue text-lg flex-shrink-0",children:Y()}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[!p&&v.jsx("h3",{className:"font-medium text-slate-900",children:i.title}),v.jsx("span",{className:`badge ${ee(i.status)}`,children:i.status})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs text-slate-400",children:J(i.created_at)}),Ue&&v.jsx("button",{onClick:Se,className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Edit",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]}),p?v.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl space-y-4 animate-in",children:[v.jsx("div",{className:"flex items-center gap-2",children:v.jsx("span",{className:"text-xs px-2 py-1 bg-spratt-blue-50 text-spratt-blue rounded font-medium",children:" Salesforce Task"})}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Title"}),v.jsx("input",{type:"text",value:b,onChange:Q=>_(Q.target.value),className:"input py-2 text-sm",placeholder:"Task title..."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Description"}),v.jsx("textarea",{value:x,onChange:Q=>S(Q.target.value),rows:2,className:"input py-2 text-sm resize-none",placeholder:"Add more details..."})]}),v.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[v.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-3 uppercase tracking-wide",children:"Details"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:D.map(Q=>v.jsxs("div",{children:[v.jsxs("label",{className:"flex items-center gap-1.5 text-xs font-medium text-slate-600 mb-1",children:[v.jsx("span",{className:"opacity-60",children:Q.icon}),Q.label]}),Q.type==="datetime-local"?v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"datetime-local",value:K(A[Q.key])||"",onChange:$=>be(Q.key,$.target.value),className:"input py-2 text-sm w-full"}),A[Q.key]&&!/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2})?$/.test(A[Q.key])&&v.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:['Original: "',A[Q.key],'"  ',le(K(A[Q.key]))]})]}):Q.type==="select"?v.jsxs("select",{value:A[Q.key]||"",onChange:$=>be(Q.key,$.target.value),className:"input py-2 text-sm",children:[v.jsxs("option",{value:"",children:["Select ",Q.label.toLowerCase()]}),Q.options.map($=>v.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1)},$))]}):v.jsx("input",{type:Q.type,value:A[Q.key]||"",onChange:$=>be(Q.key,$.target.value),className:"input py-2 text-sm",placeholder:Q.placeholder})]},Q.key))})]}),v.jsxs("div",{className:"flex gap-2 pt-2",children:[v.jsx("button",{onClick:Ce,disabled:H||!b.trim(),className:"btn btn-primary text-sm py-2 px-4",children:H?"Saving...":"Save changes"}),v.jsx("button",{onClick:De,className:"btn btn-ghost text-sm py-2 px-4",children:"Cancel"})]})]}):v.jsxs(v.Fragment,{children:[i.description&&v.jsx("p",{className:"text-sm text-slate-600 mb-3 line-clamp-2",children:i.description}),i.metadata&&Object.keys(i.metadata).length>0&&v.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[i.metadata.contact&&v.jsxs("span",{className:"text-xs px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg",children:[" ",i.metadata.contact]}),(i.metadata.contact_email||i.metadata.email)&&v.jsxs("span",{className:"text-xs px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg",children:[" ",i.metadata.contact_email||i.metadata.email]}),(i.metadata.contact_phone||i.metadata.phone)&&v.jsxs("span",{className:"text-xs px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg",children:[" ",i.metadata.contact_phone||i.metadata.phone]}),(i.metadata.account||i.metadata.company)&&v.jsxs("span",{className:"text-xs px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg",children:[" ",i.metadata.account||i.metadata.company]}),i.metadata.due_date&&v.jsxs("span",{className:"text-xs px-2.5 py-1 bg-spratt-blue-50 text-spratt-blue rounded-lg",children:[" ",le(i.metadata.due_date)]}),i.metadata.priority&&v.jsxs("span",{className:`text-xs px-2.5 py-1 rounded-lg ${i.metadata.priority==="High"||i.metadata.priority==="high"?"bg-red-50 text-red-600":i.metadata.priority==="Normal"||i.metadata.priority==="medium"?"bg-amber-50 text-amber-600":"bg-slate-100 text-slate-600"}`,children:[" ",i.metadata.priority]}),i.metadata.notes&&v.jsxs("span",{className:"text-xs px-2.5 py-1 bg-slate-100 text-slate-500 rounded-lg max-w-xs truncate",children:[" ",i.metadata.notes]})]}),i.status==="pending"&&v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>n(i.id,"approved"),className:"btn btn-success text-sm py-2 px-4",children:"Approve"}),v.jsx("button",{onClick:()=>n(i.id,"rejected"),className:"btn btn-ghost text-sm py-2 px-4",children:"Reject"})]}),i.status==="approved"&&v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>n(i.id,"completed"),className:"btn btn-primary text-sm py-2 px-4",children:"Mark complete"}),v.jsx("button",{onClick:()=>n(i.id,"pending"),className:"btn btn-ghost text-sm py-2 px-4",children:"Move to pending"})]}),i.status==="completed"&&v.jsx("div",{className:"flex gap-2",children:v.jsx("button",{onClick:()=>n(i.id,"approved"),className:"btn btn-secondary text-sm py-2 px-4",children:"Re-open"})}),i.status==="rejected"&&v.jsx("div",{className:"flex gap-2",children:v.jsx("button",{onClick:()=>n(i.id,"pending"),className:"btn btn-secondary text-sm py-2 px-4",children:"Move to pending"})})]})]})]})})});Cp.displayName="ActionCard";const cc=z.memo(({filter:i,onFilterChange:n,limit:r,compact:l,onNavigateToEdit:c,editingActionId:d,onClearEdit:f})=>{_s();const[m,p]=z.useState([]),[g,b]=z.useState(!0),[_,x]=z.useState("pending"),S=i||_,A=n||x,C=z.useCallback(async()=>{try{b(!0);let D=Ne.from("actions").select("*").order("created_at",{ascending:!1});S!=="all"&&(D=D.eq("status",S)),r&&(D=D.limit(r));const{data:K,error:le}=await D;if(le)throw le;p(K||[])}catch(D){console.error("Error:",D)}finally{b(!1)}},[S,r]);z.useEffect(()=>{C();const D=Ne.channel("actions_changes").on("postgres_changes",{event:"*",schema:"public",table:"actions"},C).subscribe();return()=>D.unsubscribe()},[C]);const H=z.useCallback(async(D,K)=>{const le=[...m];p(ee=>ee.map(J=>J.id===D?{...J,status:K}:J));try{const{data:ee}=await Ne.from("actions").select("*").eq("id",D).single();if(await Ne.from("actions").update({status:K,updated_at:new Date().toISOString()}).eq("id",D),K==="approved"&&ee)try{await sw({...ee,status:K})}catch{}const J={approved:"Approved",rejected:"Rejected",completed:"Completed",pending:"Moved to pending"};Ke.success(J[K]||"Updated"),C()}catch{Ke.error("Error"),p(le)}},[m,C]),G=z.useCallback(async(D,K)=>{await Ne.from("actions").update({...K,updated_at:new Date().toISOString()}).eq("id",D),C()},[C]);if(g)return v.jsx("div",{className:"space-y-3",children:[...Array(r||3)].map((D,K)=>v.jsx(Np,{},K))});const Y=["pending","approved","completed","all"];return v.jsxs("div",{children:[!l&&v.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Actions"}),v.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:[m.length," ",S==="all"?"total":S]})]}),v.jsx("div",{className:"flex items-center gap-1 p-1 bg-slate-100 rounded-xl",children:Y.map(D=>v.jsx("button",{onClick:()=>A(D),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors duration-100 ${S===D?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:D.charAt(0).toUpperCase()+D.slice(1)},D))})]}),m.length===0?v.jsxs("div",{className:"card p-12 text-center",children:[v.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-xl bg-slate-100 flex items-center justify-center text-2xl opacity-40",children:""}),v.jsx("p",{className:"text-slate-900 font-medium mb-1",children:"No actions"}),v.jsx("p",{className:"text-sm text-slate-500",children:S==="pending"?"Record audio to extract actions":"Nothing matches this filter"})]}):v.jsx("div",{className:"space-y-3",children:m.map(D=>v.jsx(Cp,{action:D,onStatusChange:H,onEdit:G,compact:l,onNavigateToEdit:c,startEditing:d===D.id,onClearEdit:f},D.id))})]})});cc.displayName="ActionsList";const iw="https://oai-snd-transcribe.openai.azure.com/",rw="ee9a40918e6948c1ae48a4513002039b",lw="gpt-4o",kp=async i=>{if(!i||i.trim().length===0)return[];try{console.log("Using Azure OpenAI for action extraction...");const n=await ow(i);if(n&&n.length>0)return console.log("AI extracted actions:",n),n}catch(n){console.error("AI extraction failed, falling back to pattern matching:",n)}return uw(i)};async function ow(i){const r=`${iw}openai/deployments/${lw}/chat/completions?api-version=2024-08-01-preview`,c=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json","api-key":rw},body:JSON.stringify({messages:[{role:"system",content:`You are an action extraction assistant that creates Salesforce Tasks from meeting notes.
Extract actionable items from the transcript and return them as JSON.

For each action, extract these Salesforce Task-compatible fields:
- action_type: always "task" (all items become Salesforce Tasks)
- title: short task subject (max 50 chars) - maps to Salesforce Subject field
- description: the original sentence - maps to Salesforce Description field
- metadata object with Salesforce-compatible fields:
  - contact: person name (used to lookup WhoId - Contact/Lead in Salesforce)
  - contact_email: email if mentioned (helps identify Contact)
  - contact_phone: phone if mentioned (helps identify Contact)
  - account: company/account name (used to lookup WhatId - Account in Salesforce)
  - due_date: relative date (today, tomorrow, next week) or specific date - maps to ActivityDate
  - priority: "High", "Normal", or "Low" - maps to Salesforce Priority field

Only extract clear, actionable items. Do NOT extract:
- Vague statements
- Past actions already completed
- Context or background information

Return ONLY a JSON array, no markdown, no explanation.
Example: [{"action_type":"task","title":"Send proposal to John","description":"I need to send the proposal to John at Acme Corp","metadata":{"contact":"John","account":"Acme Corp","due_date":"tomorrow","priority":"High"}}]

If no actions found, return: []`},{role:"user",content:`Extract actions from this transcript:

${i}`}],temperature:.3,max_tokens:1e3})});if(!c.ok){const m=await c.text();throw console.error("Azure OpenAI error:",c.status,m),new Error(`Azure OpenAI error: ${c.status}`)}const f=(await c.json()).choices?.[0]?.message?.content||"[]";console.log("AI response:",f);try{let m=f.trim();return m.startsWith("```")&&(m=m.replace(/```json?\n?/g,"").replace(/```/g,"")),JSON.parse(m).filter(g=>g.title&&g.title.trim().length>0).map(g=>({action_type:"task",title:g.title.substring(0,50),description:g.description||"",metadata:{contact:g.metadata?.contact||"",contact_email:g.metadata?.contact_email||g.metadata?.email||"",contact_phone:g.metadata?.contact_phone||g.metadata?.phone||"",account:g.metadata?.account||g.metadata?.company||"",due_date:g.metadata?.due_date||"",priority:g.metadata?.priority||"Normal",notes:g.metadata?.notes||""}}))}catch(m){return console.error("Failed to parse AI response:",m),[]}}function uw(i){const n=[];return i.split(/[.!?]\s+/).filter(l=>l.trim().length>0).forEach(l=>{const c=cw(l),d=l.match(/(?:send|message|contact)\s+(?:to\s+)?([A-Z][a-z]+(?:\s+[A-Z][a-z]+)?)/i);if(d){n.push({action_type:"task",title:`Send message to ${d[1]}`,description:l.trim(),metadata:{contact:d[1],due_date:c,priority:"Normal"}});return}const f=l.match(/(?:call|phone|ring)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)?)/i);if(f){n.push({action_type:"task",title:`Call ${f[1]}`,description:l.trim(),metadata:{contact:f[1],due_date:c,priority:"Normal"}});return}const m=l.match(/(?:need to|have to|must|should)\s+(.{5,50}?)(?:\.|$)/i);m&&n.push({action_type:"task",title:m[1].trim().substring(0,50),description:l.trim(),metadata:{due_date:c,priority:"Normal"}})}),n}const cw=i=>{const n=i.toLowerCase();if(n.includes("tomorrow"))return"tomorrow";if(n.includes("today"))return"today";if(n.includes("next week"))return"next week";if(n.includes("next month"))return"next month";const r=n.match(/(?:on\s+)?(monday|tuesday|wednesday|thursday|friday|saturday|sunday)/);if(r)return r[1];const l=i.match(/\d{1,2}\/\d{1,2}\/\d{2,4}/);return l?l[0]:null},dw=i=>{const n=["action_type","title"];for(const r of n)if(!i[r])throw new Error(`Missing required field: ${r}`);if(i.action_type!=="task")throw new Error(`Invalid action_type: ${i.action_type}. Must be 'task' for Salesforce.`);return i.metadata?.priority&&!["High","Normal","Low"].includes(i.metadata.priority)&&console.warn(`Non-standard priority value: ${i.metadata.priority}. Salesforce uses High/Normal/Low.`),!0},fw=(i,n={})=>{const r=i.metadata||{};return{Subject:i.title,Status:hw(i.status),Priority:r.priority||"Normal",Description:[i.description,r.notes].filter(Boolean).join(`

`),ActivityDate:mw(r.due_date),WhoId:n.contactId||n.leadId||null,WhatId:n.accountId||n.opportunityId||null,OwnerId:n.ownerId||null,_lookupHints:{contactName:r.contact,contactEmail:r.contact_email,contactPhone:r.contact_phone,accountName:r.account}}};function hw(i){return{pending:"Not Started",approved:"In Progress",completed:"Completed",rejected:"Deferred"}[i]||"Not Started"}function mw(i){if(!i)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(i))return i;if(/^\d{4}-\d{2}-\d{2}T/.test(i))return i.split("T")[0];const n=new Date,r=i.toLowerCase();return r==="today"?n.toISOString().split("T")[0]:r==="tomorrow"?(n.setDate(n.getDate()+1),n.toISOString().split("T")[0]):r==="next week"?(n.setDate(n.getDate()+7),n.toISOString().split("T")[0]):null}const pw=Object.freeze(Object.defineProperty({__proto__:null,extractActionsFromTranscript:kp,toSalesforceTask:fw,validateAction:dw},Symbol.toStringTag,{value:"Module"})),Dp=z.memo(()=>v.jsx("div",{className:"card p-5",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"w-10 h-10 skeleton rounded-xl"}),v.jsxs("div",{className:"flex-1 space-y-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"h-4 w-24 skeleton"}),v.jsx("div",{className:"h-5 w-20 skeleton rounded-full"})]}),v.jsx("div",{className:"h-10 w-full skeleton"})]})]})}));Dp.displayName="RecordingSkeleton";const Up=z.memo(({recording:i,expandedSection:n,onToggleSection:r,onEdit:l,onRetranscribe:c,actions:d})=>{const[f,m]=z.useState(!1),[p,g]=z.useState(i.title||""),[b,_]=z.useState(i.notes||""),[x,S]=z.useState(i.transcription||""),[A,C]=z.useState(!1),[H,G]=z.useState(!1),Y=d.filter($=>$.recording_id===i.id),D=Y.length,K=$=>({pending:"badge-warning",processing:"badge-info",completed:"badge-success",failed:"badge-error"})[$]||"badge-neutral",le=()=>{const $=i.transcription_status;return $==="pending"?{step:1,text:"Waiting to process..."}:$==="processing"?{step:2,text:"Transcribing audio..."}:$==="completed"&&D===0?{step:3,text:"Transcription complete"}:$==="completed"&&D>0?{step:4,text:`${D} action${D!==1?"s":""} extracted`}:$==="failed"?{step:0,text:"Transcription failed"}:{step:0,text:$}},ee=$=>{const ie=Date.now()-new Date($),k=Math.floor(ie/6e4),V=Math.floor(ie/36e5),te=Math.floor(ie/864e5);return k<1?"Just now":k<60?`${k}m ago`:V<24?`${V}h ago`:`${te}d ago`},J=$=>{if(!$)return null;const ie=Math.floor($/60),k=$%60;return`${ie}:${k.toString().padStart(2,"0")}`},be=$=>$&&(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/.test($)?new Date($).toLocaleString("en-AU",{day:"numeric",month:"short",hour:"numeric",minute:"2-digit",hour12:!0}):/^\d{4}-\d{2}-\d{2}$/.test($)?new Date($+"T00:00:00").toLocaleDateString("en-AU",{day:"numeric",month:"short"}):$),Ce=async($=!1)=>{C(!0);try{if(await l(i.id,{title:p,notes:b,transcription:x}),$&&x){G(!0),Ke.loading("Extracting actions...",{id:"extract"}),await Ne.from("actions").delete().eq("recording_id",i.id);const ie=await kp(x);if(ie.length>0){const k=ie.map(V=>({recording_id:i.id,user_id:i.user_id,...V,status:"pending"}));await Ne.from("actions").insert(k),Ke.success(`${ie.length} action${ie.length!==1?"s":""} extracted`,{id:"extract"})}else Ke.success("No actions found in transcription",{id:"extract"});G(!1)}else Ke.success("Recording updated");m(!1)}catch(ie){console.error("Error:",ie),Ke.error("Error saving",{id:"extract"})}finally{C(!1),G(!1)}},De=async()=>{try{await c(i.id),Ke.success("Re-transcription started")}catch{Ke.error("Error starting re-transcription")}},Se=le(),Ue=n===`transcription-${i.id}`,Q=n===`actions-${i.id}`;return v.jsxs("div",{className:"card p-5",children:[v.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[v.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[v.jsx("span",{className:"text-sm font-medium text-slate-700",children:ee(i.created_at)}),v.jsx("span",{className:`badge ${K(i.transcription_status)}`,children:i.transcription_status}),J(i.duration)&&v.jsx("span",{className:"text-xs text-slate-400 tabular-nums",children:J(i.duration)}),D>0&&v.jsxs("span",{className:"text-xs px-2 py-0.5 bg-spratt-blue-50 text-spratt-blue rounded-full font-medium",children:[D," action",D!==1?"s":""]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>m(!f),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Edit details",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),i.transcription_status==="completed"&&v.jsx("button",{onClick:De,className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Re-transcribe",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),i.title&&!f&&v.jsx("h3",{className:"font-medium text-slate-900 mb-3",children:i.title}),f&&v.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-xl space-y-3 animate-in",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Title"}),v.jsx("input",{type:"text",value:p,onChange:$=>g($.target.value),placeholder:"Add a title...",className:"input py-2 text-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Notes"}),v.jsx("textarea",{value:b,onChange:$=>_($.target.value),placeholder:"Add notes or context...",rows:2,className:"input py-2 text-sm resize-none"})]}),i.transcription&&v.jsxs("div",{children:[v.jsxs("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:["Transcription",v.jsx("span",{className:"text-slate-400 font-normal ml-1",children:"(edit to fix errors)"})]}),v.jsx("textarea",{value:x,onChange:$=>S($.target.value),placeholder:"Transcription text...",rows:4,className:"input py-2 text-sm resize-none font-mono"})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 pt-1",children:[v.jsx("button",{onClick:()=>Ce(!1),disabled:A||H,className:"btn btn-primary text-sm py-2 px-4",children:A&&!H?"Saving...":"Save"}),i.transcription&&v.jsx("button",{onClick:()=>Ce(!0),disabled:A||H,className:"btn btn-secondary text-sm py-2 px-4",children:H?"Extracting...":"Save & Re-extract Actions"}),v.jsx("button",{onClick:()=>{m(!1),S(i.transcription||"")},className:"btn btn-ghost text-sm py-2 px-4",children:"Cancel"})]})]}),i.notes&&!f&&v.jsx("p",{className:"text-sm text-slate-600 mb-3",children:i.notes}),v.jsx("div",{className:"w-full h-14 mb-4",children:v.jsx(jp,{barCount:100,height:56})}),i.transcription_status==="processing"&&v.jsxs("div",{className:"flex items-center gap-2 text-sm text-spratt-blue mb-3",children:[v.jsx("div",{className:"w-3 h-3 border-2 border-spratt-blue/30 border-t-spratt-blue rounded-full animate-spin"}),Se.text]}),v.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.transcription&&v.jsxs("button",{onClick:()=>r(`transcription-${i.id}`),className:"text-sm font-medium text-spratt-blue hover:text-spratt-blue-700 flex items-center gap-1",children:[v.jsx("span",{className:`transition-transform duration-100 ${Ue?"rotate-90":""}`,children:""}),Ue?"Hide":"Show"," transcription"]}),D>0&&v.jsxs("button",{onClick:()=>r(`actions-${i.id}`),className:"text-sm font-medium text-emerald-600 hover:text-emerald-700 flex items-center gap-1",children:[v.jsx("span",{className:`transition-transform duration-100 ${Q?"rotate-90":""}`,children:""}),Q?"Hide":"Show"," actions (",D,")"]})]}),Ue&&i.transcription&&v.jsx("div",{className:"mt-3 p-4 bg-slate-50 rounded-xl text-sm text-slate-700 leading-relaxed animate-in",children:i.transcription}),Q&&D>0&&v.jsx("div",{className:"mt-3 space-y-2 animate-in",children:Y.map($=>v.jsx("div",{className:"p-3 bg-slate-50 rounded-xl",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-spratt-blue-50 flex items-center justify-center text-spratt-blue text-sm flex-shrink-0",children:$.action_type==="call"?"":$.action_type==="email"?"":$.action_type==="meeting"?"":""}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("span",{className:"font-medium text-slate-900 text-sm",children:$.title}),v.jsx("span",{className:`badge text-[10px] ${$.status==="pending"?"badge-warning":$.status==="approved"?"badge-success":$.status==="completed"?"badge-info":"badge-neutral"}`,children:$.status})]}),$.metadata&&v.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[$.metadata.contact&&v.jsxs("span",{className:"text-xs px-2 py-0.5 bg-white rounded text-slate-600",children:[" ",$.metadata.contact]}),$.metadata.due_date&&v.jsxs("span",{className:"text-xs px-2 py-0.5 bg-spratt-blue-50 rounded text-spratt-blue",children:[" ",be($.metadata.due_date)]})]})]})]})},$.id))})]})});Up.displayName="RecordingCard";const dc=z.memo(({limit:i,compact:n})=>{_s();const[r,l]=z.useState([]),[c,d]=z.useState([]),[f,m]=z.useState(!0),[p,g]=z.useState(null),b=z.useCallback(async()=>{try{m(!0);const[A,C]=await Promise.all([Ne.from("recordings").select("*").order("created_at",{ascending:!1}).limit(i||20),Ne.from("actions").select("*").order("created_at",{ascending:!1})]);if(A.error)throw A.error;if(C.error)throw C.error;l(A.data||[]),d(C.data||[])}catch(A){console.error("Error:",A)}finally{m(!1)}},[i]);z.useEffect(()=>{b();const A=Ne.channel("recordings_changes").on("postgres_changes",{event:"*",schema:"public",table:"recordings"},b).subscribe(),C=Ne.channel("actions_changes_recordings").on("postgres_changes",{event:"*",schema:"public",table:"actions"},b).subscribe();return window.addEventListener("recordings-updated",b),window.addEventListener("actions-updated",b),()=>{A.unsubscribe(),C.unsubscribe(),window.removeEventListener("recordings-updated",b),window.removeEventListener("actions-updated",b)}},[b]);const _=z.useCallback(async(A,C)=>{await Ne.from("recordings").update({...C,updated_at:new Date().toISOString()}).eq("id",A),b()},[b]),x=z.useCallback(async A=>{await Ne.from("recordings").update({transcription_status:"processing",updated_at:new Date().toISOString()}).eq("id",A),b()},[b]),S=z.useCallback(A=>{g(C=>C===A?null:A)},[]);return f?v.jsx("div",{className:"space-y-3",children:[...Array(i||3)].map((A,C)=>v.jsx(Dp,{},C))}):v.jsxs("div",{children:[!n&&v.jsxs("div",{className:"mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Recordings"}),v.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:[r.length," recording",r.length!==1?"s":""]})]}),r.length===0?v.jsxs("div",{className:"card p-12 text-center",children:[v.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-xl bg-slate-100 flex items-center justify-center text-2xl opacity-40",children:""}),v.jsx("p",{className:"text-slate-900 font-medium mb-1",children:"No recordings"}),v.jsx("p",{className:"text-sm text-slate-500",children:"Record audio to get started"})]}):v.jsx("div",{className:"space-y-3",children:r.map(A=>v.jsx(Up,{recording:A,actions:c,expandedSection:p,onToggleSection:S,onEdit:_,onRetranscribe:x},A.id))})]})});dc.displayName="RecordingsList";const zp=z.memo(({icon:i,label:n,active:r,onClick:l,badge:c,collapsed:d})=>v.jsxs("button",{onClick:l,className:`
      w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-left
      transition-colors duration-100
      ${r?"bg-spratt-blue text-white":"text-slate-600 hover:bg-slate-100"}
    `,title:d?n:void 0,children:[v.jsx("span",{className:`text-base w-5 text-center ${r?"":"opacity-60"}`,children:i}),!d&&v.jsx("span",{className:"font-medium text-sm flex-1 truncate",children:n}),!d&&c&&v.jsx("span",{className:`
        min-w-[20px] h-5 flex items-center justify-center
        text-xs font-semibold px-1.5 rounded-full
        ${r?"bg-white/20 text-white":"bg-spratt-blue text-white"}
      `,children:c})]}));zp.displayName="NavItem";const Mp=z.memo(({activeView:i,onViewChange:n,pendingActionsCount:r=0})=>{const{profile:l,signOut:c}=_s(),[d,f]=z.useState(!1),m=z.useCallback(async()=>{try{await c(),Ke.success("Signed out")}catch{Ke.error("Error signing out")}},[c]),p=z.useCallback(()=>{f(b=>!b)},[]),g=[{id:"dashboard",icon:"",label:"Dashboard"},{id:"recordings",icon:"",label:"Recordings"},{id:"actions",icon:"",label:"Actions",badge:r>0?r:null}];return v.jsxs("aside",{className:`sidebar ${d?"sidebar-collapsed":""}`,children:[v.jsx("div",{className:"flex items-center justify-center h-14 border-b border-slate-100",children:d?v.jsx("img",{src:"/Spratt_Icon.png",alt:"Spratt",className:"w-6 h-6 object-contain",loading:"eager"}):v.jsx("img",{src:"/Spratt_Logo.png",alt:"Spratt Insurance Brokers",className:"h-7 object-contain",loading:"eager"})}),v.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto scrollbar-hide",children:g.map(b=>v.jsx(zp,{icon:b.icon,label:b.label,active:i===b.id,onClick:()=>n(b.id),badge:b.badge,collapsed:d},b.id))}),!d&&v.jsx("div",{className:"px-4 pb-3",children:v.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-xl bg-slate-50 border border-slate-200 text-xs text-slate-500",children:[v.jsx("span",{children:"Quick actions"}),v.jsxs("div",{className:"flex gap-0.5 ml-auto",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-white rounded border border-slate-200 text-[10px]",children:""}),v.jsx("kbd",{className:"px-1.5 py-0.5 bg-white rounded border border-slate-200 text-[10px]",children:"K"})]})]})}),v.jsx("div",{className:"border-t border-slate-200 p-3",children:v.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-xl ${d?"justify-center":""}`,children:[v.jsx("div",{className:"w-9 h-9 rounded-full bg-spratt-blue flex items-center justify-center text-white text-sm font-medium",children:l?.full_name?.charAt(0)||l?.email?.charAt(0)?.toUpperCase()||"?"}),!d&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:l?.full_name||"User"}),v.jsx("p",{className:"text-xs text-slate-500",children:l?.role==="admin"?"Admin":"Adviser"})]}),v.jsx("button",{onClick:m,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors duration-100",title:"Sign out",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),v.jsx("button",{onClick:p,className:"absolute -right-3 top-20 w-6 h-6 bg-white border border-slate-200 rounded-full shadow-sm flex items-center justify-center text-slate-400 hover:text-slate-600",title:d?"Expand":"Collapse",children:v.jsx("svg",{className:`w-3 h-3 ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]})});Mp.displayName="Sidebar";const il=z.memo(({label:i,value:n,icon:r,color:l="default",onClick:c,muted:d})=>{const f={default:"text-spratt-blue bg-spratt-blue-50",warning:"text-amber-600 bg-amber-50",success:"text-emerald-600 bg-emerald-50"};return v.jsx("button",{onClick:c,disabled:!c,className:`card p-5 text-left w-full ${c?"card-interactive cursor-pointer":""} ${d?"opacity-50":""}`,children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:i}),v.jsx("p",{className:"text-3xl font-semibold text-slate-900",children:n})]}),v.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-lg ${f[l]}`,children:r})]})})});il.displayName="StatCard";const fc=z.memo(({title:i,badge:n,action:r,onAction:l})=>v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h2",{className:"text-base font-semibold text-slate-900",children:i}),n&&v.jsx("span",{className:"badge badge-warning",children:n})]}),r&&v.jsxs("button",{onClick:l,className:"text-sm font-medium text-spratt-blue hover:text-spratt-blue-700",children:[r," "]})]}));fc.displayName="SectionHeader";const Bp=z.memo(({activeView:i,onViewChange:n,triggerRecord:r,actionFilter:l,onActionFilterChange:c,editingActionId:d,onEditAction:f})=>{const[m,p]=z.useState(0);z.useEffect(()=>{const S=async()=>{const{count:C}=await Ne.from("actions").select("*",{count:"exact",head:!0}).eq("status","pending");p(C||0)};S();const A=Ne.channel("actions_count").on("postgres_changes",{event:"*",schema:"public",table:"actions"},S).subscribe();return()=>A.unsubscribe()},[]);const g=z.useCallback(()=>{n("actions"),c("pending")},[n,c]),b=z.useCallback(S=>{f(S),n("actions"),c("pending")},[n,c,f]),_=()=>{switch(i){case"recordings":return v.jsx(dc,{});case"actions":return v.jsx(cc,{filter:l,onFilterChange:c,editingActionId:d,onClearEdit:f});default:return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[v.jsx(il,{label:"Pending Review",value:m,icon:"",color:"warning",onClick:g}),v.jsx(il,{label:"Recordings",value:"",icon:"",onClick:()=>n("recordings")}),v.jsx(il,{label:"Synced",value:"",icon:"",color:"success",muted:!0})]}),v.jsx(Rp,{triggerRecord:r}),v.jsxs("section",{children:[v.jsx(fc,{title:"Recent Recordings",action:"View all",onAction:()=>n("recordings")}),v.jsx(dc,{limit:3,compact:!0})]}),m>0&&v.jsxs("section",{children:[v.jsx(fc,{title:"Needs Review",badge:m,action:"View all",onAction:g}),v.jsx(cc,{filter:"pending",limit:3,compact:!0,onFilterChange:c,onNavigateToEdit:b})]})]})}},x={dashboard:{title:"Dashboard",subtitle:"Overview of your activity"},recordings:{title:"Recordings",subtitle:"Your audio recordings"},actions:{title:"Actions",subtitle:"Review and manage actions"}}[i]||{title:"Dashboard",subtitle:""};return v.jsxs("div",{className:"min-h-screen",children:[v.jsx(Mp,{activeView:i,onViewChange:n,pendingActionsCount:m}),v.jsx("main",{className:"main-content",children:v.jsxs("div",{className:"max-w-3xl mx-auto px-6 lg:px-8 py-8",children:[v.jsxs("header",{className:"mb-8",children:[v.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:x.title}),v.jsx("p",{className:"text-sm text-slate-500 mt-1",children:x.subtitle})]}),v.jsx("div",{className:"animate-in",children:_()})]})})]})});Bp.displayName="Dashboard";const gw=()=>v.jsx(M_,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#1f2937",borderRadius:"12px",padding:"16px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"},style:{border:"1px solid #10b981"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"},style:{border:"1px solid #ef4444"}},loading:{iconTheme:{primary:"#3b82f6",secondary:"#fff"}}}}),ep=[{id:"record",icon:"",label:"Start recording",shortcut:"R",category:"Actions"},{id:"stop",icon:"",label:"Stop recording",shortcut:"S",category:"Actions"},{id:"view-dashboard",icon:"",label:"Go to Dashboard",shortcut:"1",category:"Navigation"},{id:"view-recordings",icon:"",label:"Go to Recordings",shortcut:"2",category:"Navigation"},{id:"view-actions",icon:"",label:"Go to Actions",shortcut:"3",category:"Navigation"},{id:"filter-pending",icon:"",label:"Filter: Pending",category:"Filters"},{id:"filter-approved",icon:"",label:"Filter: Approved",category:"Filters"},{id:"filter-all",icon:"",label:"Filter: All",category:"Filters"}],qp=z.memo(({cmd:i,isSelected:n,onClick:r})=>v.jsxs("button",{onClick:r,className:`
      w-full flex items-center gap-3 px-4 py-2.5 text-left
      ${n?"bg-spratt-blue text-white":"text-slate-700 hover:bg-slate-50"}
    `,children:[v.jsx("span",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-sm ${n?"bg-white/20":"bg-slate-100"}`,children:i.icon}),v.jsx("span",{className:"flex-1 text-sm font-medium",children:i.label}),i.shortcut&&v.jsx("kbd",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${n?"bg-white/20":"bg-slate-100 border border-slate-200"}`,children:i.shortcut})]}));qp.displayName="CommandItem";const Lp=z.memo(({isOpen:i,onClose:n,onCommand:r})=>{const[l,c]=z.useState(""),[d,f]=z.useState(0),m=z.useRef(null),p=z.useMemo(()=>l===""?ep:ep.filter(_=>_.label.toLowerCase().includes(l.toLowerCase())),[l]),g=z.useMemo(()=>p.reduce((_,x)=>(_[x.category]||(_[x.category]=[]),_[x.category].push(x),_),{}),[p]);z.useEffect(()=>{if(i){c(""),f(0);const _=setTimeout(()=>m.current?.focus(),0);return()=>clearTimeout(_)}},[i]);const b=z.useCallback(_=>{c(_),f(0)},[]);return z.useEffect(()=>{const _=x=>{if(i)switch(x.key){case"ArrowDown":x.preventDefault(),f(S=>Math.min(S+1,p.length-1));break;case"ArrowUp":x.preventDefault(),f(S=>Math.max(S-1,0));break;case"Enter":x.preventDefault(),p[d]&&(r(p[d].id),n());break;case"Escape":x.preventDefault(),n();break}};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[i,p,d,r,n]),i?v.jsx("div",{className:"fixed inset-0 z-50 overlay-backdrop flex items-start justify-center pt-[12vh]",onClick:n,children:v.jsxs("div",{className:"w-full max-w-lg mx-4 bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden animate-scale-in",onClick:_=>_.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-slate-100",children:[v.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),v.jsx("input",{ref:m,type:"text",value:l,onChange:_=>b(_.target.value),placeholder:"Search commands...",className:"flex-1 text-base bg-transparent outline-none"}),v.jsx("kbd",{className:"px-2 py-1 text-xs text-slate-400 bg-slate-100 rounded border border-slate-200",children:"esc"})]}),v.jsx("div",{className:"max-h-80 overflow-y-auto py-2",children:p.length===0?v.jsx("div",{className:"px-4 py-8 text-center text-slate-500",children:"No commands found"}):Object.entries(g).map(([_,x])=>v.jsxs("div",{children:[v.jsx("div",{className:"px-4 py-2 text-[10px] font-semibold text-slate-400 uppercase tracking-wider",children:_}),x.map(S=>{const A=p.indexOf(S);return v.jsx(qp,{cmd:S,isSelected:A===d,onClick:()=>{r(S.id),n()}},S.id)})]},_))}),v.jsxs("div",{className:"px-4 py-2.5 bg-slate-50 border-t border-slate-100 flex items-center gap-4 text-[11px] text-slate-500",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded border border-slate-200",children:""})," navigate"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-white rounded border border-slate-200",children:""})," select"]})]})]})}):null});Lp.displayName="CommandPalette";const yw=()=>{const[i,n]=z.useState(!1);return z.useEffect(()=>{const r=l=>{(l.metaKey||l.ctrlKey)&&l.key==="k"&&(l.preventDefault(),n(c=>!c))};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]),{isOpen:i,setIsOpen:n,close:()=>n(!1)}};function vw(){const{user:i,loading:n}=_s(),{isOpen:r,close:l}=yw(),[c,d]=z.useState(!1),[f,m]=z.useState("dashboard"),[p,g]=z.useState("pending"),[b,_]=z.useState(null),x=z.useCallback(A=>{_(A||null)},[]),S=z.useCallback(A=>{switch(A){case"record":d(!0),setTimeout(()=>d(!1),100);break;case"view-dashboard":m("dashboard");break;case"view-recordings":m("recordings");break;case"view-actions":m("actions");break;case"filter-pending":m("actions"),g("pending");break;case"filter-approved":m("actions"),g("approved");break;case"filter-all":m("actions"),g("all");break}},[]);return n?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-surface-secondary",children:v.jsxs("div",{className:"text-center",children:[v.jsx("img",{src:"/Spratt_Logo.png",alt:"Spratt",className:"h-10 mx-auto mb-6 opacity-60"}),v.jsxs("div",{className:"flex items-center justify-center gap-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-spratt-blue animate-pulse",style:{animationDelay:"0ms"}}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-spratt-blue animate-pulse",style:{animationDelay:"150ms"}}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-spratt-blue animate-pulse",style:{animationDelay:"300ms"}})]})]})}):i?v.jsxs(v.Fragment,{children:[v.jsx(Bp,{activeView:f,onViewChange:m,triggerRecord:c,actionFilter:p,onActionFilterChange:g,editingActionId:b,onEditAction:x}),v.jsx(Lp,{isOpen:r,onClose:l,onCommand:S})]}):v.jsx(Tp,{})}function bw(){return z.useEffect(()=>{aw()},[]),v.jsxs(Jb,{children:[v.jsx(gw,{}),v.jsx(vw,{})]})}v0.createRoot(document.getElementById("root")).render(v.jsx(z.StrictMode,{children:v.jsx(bw,{})}));
